(function(){/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
;
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD
		define(['jquery'], factory);
	} else if (typeof exports === 'object') {
		// CommonJS
		factory(require('jquery'));
	} else {
		// Browser globals
		factory(jQuery);
	}
}(function ($) {

	var pluses = /\+/g;

	function encode(s) {
		return config.raw ? s : encodeURIComponent(s);
	}

	function decode(s) {
		return config.raw ? s : decodeURIComponent(s);
	}

	function stringifyCookieValue(value) {
		return encode(config.json ? JSON.stringify(value) : String(value));
	}

	function parseCookieValue(s) {
		if (s.indexOf('"') === 0) {
			// This is a quoted cookie as according to RFC2068, unescape...
			s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
		}

		try {
			// Replace server-side written pluses with spaces.
			// If we can't decode the cookie, ignore it, it's unusable.
			// If we can't parse the cookie, ignore it, it's unusable.
			s = decodeURIComponent(s.replace(pluses, ' '));
			return config.json ? JSON.parse(s) : s;
		} catch(e) {}
	}

	function read(s, converter) {
		var value = config.raw ? s : parseCookieValue(s);
		return $.isFunction(converter) ? converter(value) : value;
	}

	var config = $.cookie = function (key, value, options) {

		// Write

		if (value !== undefined && !$.isFunction(value)) {
			options = $.extend({}, config.defaults, options);

			if (typeof options.expires === 'number') {
				var days = options.expires, t = options.expires = new Date();
				t.setTime(+t + days * 864e+5);
			}

			return (document.cookie = [
				encode(key), '=', stringifyCookieValue(value),
				options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
				options.path    ? '; path=' + options.path : '',
				options.domain  ? '; domain=' + options.domain : '',
				options.secure  ? '; secure' : ''
			].join(''));
		}

		// Read

		var result = key ? undefined : {};

		// To prevent the for loop in the first place assign an empty array
		// in case there are no cookies at all. Also prevents odd result when
		// calling $.cookie().
		var cookies = document.cookie ? document.cookie.split('; ') : [];

		for (var i = 0, l = cookies.length; i < l; i++) {
			var parts = cookies[i].split('=');
			var name = decode(parts.shift());
			var cookie = parts.join('=');

			if (key && key === name) {
				// If second argument (value) is a function it's a converter...
				result = read(cookie, value);
				break;
			}

			// Prevent storing a cookie that we couldn't decode.
			if (!key && (cookie = read(cookie)) !== undefined) {
				result[name] = cookie;
			}
		}

		return result;
	};

	config.defaults = {};

	$.removeCookie = function (key, options) {
		if ($.cookie(key) === undefined) {
			return false;
		}

		// Must not alter options, thus extending a fresh object...
		$.cookie(key, '', $.extend({}, options, { expires: -1 }));
		return !$.cookie(key);
	};

}));
;
/*!
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * rangeinput/rangeinput.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
(function(a){a.tools=a.tools||{version:"v1.2.7"};var b;b=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var c,d;a.fn.drag=function(b){document.ondragstart=function(){return!1},b=a.extend({x:!0,y:!0,drag:!0},b),c=c||a(document).on("mousedown mouseup",function(e){var f=a(e.target);if(e.type=="mousedown"&&f.data("drag")){var g=f.position(),h=e.pageX-g.left,i=e.pageY-g.top,j=!0;c.on("mousemove.drag",function(a){var c=a.pageX-h,e=a.pageY-i,g={};b.x&&(g.left=c),b.y&&(g.top=e),j&&(f.trigger("dragStart"),j=!1),b.drag&&f.css(g),f.trigger("drag",[e,c]),d=f}),e.preventDefault()}else try{d&&d.trigger("dragEnd")}finally{c.off("mousemove.drag"),d=null}});return this.data("drag",!0)};function e(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function f(a,b){var c=parseInt(a.css(b),10);if(c)return c;var d=a[0].currentStyle;return d&&d.width&&parseInt(d.width,10)}function g(a){var b=a.data("events");return b&&b.onSlide}function h(b,c){var d=this,h=c.css,i=a("<div><div/><a href='#'/></div>").data("rangeinput",d),j,k,l,m,n;b.before(i);var o=i.addClass(h.slider).find("a").addClass(h.handle),p=i.find("div").addClass(h.progress);a.each("min,max,step,value".split(","),function(a,d){var e=b.attr(d);parseFloat(e)&&(c[d]=parseFloat(e,10))});var q=c.max-c.min,r=c.step=="any"?0:c.step,s=c.precision;s===undefined&&(s=r.toString().split("."),s=s.length===2?s[1].length:0);if(b.attr("type")=="range"){var t=b.clone().wrap("<div/>").parent().html(),u=a(t.replace(/type/i,"type=text data-orig-type"));u.val(c.value),b.replaceWith(u),b=u}b.addClass(h.input);var v=a(d).add(b),w=!0;function x(a,f,g,h){g===undefined?g=f/m*q:h&&(g-=c.min),r&&(g=Math.round(g/r)*r);if(f===undefined||r)f=g*m/q;if(isNaN(g))return d;f=Math.max(0,Math.min(f,m)),g=f/m*q;if(h||!j)g+=c.min;j&&(h?f=m-f:g=c.max-g),g=e(g,s);var i=a.type=="click";if(w&&k!==undefined&&!i){a.type="onSlide",v.trigger(a,[g,f]);if(a.isDefaultPrevented())return d}var l=i?c.speed:0,t=i?function(){a.type="change",v.trigger(a,[g])}:null;j?(o.animate({top:f},l,t),c.progress&&p.animate({height:m-f+o.height()/2},l)):(o.animate({left:f},l,t),c.progress&&p.animate({width:f+o.width()/2},l)),k=g,n=f,b.val(g);return d}a.extend(d,{getValue:function(){return k},setValue:function(b,c){y();return x(c||a.Event("api"),undefined,b,!0)},getConf:function(){return c},getProgress:function(){return p},getHandle:function(){return o},getInput:function(){return b},step:function(b,e){e=e||a.Event();var f=c.step=="any"?1:c.step;d.setValue(k+f*(b||1),e)},stepUp:function(a){return d.step(a||1)},stepDown:function(a){return d.step(-a||-1)}}),a.each("onSlide,change".split(","),function(b,e){a.isFunction(c[e])&&a(d).on(e,c[e]),d[e]=function(b){b&&a(d).on(e,b);return d}}),o.drag({drag:!1}).on("dragStart",function(){y(),w=g(a(d))||g(b)}).on("drag",function(a,c,d){if(b.is(":disabled"))return!1;x(a,j?c:d)}).on("dragEnd",function(a){a.isDefaultPrevented()||(a.type="change",v.trigger(a,[k]))}).click(function(a){return a.preventDefault()}),i.click(function(a){if(b.is(":disabled")||a.target==o[0])return a.preventDefault();y();var c=j?o.height()/2:o.width()/2;x(a,j?m-l-c+a.pageY:a.pageX-l-c)}),c.keyboard&&b.keydown(function(c){if(!b.attr("readonly")){var e=c.keyCode,f=a([75,76,38,33,39]).index(e)!=-1,g=a([74,72,40,34,37]).index(e)!=-1;if((f||g)&&!(c.shiftKey||c.altKey||c.ctrlKey)){f?d.step(e==33?10:1,c):g&&d.step(e==34?-10:-1,c);return c.preventDefault()}}}),b.blur(function(b){var c=a(this).val();c!==k&&d.setValue(c,b)}),a.extend(b[0],{stepUp:d.stepUp,stepDown:d.stepDown});function y(){j=c.vertical||f(i,"height")>f(i,"width"),j?(m=f(i,"height")-f(o,"height"),l=i.offset().top+m):(m=f(i,"width")-f(o,"width"),l=i.offset().left)}function z(){y(),d.setValue(c.value!==undefined?c.value:c.min)}z(),m||a(window).load(z)}a.expr[":"].range=function(b){var c=b.getAttribute("type");return c&&c=="range"||a(b).filter("input").data("rangeinput")},a.fn.rangeinput=function(c){if(this.data("rangeinput"))return this;c=a.extend(!0,{},b.conf,c);var d;this.each(function(){var b=new h(a(this),a.extend(!0,{},c)),e=b.getInput().data("rangeinput",b);d=d?d.add(e):e});return d?d:this}})(jQuery);
;
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();;
(function($){
	/**
	 * helps you to detect user activity/userinactivity in an html-area
	 * 
	 *  usage:
	 *  
	 *  $('div.my-element')
	 *  	.bind('useractive', function(e){
	 *  		// user is active in this area
	 *  	})
	 *  	.bind('userinactive', function(e){
	 *  		// user is inactive in this area
	 *  	})
	 *  ;
	 *  
	 *  more advanced usage:
	 *  
	 *  $('div.my-element')
	 *  	.bind('useractive', function(e){
	 *  		// user is active in this area
	 *  	})
	 *  	.bind('userinactive', {idletime: 1500}, function(e){
	 *  		// user is inactive in this area
	 *  	})
	 *  ;
	 */
	if(!$.support.opacity && !$.opacityRemoveFix){
		var oldStyle = $.style;
		$.style = function(elem, name, value){
			var ret = oldStyle(elem, name, value);
			if(name === 'opacity' && value == 1){
				elem.style.filter = (elem.style.filter || '').replace('alpha(opacity=100)', '');
			}
			return ret;
		};
		$.opacityRemoveFix = true;
	}
	var activity = {
		add: function(elem, cfg, name){
			var data 		= $.data(elem, 'jmeuseractivity') || $.data(elem, 'jmeuseractivity', {idletime: 2500, idle: true, trigger: {}}),
				jElm 		= $(elem),
				setInactive = function(){
					if(!data.idle){
						data.idle = true;
						if ( data.trigger.userinactive ) {
							jElm.trigger('userinactive');
						}
					}
				},
				setActive 	= function(e){
					if(!e || (e.type === 'mousemove' && e.pageX === x && e.pageY === y)){return;}
					if(e.type === 'mousemove'){
						 x = e.pageX;
						 y = e.pageY;
					}
					if(data.idleTimer){
						clearTimeout(data.idleTimer);
					}
					data.idleTimer = setTimeout(setInactive, data.idletime);
					if(data.idle){
						data.idle = false;
						if( data.trigger.useractive ){
							jElm.trigger('useractive');
						}
					}
				},
				x, y
			;
			
			data.idletime = (cfg || {}).idletime || data.idletime;
			if(cfg && 'idle' in cfg){
				data.idle = cfg.idle;
			}
			data.trigger[name] = true;
			
			if( !data.bound ){
				jElm
					.bind('mouseleave.jmeuseractivity', setInactive)
					.bind('mousemove.jmeuseractivity focusin.jmeuseractivity mouseenter.jmeuseractivity keydown.jmeuseractivity keyup.jmeuseractivity mousedown.jmeuseractivity', setActive)
				;
				data.bound = true;
			}
			if(!data.idle){
				setActive({type: 'initunidled'});
			}
		},
		remove: function(elem, name){
			var data = $.data(elem, 'jmeuseractivity') || $.data(elem, 'jmeuseractivity', {idletime: 2500, idle: true, trigger: {}});
			data.trigger[name] = false;
			if(!data.trigger.useractive && !data.trigger.userinactive){
				$(elem).unbind('.jmeuseractivity');
				data.bound = false;
			}
		}
	};
	$.each(['useractive', 'userinactive'], function(i, name){
		$.event.special[name] = {
			setup: function(cfg){
				activity.add(this, cfg, name);
			},
			teardown: function(){
				activity.remove(this, name);
			}
		};
	});
	
	
})(jQuery);;
/*
    http://www.JSON.org/json2.js
    2011-10-19

    Public Domain.

    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.

    See http://www.JSON.org/js.html


    This code should be minified before deployment.
    See http://javascript.crockford.com/jsmin.html

    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO
    NOT CONTROL.


    This file creates a global JSON object containing two methods: stringify
    and parse.

        JSON.stringify(value, replacer, space)
            value       any JavaScript value, usually an object or array.

            replacer    an optional parameter that determines how object
                        values are stringified for objects. It can be a
                        function or an array of strings.

            space       an optional parameter that specifies the indentation
                        of nested structures. If it is omitted, the text will
                        be packed without extra whitespace. If it is a number,
                        it will specify the number of spaces to indent at each
                        level. If it is a string (such as '\t' or '&nbsp;'),
                        it contains the characters used to indent at each level.

            This method produces a JSON text from a JavaScript value.

            When an object value is found, if the object contains a toJSON
            method, its toJSON method will be called and the result will be
            stringified. A toJSON method does not serialize: it returns the
            value represented by the name/value pair that should be serialized,
            or undefined if nothing should be serialized. The toJSON method
            will be passed the key associated with the value, and this will be
            bound to the value

            For example, this would serialize Dates as ISO strings.

                Date.prototype.toJSON = function (key) {
                    function f(n) {
                        // Format integers to have at least two digits.
                        return n < 10 ? '0' + n : n;
                    }

                    return this.getUTCFullYear()   + '-' +
                         f(this.getUTCMonth() + 1) + '-' +
                         f(this.getUTCDate())      + 'T' +
                         f(this.getUTCHours())     + ':' +
                         f(this.getUTCMinutes())   + ':' +
                         f(this.getUTCSeconds())   + 'Z';
                };

            You can provide an optional replacer method. It will be passed the
            key and value of each member, with this bound to the containing
            object. The value that is returned from your method will be
            serialized. If your method returns undefined, then the member will
            be excluded from the serialization.

            If the replacer parameter is an array of strings, then it will be
            used to select the members to be serialized. It filters the results
            such that only members with keys listed in the replacer array are
            stringified.

            Values that do not have JSON representations, such as undefined or
            functions, will not be serialized. Such values in objects will be
            dropped; in arrays they will be replaced with null. You can use
            a replacer function to replace those with JSON values.
            JSON.stringify(undefined) returns undefined.

            The optional space parameter produces a stringification of the
            value that is filled with line breaks and indentation to make it
            easier to read.

            If the space parameter is a non-empty string, then that string will
            be used for indentation. If the space parameter is a number, then
            the indentation will be that many spaces.

            Example:

            text = JSON.stringify(['e', {pluribus: 'unum'}]);
            // text is '["e",{"pluribus":"unum"}]'


            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\t');
            // text is '[\n\t"e",\n\t{\n\t\t"pluribus": "unum"\n\t}\n]'

            text = JSON.stringify([new Date()], function (key, value) {
                return this[key] instanceof Date ?
                    'Date(' + this[key] + ')' : value;
            });
            // text is '["Date(---current time---)"]'


        JSON.parse(text, reviver)
            This method parses a JSON text to produce an object or array.
            It can throw a SyntaxError exception.

            The optional reviver parameter is a function that can filter and
            transform the results. It receives each of the keys and values,
            and its return value is used instead of the original value.
            If it returns what it received, then the structure is not modified.
            If it returns undefined then the member is deleted.

            Example:

            // Parse the text. Values that look like ISO date strings will
            // be converted to Date objects.

            myData = JSON.parse(text, function (key, value) {
                var a;
                if (typeof value === 'string') {
                    a =
/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(value);
                    if (a) {
                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],
                            +a[5], +a[6]));
                    }
                }
                return value;
            });

            myData = JSON.parse('["Date(09/09/2001)"]', function (key, value) {
                var d;
                if (typeof value === 'string' &&
                        value.slice(0, 5) === 'Date(' &&
                        value.slice(-1) === ')') {
                    d = new Date(value.slice(5, -1));
                    if (d) {
                        return d;
                    }
                }
                return value;
            });


    This is a reference implementation. You are free to copy, modify, or
    redistribute.
*/

/*jslint evil: true, regexp: true */

/*members "", "\b", "\t", "\n", "\f", "\r", "\"", JSON, "\\", apply,
    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,
    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,
    lastIndex, length, parse, prototype, push, replace, slice, stringify,
    test, toJSON, toString, valueOf
*/


// Create a JSON object only if one does not already exist. We create the
// methods in a closure to avoid creating global variables.

var JSON;
if (!JSON) {
    JSON = {};
}

(function () {
    'use strict';

    function f(n) {
        // Format integers to have at least two digits.
        return n < 10 ? '0' + n : n;
    }

    if (typeof Date.prototype.toJSON !== 'function') {

        Date.prototype.toJSON = function (key) {

            return isFinite(this.valueOf())
                ? this.getUTCFullYear()     + '-' +
                    f(this.getUTCMonth() + 1) + '-' +
                    f(this.getUTCDate())      + 'T' +
                    f(this.getUTCHours())     + ':' +
                    f(this.getUTCMinutes())   + ':' +
                    f(this.getUTCSeconds())   + 'Z'
                : null;
        };

        String.prototype.toJSON      =
            Number.prototype.toJSON  =
            Boolean.prototype.toJSON = function (key) {
                return this.valueOf();
            };
    }

    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        gap,
        indent,
        meta = {    // table of character substitutions
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"' : '\\"',
            '\\': '\\\\'
        },
        rep;


    function quote(string) {

// If the string contains no control characters, no quote characters, and no
// backslash characters, then we can safely slap some quotes around it.
// Otherwise we must also replace the offending characters with safe escape
// sequences.

        escapable.lastIndex = 0;
        return escapable.test(string) ? '"' + string.replace(escapable, function (a) {
            var c = meta[a];
            return typeof c === 'string'
                ? c
                : '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + string + '"';
    }


    function str(key, holder) {

// Produce a string from holder[key].

        var i,          // The loop counter.
            k,          // The member key.
            v,          // The member value.
            length,
            mind = gap,
            partial,
            value = holder[key];

// If the value has a toJSON method, call it to obtain a replacement value.

        if (value && typeof value === 'object' &&
                typeof value.toJSON === 'function') {
            value = value.toJSON(key);
        }

// If we were called with a replacer function, then call the replacer to
// obtain a replacement value.

        if (typeof rep === 'function') {
            value = rep.call(holder, key, value);
        }

// What happens next depends on the value's type.

        switch (typeof value) {
        case 'string':
            return quote(value);

        case 'number':

// JSON numbers must be finite. Encode non-finite numbers as null.

            return isFinite(value) ? String(value) : 'null';

        case 'boolean':
        case 'null':

// If the value is a boolean or null, convert it to a string. Note:
// typeof null does not produce 'null'. The case is included here in
// the remote chance that this gets fixed someday.

            return String(value);

// If the type is 'object', we might be dealing with an object or an array or
// null.

        case 'object':

// Due to a specification blunder in ECMAScript, typeof null is 'object',
// so watch out for that case.

            if (!value) {
                return 'null';
            }

// Make an array to hold the partial results of stringifying this object value.

            gap += indent;
            partial = [];

// Is the value an array?

            if (Object.prototype.toString.apply(value) === '[object Array]') {

// The value is an array. Stringify every element. Use null as a placeholder
// for non-JSON values.

                length = value.length;
                for (i = 0; i < length; i += 1) {
                    partial[i] = str(i, value) || 'null';
                }

// Join all of the elements together, separated with commas, and wrap them in
// brackets.

                v = partial.length === 0
                    ? '[]'
                    : gap
                    ? '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']'
                    : '[' + partial.join(',') + ']';
                gap = mind;
                return v;
            }

// If the replacer is an array, use it to select the members to be stringified.

            if (rep && typeof rep === 'object') {
                length = rep.length;
                for (i = 0; i < length; i += 1) {
                    if (typeof rep[i] === 'string') {
                        k = rep[i];
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            } else {

// Otherwise, iterate through all of the keys in the object.

                for (k in value) {
                    if (Object.prototype.hasOwnProperty.call(value, k)) {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            }

// Join all of the member texts together, separated with commas,
// and wrap them in braces.

            v = partial.length === 0
                ? '{}'
                : gap
                ? '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}'
                : '{' + partial.join(',') + '}';
            gap = mind;
            return v;
        }
    }

// If the JSON object does not yet have a stringify method, give it one.

    if (typeof JSON.stringify !== 'function') {
        JSON.stringify = function (value, replacer, space) {

// The stringify method takes a value and an optional replacer, and an optional
// space parameter, and returns a JSON text. The replacer can be a function
// that can replace values, or an array of strings that will select the keys.
// A default replacer method can be provided. Use of the space parameter can
// produce text that is more easily readable.

            var i;
            gap = '';
            indent = '';

// If the space parameter is a number, make an indent string containing that
// many spaces.

            if (typeof space === 'number') {
                for (i = 0; i < space; i += 1) {
                    indent += ' ';
                }

// If the space parameter is a string, it will be used as the indent string.

            } else if (typeof space === 'string') {
                indent = space;
            }

// If there is a replacer, it must be a function or an array.
// Otherwise, throw an error.

            rep = replacer;
            if (replacer && typeof replacer !== 'function' &&
                    (typeof replacer !== 'object' ||
                    typeof replacer.length !== 'number')) {
                throw new Error('JSON.stringify');
            }

// Make a fake root object containing our value under the key of ''.
// Return the result of stringifying the value.

            return str('', {'': value});
        };
    }


// If the JSON object does not yet have a parse method, give it one.

    if (typeof JSON.parse !== 'function') {
        JSON.parse = function (text, reviver) {

// The parse method takes a text and an optional reviver function, and returns
// a JavaScript value if the text is a valid JSON text.

            var j;

            function walk(holder, key) {

// The walk method is used to recursively walk the resulting structure so
// that modifications can be made.

                var k, v, value = holder[key];
                if (value && typeof value === 'object') {
                    for (k in value) {
                        if (Object.prototype.hasOwnProperty.call(value, k)) {
                            v = walk(value, k);
                            if (v !== undefined) {
                                value[k] = v;
                            } else {
                                delete value[k];
                            }
                        }
                    }
                }
                return reviver.call(holder, key, value);
            }


// Parsing happens in four stages. In the first stage, we replace certain
// Unicode characters with escape sequences. JavaScript handles many characters
// incorrectly, either silently deleting them, or treating them as line endings.

            text = String(text);
            cx.lastIndex = 0;
            if (cx.test(text)) {
                text = text.replace(cx, function (a) {
                    return '\\u' +
                        ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                });
            }

// In the second stage, we run the text against regular expressions that look
// for non-JSON patterns. We are especially concerned with '()' and 'new'
// because they can cause invocation, and '=' because it can cause mutation.
// But just to be safe, we want to reject all unexpected forms.

// We split the second stage into 4 regexp operations in order to work around
// crippling inefficiencies in IE's and Safari's regexp engines. First we
// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we
// replace all simple value tokens with ']' characters. Third, we delete all
// open brackets that follow a colon or comma or that begin the text. Finally,
// we look to see that the remaining characters are only whitespace or ']' or
// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.

            if (/^[\],:{}\s]*$/
                    .test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')
                        .replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']')
                        .replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {

// In the third stage we use the eval function to compile the text into a
// JavaScript structure. The '{' operator is subject to a syntactic ambiguity
// in JavaScript: it can begin a block or an object literal. We wrap the text
// in parens to eliminate the ambiguity.

                j = eval('(' + text + ')');

// In the optional fourth stage, we recursively walk the new structure, passing
// each name/value pair to a reviver function for possible transformation.

                return typeof reviver === 'function'
                    ? walk({'': j}, '')
                    : j;
            }

// If the text is not JSON parseable, then a SyntaxError is thrown.

            throw new SyntaxError('JSON.parse');
        };
    }
}());
;
/**
 * http://www.openjs.com/scripts/events/keyboard_shortcuts/
 * Version : 2.01.B
 * By Binny V A
 * License : BSD
 */
var shortcut = {
	'all_shortcuts':{},//All the shortcuts are stored in this array
	'add': function(shortcut_combination,callback,opt) {
		//Provide a set of default options
		var default_options = {
			'type':'keydown',
			'propagate':false,
			'disable_in_input':false,
			'target':document,
			'keycode':false
		}
		if(!opt) opt = default_options;
		else {
			for(var dfo in default_options) {
				if(typeof opt[dfo] == 'undefined') opt[dfo] = default_options[dfo];
			}
		}

		var ele = opt.target;
		if(typeof opt.target == 'string') ele = document.getElementById(opt.target);
		var ths = this;
		shortcut_combination = shortcut_combination.toLowerCase();

		//The function to be called at keypress
		var func = function(e) {
			e = e || window.event;
			
			if(opt['disable_in_input']) { //Don't enable shortcut keys in Input, Textarea fields
				var element;
				if(e.target) element=e.target;
				else if(e.srcElement) element=e.srcElement;
				if(element.nodeType==3) element=element.parentNode;

				if(element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;
			}
	
			//Find Which key is pressed
			if (e.keyCode) code = e.keyCode;
			else if (e.which) code = e.which;
			var character = String.fromCharCode(code).toLowerCase();
			
			if(code == 188) character=","; //If the user presses , when the type is onkeydown
			if(code == 190) character="."; //If the user presses , when the type is onkeydown

			var keys = shortcut_combination.split("+");
			//Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked
			var kp = 0;
			
			//Work around for stupid Shift key bug created by using lowercase - as a result the shift+num combination was broken
			var shift_nums = {
				"`":"~",
				"1":"!",
				"2":"@",
				"3":"#",
				"4":"$",
				"5":"%",
				"6":"^",
				"7":"&",
				"8":"*",
				"9":"(",
				"0":")",
				"-":"_",
				"=":"+",
				";":":",
				"'":"\"",
				",":"<",
				".":">",
				"/":"?",
				"\\":"|"
			}
			//Special Keys - and their codes
			var special_keys = {
				'esc':27,
				'escape':27,
				'tab':9,
				'space':32,
				'return':13,
				'enter':13,
				'backspace':8,
	
				'scrolllock':145,
				'scroll_lock':145,
				'scroll':145,
				'capslock':20,
				'caps_lock':20,
				'caps':20,
				'numlock':144,
				'num_lock':144,
				'num':144,
				
				'pause':19,
				'break':19,
				
				'insert':45,
				'home':36,
				'delete':46,
				'end':35,
				
				'pageup':33,
				'page_up':33,
				'pu':33,
	
				'pagedown':34,
				'page_down':34,
				'pd':34,
	
				'left':37,
				'up':38,
				'right':39,
				'down':40,
	
				'f1':112,
				'f2':113,
				'f3':114,
				'f4':115,
				'f5':116,
				'f6':117,
				'f7':118,
				'f8':119,
				'f9':120,
				'f10':121,
				'f11':122,
				'f12':123
			}
	
			var modifiers = { 
				shift: { wanted:false, pressed:false},
				ctrl : { wanted:false, pressed:false},
				alt  : { wanted:false, pressed:false},
				meta : { wanted:false, pressed:false}	//Meta is Mac specific
			};
                        
			if(e.ctrlKey)	modifiers.ctrl.pressed = true;
			if(e.shiftKey)	modifiers.shift.pressed = true;
			if(e.altKey)	modifiers.alt.pressed = true;
			if(e.metaKey)   modifiers.meta.pressed = true;
                        
			for(var i=0; k=keys[i],i<keys.length; i++) {
				//Modifiers
				if(k == 'ctrl' || k == 'control') {
					kp++;
					modifiers.ctrl.wanted = true;

				} else if(k == 'shift') {
					kp++;
					modifiers.shift.wanted = true;

				} else if(k == 'alt') {
					kp++;
					modifiers.alt.wanted = true;
				} else if(k == 'meta') {
					kp++;
					modifiers.meta.wanted = true;
				} else if(k.length > 1) { //If it is a special key
					if(special_keys[k] == code) kp++;
					
				} else if(opt['keycode']) {
					if(opt['keycode'] == code) kp++;

				} else { //The special keys did not match
					if(character == k) kp++;
					else {
						if(shift_nums[character] && e.shiftKey) { //Stupid Shift key bug created by using lowercase
							character = shift_nums[character]; 
							if(character == k) kp++;
						}
					}
				}
			}
			
			if(kp == keys.length && 
						modifiers.ctrl.pressed == modifiers.ctrl.wanted &&
						modifiers.shift.pressed == modifiers.shift.wanted &&
						modifiers.alt.pressed == modifiers.alt.wanted &&
						modifiers.meta.pressed == modifiers.meta.wanted) {
				callback(e);
	
				if(!opt['propagate']) { //Stop the event
					//e.cancelBubble is supported by IE - this will kill the bubbling process.
					e.cancelBubble = true;
					e.returnValue = false;
	
					//e.stopPropagation works in Firefox.
					if (e.stopPropagation) {
						e.stopPropagation();
						e.preventDefault();
					}
					return false;
				}
			}
		}
		this.all_shortcuts[shortcut_combination] = {
			'callback':func, 
			'target':ele, 
			'event': opt['type']
		};
		//Attach the function with the event
		if(ele.addEventListener)
        {
            ele.addEventListener(opt['type'], func, false);
        }
		else {
            if(ele.attachEvent)
            {
                ele.attachEvent('on'+opt['type'], func);
            }
            else {
                ele['on'+opt['type']] = func;
            }
        }
	},

	//Remove the shortcut - just specify the shortcut and I will remove the binding
	'remove':function(shortcut_combination) {
		shortcut_combination = shortcut_combination.toLowerCase();
		var binding = this.all_shortcuts[shortcut_combination];
		delete(this.all_shortcuts[shortcut_combination])

		if(!binding) return;
		var type = binding['event'];
		var ele = binding['target'];
		var callback = binding['callback'];

		if(ele.removeEventListener) {
            ele.removeEventListener(type, callback, false);
        }
		else {
            if(ele.detachEvent) {
                ele.detachEvent('on'+type, callback);
            }
            else {
                ele['on'+type] = false;
            }
        }
	}
};;
/*! BigScreen
 * v2.0.5 - 2015-05-02
 *
 * Copyright 2015 Brad Dougherty <me@brad.is>; MIT License
 *
 * Fixed by Florian Diesner <fd@nettrek.de> on 2015-11-06
 * - exit() now respects exit.fn() call of html5 video element
 *   instead of generally calling the function in document.
 *
 */!function(e,n,t){"use strict";function r(e){var n=null;if("VIDEO"===e.tagName)n=e;else{var t=e.getElementsByTagName("video");t[0]&&(n=t[0])}return n}function l(e){var n=r(e);if(n&&n.webkitEnterFullscreen){try{n.readyState<n.HAVE_METADATA?(n.addEventListener("loadedmetadata",function l(){n.removeEventListener("loadedmetadata",l,!1),n.webkitEnterFullscreen(),d=!!n.getAttribute("controls")},!1),n.load()):(n.webkitEnterFullscreen(),d=!!n.getAttribute("controls")),s=n}catch(t){return E("not_supported",e)}return!0}return E(void 0===c.request?"not_supported":"not_enabled",e)}function o(){h.element||(v(),u())}function i(){t&&"webkitfullscreenchange"===c.change&&window.addEventListener("resize",o,!1)}function u(){t&&"webkitfullscreenchange"===c.change&&window.removeEventListener("resize",o,!1)}var a=/i(Pad|Phone|Pod)/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,c=function(){var e=n.createElement("video"),t={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},r={};for(var l in t)for(var o=0,i=t[l].length;i>o;o++)if(t[l][o]in e||t[l][o]in n||"on"+t[l][o].toLowerCase()in n){r[l]=t[l][o];break}return r}(),s=null,d=null,f=function(){},m=[],b=!1;navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(b=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var g=function(e){var n=m[m.length-1];n&&(e!==n.element&&e!==s||!n.hasEntered)&&("VIDEO"===e.tagName&&(s=e),1===m.length&&h.onenter(h.element),n.enter.call(n.element,e||n.element),n.hasEntered=!0)},v=function(){!s||d||a||(s.setAttribute("controls","controls"),s.removeAttribute("controls")),s=null,d=null;var e=m.pop();e&&(e.exit.call(e.element),h.element||(m.forEach(function(e){e.exit.call(e.element)}),m=[],h.onexit()))},E=function(e,n){if(m.length>0){var t=m.pop();n=n||t.element,t.error.call(n,e),h.onerror(n,e)}},h={request:function(e,r,o,i){if(e=e||n.body,m.push({element:e,enter:r||f,exit:o||f,error:i||f}),void 0===c.request)return void l(e);if(t&&n[c.enabled]===!1)return void l(e);if(b!==!1&&32>b)return void l(e);if(t&&void 0===c.enabled)return c.enabled="webkitFullscreenEnabled",e[c.request](),void setTimeout(function(){n[c.element]?n[c.enabled]=!0:(n[c.enabled]=!1,l(e))},250);try{e[c.request](),setTimeout(function(){n[c.element]||E(t?"not_enabled":"not_allowed",e)},1000)}catch(u){E("not_enabled",e)}},exit:function(){u(),"function"==typeof h.element[c.exit]&&h.element[c.exit](),"function"==typeof n[c.exit]&&n[c.exit]()},toggle:function(e,n,t,r){h.element?h.exit():h.request(e,n,t,r)},videoEnabled:function(e){if(h.enabled)return!0;e=e||n.body;var t=r(e);return t&&void 0!==t.webkitSupportsFullscreen?t.readyState<t.HAVE_METADATA?"maybe":t.webkitSupportsFullscreen:!1},onenter:f,onexit:f,onchange:f,onerror:f};try{Object.defineProperties(h,{element:{enumerable:!0,get:function(){return s&&s.webkitDisplayingFullscreen?s:n[c.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"!==c.exit||t?b!==!1&&32>b?!1:n[c.enabled]||!1:!0}}}),c.change&&n.addEventListener(c.change,function(){if(h.onchange(h.element),h.element){var e=m[m.length-2];e&&e.element===h.element?v():(g(h.element),i())}else v()},!1),n.addEventListener("webkitbeginfullscreen",function(e){var n=!0;if(m.length>0)for(var t=0,l=m.length;l>t;t++){var o=r(m[t].element);if(o===e.srcElement){n=!1;break}}n&&m.push({element:e.srcElement,enter:f,exit:f,error:f}),h.onchange(e.srcElement),g(e.srcElement)},!0),n.addEventListener("webkitendfullscreen",function(e){h.onchange(e.srcElement),v(e.srcElement)},!0),c.error&&n.addEventListener(c.error,function(){E("not_allowed")},!1)}catch(w){h.element=null,h.enabled=!1}"function"==typeof define&&define.amd?define(function(){return h}):"undefined"!=typeof module&&module.exports?module.exports=h:e.BigScreen=h}(this,document,self!==top);;
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Hls=e()}}(function(){return function e(t,r,a){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[o]={exports:{}};t[o][0].call(d.exports,function(e){var r=t[o][1][e];return i(r||e)},d,d.exports,e,t,r,a)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(e,t,r){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function n(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},a.prototype.emit=function(e){var t,r,a,n,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(r=this._events[e],s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(o(r))for(n=Array.prototype.slice.call(arguments,1),a=(u=r.slice()).length,l=0;l<a;l++)u[l].apply(this,n);return!0},a.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?a.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.trace),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(e,t){function r(){this.removeListener(e,r),a||(a=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var a=!1;return r.listener=t,this.on(e,r),this},a.prototype.removeListener=function(e,t){var r,a,n,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],n=r.length,a=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=n;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},a.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},a.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},a.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},a.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,r){!function(e){var a=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var a=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return a.path=s.normalizePath(a.path),s.buildURLFromParts(a)}var n=this.parseURL(t);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=s.normalizePath(n.path),s.buildURLFromParts(n)):t;var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(u.netLoc=o.netLoc,"/"!==n.path[0]))if(n.path){var d=o.path,f=d.substring(0,d.lastIndexOf("/")+1)+n.path;u.path=s.normalizePath(f)}else u.path=o.path,n.params||(u.params=o.params,n.query||(u.query=o.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(n.path):n.path),s.buildURLFromParts(u)},parseURL:function(e){var t=a.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"==typeof r&&"object"==typeof t?t.exports=s:"object"==typeof r?r.URLToolkit=s:e.URLToolkit=s}(this)},{}],3:[function(e,t,r){var a=arguments[3],i=arguments[4],n=arguments[5],o=JSON.stringify;t.exports=function(e,t){function r(e){p[e]=!0;for(var t in i[e][1]){var a=i[e][1][t];p[a]||r(a)}}for(var s,l=Object.keys(n),u=0,d=l.length;u<d;u++){var f=l[u],h=n[f].exports;if(h===e||h&&h.default===e){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},u=0,d=l.length;u<d;u++)c[f=l[u]]=f;i[s]=[Function(["require","module","exports"],"("+e+")(self)"),c]}var v=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[s]=s,i[v]=[Function(["require"],"var f = require("+o(s)+");(f.default ? f.default : f)(self);"),g];var p={};r(v);var y="("+a+")({"+Object.keys(p).map(function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"}).join(",")+"},{},["+o(v)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return b;var E=m.createObjectURL(b),_=new Worker(E);return _.objectURL=E,_}},{}],4:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.hlsDefaultConfig=void 0;var i=a(e(5)),n=a(e(6)),o=a(e(7)),s=a(e(8)),l=a(e(48));r.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:l.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:i.default,bufferController:n.default,capLevelController:o.default,fpsController:s.default,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{48:48,5:5,6:6,7:7,8:8}],5:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=a(e(32)),f=e(28),h=e(46),c=a(e(44)),v=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FRAG_LOADING,l.default.FRAG_LOADED,l.default.FRAG_BUFFERED,l.default.ERROR));return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return o(t,e),s(t,[{key:"destroy",value:function(){this.clearTimer(),u.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var r=this.hls,a=e.frag.level,i=r.levels[a].details.live,n=r.config,o=void 0,s=void 0;i?(o=n.abrEwmaFastLive,s=n.abrEwmaSlowLive):(o=n.abrEwmaFastVoD,s=n.abrEwmaSlowVoD),this._bwEstimator=new c.default(r,s,o,n.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"_abandonRulesCheck",value:function(){var e=this.hls,t=e.media,r=this.fragCurrent,a=r.loader,i=e.minAutoLevel;if(!a||a.stats&&a.stats.aborted)return h.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var n=a.stats;if(t&&n&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var o=performance.now()-n.trequest,s=Math.abs(t.playbackRate);if(o>500*r.duration/s){var u=e.levels,f=Math.max(1,n.bw?n.bw/8:1e3*n.loaded/o),c=u[r.level],v=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,g=n.total?n.total:Math.max(n.loaded,Math.round(r.duration*v/8)),p=t.currentTime,y=(g-n.loaded)/f,m=(d.default.bufferInfo(t,p,e.config.maxBufferHole).end-p)/s;if(m<2*r.duration/s&&y>m){var b=void 0,E=void 0;for(E=r.level-1;E>i;E--){var _=u[E].realBitrate?Math.max(u[E].realBitrate,u[E].bitrate):u[E].bitrate;if((b=r.duration*_/(6.4*f))<m)break}b<y&&(h.logger.warn("loading too slow, abort fragment loading and switch to level "+E+":fragLoadedDelay["+E+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+y.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=E,this._bwEstimator.sample(o,n.loaded),a.abort(),this.clearTimer(),e.trigger(l.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:n}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],a=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,i=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:a,duration:i},r.realBitrate=Math.round(8*a/i)}if(e.frag.bitrateTest){var n=e.stats;n.tparsed=n.tbuffered=n.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,r=e.frag;if(!(!0===t.aborted||1!==r.loadCounter||"main"!==r.type||isNaN(r.sn)||r.bitrateTest&&t.tload!==t.tbuffered)){var a=t.tparsed-t.trequest;h.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(a,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"_findBestLevel",value:function(e,t,r,a,i,n,o,s,l){for(var u=i;u>=a;u--){var d=l[u].details,f=d?d.totalduration/d.fragments.length:t,c=!!d&&d.live,v=void 0;v=u<=e?o*r:s*r;var g=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,p=g*f/v;if(h.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(v)+"/"+g+"/"+f+"/"+n+"/"+p),v>g&&(!p||c&&!this.bitrateTestDelay||p<n))return u}return-1}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,a=e.config,i=e.minAutoLevel,n=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=n?n.currentTime:0,u=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():a.abrEwmaDefaultEstimate,c=(d.default.bufferInfo(n,l,a.maxBufferHole).end-l)/u,v=this._findBestLevel(o,s,f,i,t,c,a.abrBandWidthFactor,a.abrBandWidthUpFactor,r);if(v>=0)return v;h.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=s?Math.min(s,a.maxStarvationDelay):a.maxStarvationDelay,p=a.abrBandWidthFactor,y=a.abrBandWidthUpFactor;if(0===c){var m=this.bitrateTestDelay;m&&(g=(s?Math.min(s,a.maxLoadingDelay):a.maxLoadingDelay)-m,h.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),p=y=1)}return v=this._findBestLevel(o,s,f,i,t,c+g,p,y,r),Math.max(v,0)}}]),t}(u.default);r.default=v},{28:28,29:29,30:30,32:32,44:44,46:46}],6:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=e(46),f=e(28),h=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.MANIFEST_PARSED,l.default.BUFFER_RESET,l.default.BUFFER_APPENDING,l.default.BUFFER_CODECS,l.default.BUFFER_EOS,l.default.BUFFER_FLUSHING,l.default.LEVEL_PTS_UPDATED,l.default.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return o(t,e),s(t,[{key:"destroy",value:function(){u.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var a=this.sourceBuffer.audio;if(Math.abs(a.timestampOffset-e.start)>.1){var i=a.updating;try{a.abort()}catch(e){i=!0,d.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(d.logger.warn("change mpeg audio timestamp offset from "+a.timestampOffset+" to "+e.start),a.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,r=e.video||e.levels.length&&e.audio,a=0;e.altAudio&&(t||r)&&(a=(t?1:0)+(r?1:0),d.logger.log(a+" sourceBuffer(s) expected")),this.sourceBufferNb=a}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:"onMediaDetaching",value:function(){d.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){d.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(l.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){d.logger.log("media source opened"),this.hls.trigger(l.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){d.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){d.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;d.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0);this.hls.trigger(l.default.BUFFER_APPENDED,{parent:t,pending:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){d.logger.error("sourceBuffer error:",e),this.hls.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var a in e)if(!t[a]){var i=e[a],n=i.levelCodec||i.codec,o=i.container+";codecs="+n;d.logger.log("creating sourceBuffer("+o+")");try{var s=t[a]=r.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[a]={codec:n,container:i.container},i.buffer=s}catch(e){d.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:o})}}this.hls.trigger(l.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){d.logger.error("sourceBuffer error:",e.event),this.hls.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,r=e.type;for(var a in t)r&&a!==r||t[a].ended||(t[a].ended=!0,d.logger.log(a+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var a=e[r];if(!a.ended)return;if(a.updating)return void(this._needsEos=!0)}d.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){d.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,r=this.sourceBuffer,a=this._levelDuration;if(null!==a&&e&&t&&r&&0!==e.readyState&&"open"===t.readyState){for(var i in r)if(r[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var n=e.duration;(a>this._msDuration&&a>n||n===1/0||isNaN(n))&&(d.logger.log("Updating mediasource duration to "+a.toFixed(3)),this._msDuration=t.duration=a)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var a in r)t+=r[a].buffered.length}catch(e){d.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(l.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void d.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var a=r.shift();try{var i=t[a.type];i?i.updating?r.unshift(a):(i.ended=!1,this.parent=a.parent,i.appendBuffer(a.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){d.logger.error("error while trying to append buffer:"+t.message),r.unshift(a);var n={type:f.ErrorTypes.MEDIA_ERROR,parent:a.parent};if(22===t.code)return this.segments=[],n.details=f.ErrorDetails.BUFFER_FULL_ERROR,n.fatal=!1,void e.trigger(l.default.ERROR,n);if(this.appendError?this.appendError++:this.appendError=1,n.details=f.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return d.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],n.fatal=!0,void e.trigger(l.default.ERROR,n);n.fatal=!1,e.trigger(l.default.ERROR,n)}}}}},{key:"flushBuffer",value:function(e,t,r){var a,i,n,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(d.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var f in u)if(!r||f===r){if(a=u[f],a.ended=!1,a.updating)return d.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<a.buffered.length;i++)if(n=a.buffered.start(i),o=a.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,l=t):(s=Math.max(n,e),l=Math.min(o,t)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,d.logger.log("flush "+f+" ["+s+","+l+"], of ["+n+","+o+"], pos:"+this.media.currentTime),a.remove(s,l),!1}catch(e){d.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else d.logger.warn("abort flushing too many retries");d.logger.log("buffer flushed")}return!0}}]),t}(u.default);r.default=h},{28:28,29:29,30:30,46:46}],7:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=function(e){function t(e){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FPS_DROP_LEVEL_CAPPING,l.default.MEDIA_ATTACHING,l.default.MANIFEST_PARSED))}return o(t,e),s(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var r=this;if(!this.levels)return-1;var a=this.levels.filter(function(a,i){return t.isLevelAllowed(i,r.restrictedLevels)&&i<=e});return t.getMaxLevelByMediaSize(a,this.mediaWidth,this.mediaHeight)}},{key:"mediaWidth",get:function(){var e=void 0,r=this.media;return r&&(e=r.width||r.clientWidth||r.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,r=this.media;return r&&(e=r.height||r.clientHeight||r.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"isLevelAllowed",value:function(e){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)}},{key:"getMaxLevelByMediaSize",value:function(e,t,r){if(!e||e&&!e.length)return-1;for(var a=e.length-1,i=0;i<e.length;i+=1){var n=e[i];if((n.width>=t||n.height>=r)&&function(e,t){return!t||e.width!==t.width||e.height!==t.height}(n,e[i+1])){a=i;break}}return a}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(a(e(29)).default);r.default=u},{29:29,30:30}],8:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=e(46),f=function(e){function t(e){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING))}return o(t,e),s(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(e,t,r){var a=performance.now();if(t){if(this.lastTime){var i=a-this.lastTime,n=r-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*n/i,u=this.hls;if(u.trigger(l.default.FPS_DROP,{currentDropped:n,currentDecoded:o,totalDroppedFrames:r}),s>0&&n>u.config.fpsDroppedMonitoringThreshold*o){var f=u.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=f)&&(f-=1,u.trigger(l.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:u.currentLevel}),u.autoLevelCapping=f,u.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(u.default);r.default=f},{29:29,30:30,46:46}],9:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=a(e(22)),f=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.FRAG_PARSING_METADATA));return r.id3Track=void 0,r.media=void 0,r}return o(t,e),s(t,[{key:"destroy",value:function(){u.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){this.media=e.media,this.media&&(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden")}},{key:"onMediaDetaching",value:function(){this.media=void 0}},{key:"onFragParsingMetadata",value:function(e){for(var t=e.frag,r=e.samples,a=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var n=d.default.getID3Frames(r[i].data);if(n){var o=r[i].pts,s=i<r.length-1?r[i+1].pts:t.endPTS;o===s&&(s+=1e-4);for(var l=0;l<n.length;l++){var u=n[l];if(!d.default.isTimeStampFrame(u)){var f=new a(o,s,"");f.value=u,this.id3Track.addCue(f)}}}}}}]),t}(u.default);r.default=f},{22:22,29:29,30:30}],10:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=e(46),f=e(28),h=a(e(32)),c=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MANIFEST_LOADED,l.default.LEVEL_LOADED,l.default.FRAG_LOADED,l.default.ERROR));return r.ontick=r.tick.bind(r),r._manualLevel=-1,r}return o(t,e),s(t,[{key:"destroy",value:function(){this.cleanTimer(),this._manualLevel=-1}},{key:"cleanTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,r=[],a=[],i={},n=!1,o=!1,s=this.hls,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),h=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(n=!0),u&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(o=!0);var t=i[e.bitrate];void 0===t?(i[e.bitrate]=r.length,e.url=[e.url],e.urlId=0,r.push(e)):r[t].url.push(e.url)}),n&&o?r.forEach(function(e){e.videoCodec&&a.push(e)}):a=r,(a=a.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||h("audio",t))&&(!r||h("video",r))})).length){t=a[0].bitrate,a.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=a;for(var c=0;c<a.length;c++)if(a[c].bitrate===t){this._firstLevel=c,d.logger.log("manifest loaded,"+a.length+" level(s) found, first bitrate:"+t);break}s.trigger(l.default.MANIFEST_PARSED,{levels:a,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:n,altAudio:e.audioTracks.length>0})}else s.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:s.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.cleanTimer(),this._level!==e){d.logger.log("switching to level "+e),this._level=e;var a=t[e];a.level=e,r.trigger(l.default.LEVEL_SWITCH,a),r.trigger(l.default.LEVEL_SWITCHING,a)}var i=t[e],n=i.details;if(!n||!0===n.live){var o=i.urlId;r.trigger(l.default.LEVEL_LOADING,{url:i.url[o],level:e,id:o})}}else r.trigger(l.default.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(e.fatal)e.type===f.ErrorTypes.NETWORK_ERROR&&this.cleanTimer();else{var t=e.details,r=this.hls,a=void 0,i=void 0,n=!1;switch(t){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:a=e.frag.level;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:a=e.context.level,n=!0;break;case f.ErrorDetails.REMUX_ALLOC_ERROR:a=e.level}if(void 0!==a){(i=this._levels[a]).loadError?i.loadError++:i.loadError=1;var o=i.url.length;if(o>1&&i.loadError<o)i.urlId=(i.urlId+1)%o,i.details=void 0,d.logger.warn("level controller,"+t+" for level "+a+": switching to redundant stream id "+i.urlId);else if(-1===this._manualLevel&&a)d.logger.warn("level controller,"+t+": switch-down for next fragment"),r.nextAutoLevel=Math.max(0,a-1);else if(i&&i.details&&i.details.live)d.logger.warn("level controller,"+t+" on live stream, discard"),n&&(this._level=void 0);else if(t===f.ErrorDetails.LEVEL_LOAD_ERROR||t===f.ErrorDetails.LEVEL_LOAD_TIMEOUT){var s=r.media;if(s&&h.default.isBuffered(s,s.currentTime)&&h.default.isBuffered(s,s.currentTime+.5)){var l=r.config.levelLoadingRetryDelay;d.logger.warn("level controller,"+t+", but media buffered, retry in "+l+"ms"),this.timer=setTimeout(this.ontick,l),e.levelRetry=!0}else d.logger.error("cannot recover "+t+" error"),this._level=void 0,this.cleanTimer(),e.fatal=!0}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var r=this._levels[t.level];r&&(r.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var r=this._levels[t];r.loadError=0;var a=e.details;if(a.live){var i=1e3*(a.averagetargetduration?a.averagetargetduration:a.targetduration),n=r.details;n&&a.endSN===n.endSN&&(i/=2,d.logger.log("same live playlist, reload twice faster")),i-=performance.now()-e.stats.trequest,i=Math.max(1e3,Math.round(i)),d.logger.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(this.ontick,i)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e];if(t&&t.url){var r=t.urlId;this.hls.trigger(l.default.LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.nextAutoLevel=e)}}]),t}(u.default);r.default=c},{28:28,29:29,30:30,32:32,46:46}],11:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(43)),u=a(e(32)),d=a(e(20)),f=a(e(30)),h=a(e(29)),c=a(e(33)),v=a(e(47)),g=e(28),p=e(46),y={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},m=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MEDIA_ATTACHED,f.default.MEDIA_DETACHING,f.default.MANIFEST_LOADING,f.default.MANIFEST_PARSED,f.default.LEVEL_LOADED,f.default.KEY_LOADED,f.default.FRAG_LOADED,f.default.FRAG_LOAD_EMERGENCY_ABORTED,f.default.FRAG_PARSING_INIT_SEGMENT,f.default.FRAG_PARSING_DATA,f.default.FRAG_PARSED,f.default.ERROR,f.default.AUDIO_TRACK_SWITCHING,f.default.AUDIO_TRACK_SWITCHED,f.default.BUFFER_CREATED,f.default.BUFFER_APPENDED,f.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r._state=y.STOPPED,r.ontick=r.tick.bind(r),r}return o(t,e),s(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),h.default.prototype.destroy.call(this),this.state=y.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var a=r.startLevel;-1===a&&(a=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=a,this.loadedmetadata=!1}t>0&&-1===e&&(p.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=y.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=y.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y.STOPPED,this.forceStartLoad=!1}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case y.ERROR:break;case y.BUFFER_FLUSHING:this.fragLoadError=0;break;case y.IDLE:this._doTickIdle();break;case y.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=y.IDLE);break;case y.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=y.IDLE);break;case y.ERROR:case y.STOPPED:case y.FRAG_LOADING:case y.PARSING:case y.PARSED:case y.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,r=this.media;if(void 0===this.levelLastLoaded||r||!this.startFragRequested&&t.startFragPrefetch){var a=void 0;a=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,n=this.levels[i];if(n){var o=n.bitrate,s=void 0;s=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var l=u.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,a,t.maxBufferHole),d=l.len;if(!(d>=s)){p.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var h=n.details;if(void 0===h||h.live&&this.levelLastLoaded!==i)this.state=y.WAITING_LEVEL;else{var c=this.fragPrevious;if(!h.live&&c&&c.sn===h.endSN&&d&&!l.nextStart&&Math.min(r.duration,c.start+c.duration)-Math.max(l.end,c.start)<=Math.max(.2,c.duration)){var v={};return this.altAudio&&(v.type="video"),this.hls.trigger(f.default.BUFFER_EOS,v),void(this.state=y.ENDED)}this._fetchPayloadOrEos(a,l,h)}}}}}},{key:"_fetchPayloadOrEos",value:function(e,t,r){var a=this.fragPrevious,i=this.level,n=r.fragments,o=n.length;if(0!==o){var s=n[0].start,l=n[o-1].start+n[o-1].duration,u=t.end,d=void 0;if(r.initSegment&&!r.initSegment.data)d=r.initSegment;else if(r.live){var f=this.config.initialLiveManifestSize;if(o<f)return void p.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+f);if(null===(d=this._ensureFragmentAtLivePoint(r,u,s,l,a,n,o)))return}else u<s&&(d=n[0]);d||(d=this._findFragment(s,a,o,n,u,l,r)),d&&this._loadFragmentOrKey(d,i,r,e,u)}}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,r,a,i,n,o){var s=this.hls.config,u=this.media,d=void 0,f=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-s.maxFragLookUpTolerance,a-f)){var h=this.liveSyncPosition=this.computeLivePosition(r,e);p.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),t=h,u&&u.readyState&&u.duration>h&&(u.currentTime=h),this.nextLoadPosition=h}if(e.PTSKnown&&t>a&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i){var c=i.sn+1;if(c>=e.startSN&&c<=e.endSN){var v=n[c-e.startSN];i.cc===v.cc&&(d=v,p.logger.log("live playlist, switching playlist, load frag with next SN: "+d.sn))}d||(d=l.default.search(n,function(e){return i.cc-e.cc}))&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+d.sn)}d||(d=n[Math.min(o-1,Math.round(o/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+d.sn))}return d}},{key:"_findFragment",value:function(e,t,r,a,i,n,o){var s=this.hls.config,u=void 0,d=void 0,f=s.maxFragLookUpTolerance,h=t?a[t.sn-a[0].sn+1]:void 0,c=function(e){var t=Math.min(f,e.duration);return e.start+e.duration-t<=i?1:e.start-t>i&&e.start?-1:0};if(i<n?(i>n-f&&(f=0),d=h&&!c(h)?h:l.default.search(a,c)):d=a[r-1],d){var v=(u=d).sn-o.startSN,g=t&&u.level===t.level,y=a[v-1],m=a[v+1];if(t&&u.sn===t.sn)if(g&&!u.backtracked)if(u.sn<o.endSN){var b=t.deltaPTS;b&&b>s.maxBufferHole&&t.dropped&&v?(u=y,p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(u=m,p.logger.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.backtracked&&(m&&m.backtracked?(p.logger.warn("Already backtracked from fragment "+m.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+m.sn),u=m):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,y?(y.loadCounter&&y.loadCounter--,(u=y).backtracked=!0):v&&(u=null)))}return u}},{key:"_loadFragmentOrKey",value:function(e,t,r,a,i){var n=this.hls,o=n.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(p.logger.log("Loading "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t+", currentTime:"+a.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var s=o.fragLoadingLoopThreshold;if(e.loadCounter>s&&Math.abs(this.fragLoadIdx-e.loadIdx)<s)return void n.trigger(f.default.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||(this.nextLoadPosition=e.start+e.duration),e.autoLevel=n.autoLevelEnabled,e.bitrateTest=this.bitrateTest,n.trigger(f.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new d.default(n,"main")),void(this.state=y.FRAG_LOADING)}p.logger.log("Loading key for "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t),this.state=y.KEY_LOADING,n.trigger(f.default.KEY_LOADING,{frag:e})}},{key:"getBufferedFrag",value:function(e){return l.default.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.endPTS+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),u.default.isBuffered(r,t)?e=this.getBufferedFrag(t):u.default.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var a=e;if(a!==this.fragPlaying){this.hls.trigger(f.default.FRAG_CHANGED,{frag:a});var i=a.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(f.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=a}}}},{key:"immediateLevelSwitch",value:function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,u.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,a=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,(r=this.getBufferedFrag(e.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,n=this.levels[i],o=this.fragLastKbps;t=o&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*o)+1:0}if((a=this.getBufferedFrag(e.currentTime+t))&&(a=this.followingBufferedFrag(a))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(a.maxStartPTS,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=y.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(f.default.BUFFER_FLUSHING,r)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;isNaN(t)||p.logger.log("media seeking to "+t.toFixed(3));var a=this.mediaBuffer?this.mediaBuffer:e,i=u.default.bufferInfo(a,t,this.config.maxBufferHole);if(this.state===y.FRAG_LOADING){var n=this.fragCurrent;if(0===i.len&&n){var o=r.maxFragLookUpTolerance,s=n.start-o,l=n.start+n.duration+o;t<s||t>l?(n.loader&&(p.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=y.IDLE):p.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===y.ENDED&&(0===i.len&&(this.fragPrevious=0),this.state=y.IDLE);e&&(this.lastCurrentTime=t),this.state!==y.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||p.logger.log("media seeked to "+t.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){p.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(f.default.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,r=!1,a=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(a=!0))}),this.audioCodecSwitch=r&&a,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,r=e.level,a=this.levels[r],i=t.totalduration,n=0;if(p.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=r,t.live){var o=a.details;o&&t.fragments.length>0?(c.default.mergeDetails(o,t),n=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(n,o),t.PTSKnown?p.logger.log("live playlist sliding:"+n.toFixed(3)):p.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,p.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(a.details=t,this.hls.trigger(f.default.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var s=t.startTimeOffset;isNaN(s)?t.live?(this.startPosition=this.computeLivePosition(n,t),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(s<0&&(p.logger.log("negative start time offset "+s+", count from end of last fragment"),s=n+i+s),p.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===y.WAITING_LEVEL&&(this.state=y.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===y.KEY_LOADING&&(this.state=y.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===y.FRAG_LOADING&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var a=e.stats,i=this.levels[t.level],n=i.details;if(p.logger.log("Loaded  "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=a,!0===r.bitrateTest&&this.hls.nextLoadLevel)this.state=y.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=performance.now(),this.hls.trigger(f.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=y.IDLE,a.tparsed=a.tbuffered=performance.now(),n.initSegment.data=e.payload,this.hls.trigger(f.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{this.state=y.PARSING;var o=n.totalduration,s=t.level,l=t.sn,u=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),void 0===u&&(u=this.lastAudioCodec),u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,p.logger.log("Parsing "+l+" of ["+n.startSN+" ,"+n.endSN+"],level "+s+", cc "+t.cc);var h=this.demuxer;h||(h=this.demuxer=new d.default(this.hls,"main"));var c=this.media,v=!(c&&c.seeking)&&(n.PTSKnown||!n.live),g=n.initSegment?n.initSegment.data:[];h.push(e.payload,g,u,i.videoCodec,t,o,v,void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===y.PARSING){var a,i,n=e.tracks;if(n.audio&&this.altAudio&&delete n.audio,i=n.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(o="mp4a.40.2",p.logger.log("Android: force audio codec to "+o)),i.levelCodec=o,i.id=e.id}(i=n.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(f.default.BUFFER_CODECS,n);for(a in n){i=n[a],p.logger.log("main track:"+a+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var l=i.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(f.default.BUFFER_APPENDING,{type:a,data:l,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,r=this.fragCurrent,a=e.frag;if(r&&"main"===e.id&&a.sn===r.sn&&a.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===y.PARSING){var i=this.levels[this.level],n=r;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),p.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(n.dropped=e.dropped,n.dropped){if(!n.backtracked)return p.logger.warn("missing video frame(s), backtracking fragment"),n.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=y.IDLE,this.fragPrevious=n,void this.tick();p.logger.warn("Already backtracked on this fragment, appending with the gap")}else n.backtracked=!1;var o=c.default.updateFragPTSDTS(i.details,n,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(f.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(r){r&&r.length&&t.state===y.PARSING&&(t.appended=!0,t.pendingBuffering=!0,s.trigger(f.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===y.PARSING&&(this.stats.tparsed=performance.now(),this.state=y.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,r=e.id;if(!t){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;a.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y.IDLE}var i=this.hls;i.trigger(f.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(f.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var a=this.videoBuffer;a&&this.mediaBuffer!==a&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=a)}this.altAudio=r,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,r=void 0,a=void 0,i=!1;for(var n in t){var o=t[n];"main"===o.id?(a=n,r=o,"video"===n&&(this.videoBuffer=t[n].buffer)):i=!0}i&&r?(p.logger.log("alternate track found, use "+a+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==y.PARSING&&t!==y.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==y.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+v.default.toString(t.buffered));var r=this._bufferedFrags.filter(function(e){return u.default.isBuffered(t,(e.startPTS+e.endPTS)/2)});r.push(e),this._bufferedFrags=r.sort(function(e,t){return e.startPTS-t.startPTS}),this.fragPrevious=e;var a=this.stats;a.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*a.total/(a.tbuffered-a.tfirst)),this.hls.trigger(f.default.FRAG_BUFFERED,{stats:a,frag:e,id:"main"}),this.state=y.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=this.media,a=r&&u.default.isBuffered(r,r.currentTime)&&u.default.isBuffered(r,r.currentTime+.5);switch(e.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:case g.ErrorDetails.KEY_LOAD_ERROR:case g.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry||a||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var o=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=y.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=y.ERROR}break;case g.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(a?(this._reduceMaxBufferLength(t.duration),this.state=y.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=y.ERROR));break;case g.ErrorDetails.LEVEL_LOAD_ERROR:case g.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==y.ERROR&&(e.fatal?(this.state=y.ERROR,p.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==y.WAITING_LEVEL||(this.state=y.IDLE));break;case g.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==y.PARSING&&this.state!==y.PARSED||(a?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=y.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media,t=this.config;if(e&&e.readyState){var r=e.currentTime,a=this.mediaBuffer?this.mediaBuffer:e,i=a.buffered;if(!this.loadedmetadata&&i.length){this.loadedmetadata=!0;var n=e.seeking?r:this.startPosition,o=u.default.isBuffered(a,n),s=i.start(0);(r!==n||!o&&Math.abs(n-s)<t.maxSeekHole)&&(p.logger.log("target start position:"+n),o||(n=s,p.logger.log("target start position not buffered, seek to buffered.start(0) "+n)),p.logger.log("adjust currentTime from "+r+" to "+n),e.currentTime=n)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var l=u.default.bufferInfo(e,r,0),d=!(e.paused||e.ended||0===e.buffered.length);if(r!==this.lastCurrentTime)this.stallReported&&(p.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(d){var h=performance.now(),c=this.hls;if(this.stalled){var v=h-this.stalled,y=l.len,m=this.nudgeRetry||0;if(y<=.5&&v>1e3*t.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,p.logger.warn("playback stalling in low buffer @"+r),c.trigger(f.default.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:y}));var b=l.nextStart,E=b-r;if(b&&E<t.maxSeekHole&&E>0){this.nudgeRetry=++m;var _=m*t.nudgeOffset;p.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+b+" + nudge "+_),e.currentTime=b+_,this.stalled=void 0,c.trigger(f.default.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:b+_-r})}}else if(y>.5&&v>1e3*t.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,p.logger.warn("playback stalling in high buffer @"+r),c.trigger(f.default.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:y})),this.stalled=void 0,this.nudgeRetry=++m,m<t.nudgeMaxRetry){var T=e.currentTime,R=T+m*t.nudgeOffset;p.logger.log("adjust currentTime from "+T+" to "+R),e.currentTime=R,c.trigger(f.default.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else p.logger.error("still stuck in high buffer @"+r+" after "+t.nudgeMaxRetry+", raise fatal error"),c.trigger(f.default.ERROR,{type:g.ErrorTypes.MEDIA_ERROR,details:g.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=h,this.stallReported=!1}}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=y.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return u.default.isBuffered(e,(t.startPTS+t.endPTS)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=y.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,p.logger.log("main stream:"+t+"->"+e),this.hls.trigger(f.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(h.default);r.default=m},{20:20,28:28,29:29,30:30,32:32,33:33,43:43,46:46,47:47}],12:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){a(this,e),this.subtle=t,this.aesIV=r}return i(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();r.default=n},{}],13:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(){a(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return i(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),a=0;a<4;a++)r[a]=t.getUint32(4*a);return r}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix,a=r[0],i=r[1],n=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],d=s[2],f=s[3],h=new Uint32Array(256),c=0,v=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var p=v^v<<1^v<<2^v<<3^v<<4;p=p>>>8^255&p^99,e[c]=p,t[p]=c;var y=h[c],m=h[y],b=h[m],E=257*h[p]^16843008*p;a[c]=E<<24|E>>>8,i[c]=E<<16|E>>>16,n[c]=E<<8|E>>>24,o[c]=E,E=16843009*b^65537*m^257*y^16843008*c,l[p]=E<<24|E>>>8,u[p]=E<<16|E>>>16,d[p]=E<<8|E>>>24,f[p]=E,c?(c=y^h[h[h[b^y]]],v^=h[h[v]]):c=v=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,a=0;a<t.length&&r;)r=t[a]===this.key[a],a++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var n=this.ksRows=4*(i+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(n),u=this.invKeySchedule=new Uint32Array(n),d=this.sBox,f=this.rcon,h=this.invSubMix,c=h[0],v=h[1],g=h[2],p=h[3],y=void 0,m=void 0;for(o=0;o<n;o++)o<i?y=l[o]=t[o]:(m=y,o%i==0?(m=d[(m=m<<8|m>>>24)>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m],m^=f[o/i|0]<<24):i>6&&o%i==4&&(m=d[m>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m]),l[o]=y=(l[o-i]^m)>>>0);for(s=0;s<n;s++)o=n-s,m=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?m:c[d[m>>>24]]^v[d[m>>>16&255]]^g[d[m>>>8&255]]^p[d[255&m]],u[s]=u[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,r){for(var a,i,n=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],d=l[1],f=l[2],h=l[3],c=this.uint8ArrayToUint32Array_(r),v=c[0],g=c[1],p=c[2],y=c[3],m=new Int32Array(e),b=new Int32Array(m.length),E=void 0,_=void 0,T=void 0,R=void 0,A=void 0,S=void 0,k=void 0,L=void 0,w=void 0,D=void 0,O=void 0,P=void 0,x=this.networkToHostOrderSwap;t<m.length;){for(w=x(m[t]),D=x(m[t+1]),O=x(m[t+2]),P=x(m[t+3]),A=w^o[0],S=P^o[1],k=O^o[2],L=D^o[3],a=4,i=1;i<n;i++)E=u[A>>>24]^d[S>>16&255]^f[k>>8&255]^h[255&L]^o[a],_=u[S>>>24]^d[k>>16&255]^f[L>>8&255]^h[255&A]^o[a+1],T=u[k>>>24]^d[L>>16&255]^f[A>>8&255]^h[255&S]^o[a+2],R=u[L>>>24]^d[A>>16&255]^f[S>>8&255]^h[255&k]^o[a+3],A=E,S=_,k=T,L=R,a+=4;E=s[A>>>24]<<24^s[S>>16&255]<<16^s[k>>8&255]<<8^s[255&L]^o[a],_=s[S>>>24]<<24^s[k>>16&255]<<16^s[L>>8&255]<<8^s[255&A]^o[a+1],T=s[k>>>24]<<24^s[L>>16&255]<<16^s[A>>8&255]<<8^s[255&S]^o[a+2],R=s[L>>>24]<<24^s[A>>16&255]<<16^s[S>>8&255]<<8^s[255&k]^o[a+3],a+=3,b[t]=x(E^v),b[t+1]=x(R^g),b[t+2]=x(T^p),b[t+3]=x(_^y),v=w,g=D,p=O,y=P,t+=4}return b.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();r.default=n},{}],14:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(12)),s=a(e(15)),l=a(e(13)),u=e(28),d=e(46),f=function(){function e(t,r){i(this,e),this.observer=t,this.config=r,this.logEnabled=!0;try{var a=crypto||self.crypto;this.subtle=a.subtle||a.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return n(e,[{key:"isSync",value:function(){return this.disableWebCrypto&&this.config.enableSoftwareAES}},{key:"decrypt",value:function(e,t,r,a){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(d.logger.log("JS AES decrypt"),this.logEnabled=!1);var n=this.decryptor;n||(this.decryptor=n=new l.default),n.expandKey(t),a(n.decrypt(e,0,r))}else{this.logEnabled&&(d.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new s.default(u,t)),this.fastAesKey.expandKey().then(function(n){new o.default(u,r).decrypt(e,n).catch(function(n){i.onWebCryptoError(n,e,t,r,a)}).then(function(e){a(e)})}).catch(function(n){i.onWebCryptoError(n,e,t,r,a)})}}},{key:"onWebCryptoError",value:function(e,t,r,a,i){this.config.enableSoftwareAES?(d.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,a,i)):(d.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();r.default=f},{12:12,13:13,15:15,28:28,46:46}],15:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){a(this,e),this.subtle=t,this.key=r}return i(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();r.default=n},{}],16:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(17)),s=e(46),l=a(e(22)),u=function(){function e(t,r,a){i(this,e),this.observer=t,this.config=a,this.remuxer=r}return n(e,[{key:"resetInitSegment",value:function(e,t,r,a){this._audioTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:a,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,r,a){for(var i=this._audioTrack,n=l.default.getID3Data(e,0),u=90*l.default.getTimeStamp(n),d=0,f=u,h=e.length,c=n.length,v=[{pts:f,dts:f,data:n}];c<h-1;)if(o.default.isHeader(e,c)&&c+5<h){o.default.initTrackConfig(i,this.observer,e,c,i.manifestCodec);var g=o.default.appendFrame(i,e,c,u,d);if(!g){s.logger.log("Unable to parse AAC frame");break}c+=g.length,f=g.sample.pts,d++}else l.default.isHeader(e,c)?(n=l.default.getID3Data(e,c),v.push({pts:f,dts:f,data:n}),c+=n.length):c++;this.remuxer.remux(i,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},t,r,a)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,r,a=l.default.getID3Data(e,0);if(a&&void 0!==l.default.getTimeStamp(a))for(t=a.length,r=Math.min(e.length-1,t+100);t<r;t++)if(o.default.probe(e,t))return s.logger.log("ADTS sync word found !"),!0;return!1}}]),e}();r.default=u},{17:17,22:22,46:46}],17:[function(e,t,r){"use strict";var a=e(46),i=e(28),n={getAudioConfig:function(e,t,r,n){var o,s,l,u,d,f=navigator.userAgent.toLowerCase(),h=n,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[r+2])>>>6),!((s=(60&t[r+2])>>>2)>c.length-1))return u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,a.logger.log("manifest codec:"+n+",ADTS data:type:"+o+",sampleingIndex:"+s+"["+c[s]+"Hz],channelConfig:"+u),/firefox/i.test(f)?s>=6?(o=5,d=new Array(4),l=s-3):(o=2,d=new Array(2),l=s):-1!==f.indexOf("android")?(o=2,d=new Array(2),l=s):(o=5,d=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&s>=6?l=s-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(s>=6&&1===u||/vivaldi/i.test(f))||!n&&1===u)&&(o=2,d=new Array(2)),l=s)),d[0]=o<<3,d[0]|=(14&s)>>1,d[1]|=(1&s)<<7,d[1]|=u<<3,5===o&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:c[s],channelCount:u,codec:"mp4a.40."+o,manifestCodec:h};e.trigger(Event.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})},isHeaderPattern:function(e,t){return 255===e[t]&&240==(246&e[t+1])},getHeaderLength:function(e,t){return 1&e[t+1]?7:9},getFullFrameLength:function(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.getHeaderLength(e,t);t+5<e.length&&(r=this.getFullFrameLength(e,t));var a=t+r;if(a===e.length||a+1<e.length&&this.isHeaderPattern(e,a))return!0}return!1},initTrackConfig:function(e,t,r,i,n){if(!e.samplerate){var o=this.getAudioConfig(t,r,i,n);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,a.logger.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},getFrameDuration:function(e){return 9216e4/e},appendFrame:function(e,t,r,a,i){var n=this.getFrameDuration(e.samplerate),o=this.parseFrameHeader(t,r,a,i,n);if(o){var s=o.stamp,l=o.headerLength,u=o.frameLength,d={unit:t.subarray(r+l,r+l+u),pts:s,dts:s};return e.samples.push(d),e.len+=u,{sample:d,length:u+l}}},parseFrameHeader:function(e,t,r,a,i){var n,o,s,l=e.length;if(n=this.getHeaderLength(e,t),o=this.getFullFrameLength(e,t),(o-=n)>0&&t+n+o<=l)return s=r+a*i,{headerLength:n,frameLength:o,stamp:s}}};t.exports=n},{28:28,46:46}],18:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(30)),s=e(28),l=a(e(14)),u=a(e(16)),d=a(e(24)),f=a(e(27)),h=a(e(23)),c=a(e(40)),v=a(e(41)),g=function(){function e(t,r,a,n){i(this,e),this.observer=t,this.typeSupported=r,this.config=a,this.vendor=n}return n(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,r,a,i,n,s,u,d,f,h,c){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var v=this.decrypter;null==v&&(v=this.decrypter=new l.default(this.observer,this.config));var g,p=this;try{g=performance.now()}catch(e){g=Date.now()}v.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var l;try{l=performance.now()}catch(e){l=Date.now()}p.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:l}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,i,n,s,u,d,f,h,c)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,i,n,s,u,d,f,h,c)}},{key:"pushDecrypted",value:function(e,t,r,a,i,n,l,g,p,y,m,b){var E=this.demuxer;if(!E||l&&!this.probe(e)){for(var _=this.observer,T=this.typeSupported,R=this.config,A=[{demux:u.default,remux:c.default},{demux:h.default,remux:c.default},{demux:f.default,remux:c.default},{demux:d.default,remux:v.default}],S=0,k=A.length;S<k;S++){var L=A[S],w=L.demux.probe;if(w(e)){var D=this.remuxer=new L.remux(_,R,T,this.vendor);E=new L.demux(_,D,R,T),this.probe=w;break}}if(!E)return void _.trigger(o.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=E}var O=this.remuxer;(l||g)&&(E.resetInitSegment(r,a,i,y),O.resetInitSegment()),l&&(E.resetTimeStamp(b),O.resetTimeStamp(b)),"function"==typeof E.setDecryptData&&E.setDecryptData(t),E.append(e,n,p,m)}}]),e}();r.default=g},{14:14,16:16,23:23,24:24,27:27,28:28,30:30,40:40,41:41}],19:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=a(e(18)),n=a(e(30)),o=e(46),s=a(e(1));r.default=function(e){var t=new s.default;t.trigger=function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(a))},t.off=function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(a))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(a){var n=a.data;switch(n.cmd){case"init":var s=JSON.parse(n.config);e.demuxer=new i.default(t,n.typeSupported,s,n.vendor);try{(0,o.enableLogs)(!0===s.debug)}catch(e){}r("init",null);break;case"demux":e.demuxer.push(n.data,n.decryptdata,n.initSegment,n.audioCodec,n.videoCodec,n.timeOffset,n.discontinuity,n.trackSwitch,n.contiguous,n.duration,n.accurateTimeOffset,n.defaultInitPTS)}}),t.on(n.default.FRAG_DECRYPTED,r),t.on(n.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(n.default.FRAG_PARSED,r),t.on(n.default.ERROR,r),t.on(n.default.FRAG_PARSING_METADATA,r),t.on(n.default.FRAG_PARSING_USERDATA,r),t.on(n.default.INIT_PTS_FOUND,r),t.on(n.default.FRAG_PARSING_DATA,function(t,r){var a=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,a.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,a.push(r.data2.buffer),delete r.data2),e.postMessage(i,a)})}},{1:1,18:18,30:30,46:46}],20:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(30)),s=a(e(18)),l=a(e(19)),u=e(46),d=e(28),f=a(e(1)),h=function(){function t(r,a){i(this,t),this.hls=r,this.id=a;var n=this.observer=new f.default,h=r.config;n.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.emit.apply(n,[e,e].concat(r))},n.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.removeListener.apply(n,[e].concat(r))};var c=function(e,t){(t=t||{}).frag=this.frag,t.id=this.id,r.trigger(e,t)}.bind(this);n.on(o.default.FRAG_DECRYPTED,c),n.on(o.default.FRAG_PARSING_INIT_SEGMENT,c),n.on(o.default.FRAG_PARSING_DATA,c),n.on(o.default.FRAG_PARSED,c),n.on(o.default.ERROR,c),n.on(o.default.FRAG_PARSING_METADATA,c),n.on(o.default.FRAG_PARSING_USERDATA,c),n.on(o.default.INIT_PTS_FOUND,c);var v={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(h.enableWorker&&"undefined"!=typeof Worker){u.logger.log("demuxing in webworker");var p=void 0;try{var y=e(3);p=this.w=y(l.default),this.onwmsg=this.onWorkerMessage.bind(this),p.addEventListener("message",this.onwmsg),p.onerror=function(e){r.trigger(o.default.ERROR,{type:d.ErrorTypes.OTHER_ERROR,details:d.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},p.postMessage({cmd:"init",typeSupported:v,vendor:g,id:a,config:JSON.stringify(h)})}catch(e){u.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),p&&URL.revokeObjectURL(p.objectURL),this.demuxer=new s.default(n,v,h,g),this.w=void 0}}else this.demuxer=new s.default(n,v,h,g)}return n(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)}},{key:"push",value:function(e,t,r,a,i,n,o,s){var l=this.w,d=isNaN(i.startDTS)?i.start:i.startDTS,f=i.decryptdata,h=this.frag,c=!(h&&i.cc===h.cc),v=!(h&&i.level===h.level),g=h&&i.sn===h.sn+1,p=!v&&g;if(c&&u.logger.log(this.id+":discontinuity detected"),v&&u.logger.log(this.id+":switch detected"),this.frag=i,l)l.postMessage({cmd:"demux",data:e,decryptdata:f,initSegment:t,audioCodec:r,videoCodec:a,timeOffset:d,discontinuity:c,trackSwitch:v,contiguous:p,duration:n,accurateTimeOffset:o,defaultInitPTS:s},[e]);else{var y=this.demuxer;y&&y.push(e,f,t,r,a,d,c,v,p,n,o,s)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,r=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}}}]),t}();r.default=h},{1:1,18:18,19:19,28:28,3:3,30:30,46:46}],21:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=e(46),o=function(){function e(t){a(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return i(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,a=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");a.set(e.subarray(r,r+i)),this.word=new DataView(a.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,r=8,a=8;for(t=0;t<e;t++)0!==a&&(a=(r+this.readEG()+256)%256),r=0===a?r:a}},{key:"readSPS",value:function(){var e,t,r,a,i,n,o,s=0,l=0,u=0,d=0,f=this.readUByte.bind(this),h=this.readBits.bind(this),c=this.readUEG.bind(this),v=this.readBoolean.bind(this),g=this.skipBits.bind(this),p=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(f(),e=f(),h(5),g(3),f(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=c();if(3===b&&g(1),y(),y(),g(1),v())for(n=3!==b?8:12,o=0;o<n;o++)v()&&m(o<6?16:64)}y();var E=c();if(0===E)c();else if(1===E)for(g(1),p(),p(),t=c(),o=0;o<t;o++)p();y(),g(1),r=c(),a=c(),0===(i=h(1))&&g(1),g(1),v()&&(s=c(),l=c(),u=c(),d=c());var _=[1,1];if(v()&&v())switch(f()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-i)*(a+1)*16-(i?2:4)*(u+d),pixelRatio:_}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();r.default=o},{46:46}],22:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(){a(this,e)}return i(e,null,[{key:"isHeader",value:function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"isFooter",value:function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}},{key:"getID3Data",value:function(t,r){for(var a=r,i=0;e.isHeader(t,r);)i+=10,i+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(i+=10),r+=i;if(i>0)return t.subarray(a,a+i)}},{key:"_readSize",value:function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]}},{key:"getTimeStamp",value:function(t){for(var r=e.getID3Frames(t),a=0;a<r.length;a++){var i=r[a];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}}},{key:"isTimeStampFrame",value:function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info}},{key:"_getFrameData",value:function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),a=e._readSize(t,4);return{type:r,size:a,data:t.subarray(10,10+a)}}},{key:"getID3Frames",value:function(t){for(var r=0,a=[];e.isHeader(t,r);){for(var i=e._readSize(t,r+6),n=(r+=10)+i;r+8<n;){var o=e._getFrameData(t.subarray(r)),s=e._decodeFrame(o);s&&a.push(s),r+=o.size+10}e.isFooter(t,r)&&(r+=10)}return a}},{key:"_decodeFrame",value:function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0}},{key:"_readTimeStamp",value:function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],a=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return a/=45,r&&(a+=47721858.84),Math.round(a)}}},{key:"_decodePrivFrame",value:function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data),a=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:a.buffer}}}},{key:"_decodeTextFrame",value:function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,a=e._utf8ArrayToStr(t.data.subarray(r));r+=a.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:a,data:i}}var n=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:n}}}},{key:"_decodeURLFrame",value:function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,a=e._utf8ArrayToStr(t.data.subarray(r));r+=a.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:a,data:i}}var n=e._utf8ArrayToStr(t.data);return{key:t.type,data:n}}},{key:"_utf8ArrayToStr",value:function(e){for(var t=void 0,r=void 0,a="",i=0,n=e.length;i<n;){var o=e[i++];switch(o>>4){case 0:return a;case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(o);break;case 12:case 13:t=e[i++],a+=String.fromCharCode((31&o)<<6|63&t);break;case 14:t=e[i++],r=e[i++],a+=String.fromCharCode((15&o)<<12|(63&t)<<6|(63&r)<<0)}}return a}}]),e}();r.default=n},{}],23:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(22)),s=e(46),l=a(e(25)),u=function(){function e(t,r,a){i(this,e),this.observer=t,this.config=a,this.remuxer=r}return n(e,[{key:"resetInitSegment",value:function(e,t,r,a){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:a,inputTimeScale:9e4}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,r,a){for(var i=o.default.getID3Data(e,0),n=90*o.default.getTimeStamp(i),s=i.length,u=e.length,d=0,f=0,h=this._audioTrack,c=[{pts:n,dts:n,data:i}];s<u;)if(l.default.isHeader(e,s)){var v=l.default.appendFrame(h,e,s,n,d);if(!v)break;s+=v.length,f=v.sample.pts,d++}else o.default.isHeader(e,s)?(i=o.default.getID3Data(e,s),c.push({pts:f,dts:f,data:i}),s+=i.length):s++;this.remuxer.remux(h,{samples:[]},{samples:c,inputTimeScale:9e4},{samples:[]},t,r,a)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,r,a=o.default.getID3Data(e,0);if(a&&void 0!==o.default.getTimeStamp(a))for(t=a.length,r=Math.min(e.length-1,t+100);t<r;t++)if(l.default.probe(e,t))return s.logger.log("MPEG Audio sync word found !"),!0;return!1}}]),e}();r.default=u},{22:22,25:25,46:46}],24:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e(30)),o=Math.pow(2,32)-1,s=function(){function e(t,r){a(this,e),this.observer=t,this.remuxer=r}return i(e,[{key:"resetTimeStamp",value:function(e){this.initPTS=e}},{key:"resetInitSegment",value:function(t,r,a,i){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t),s={};o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:i?t:null}),o.video&&(s.video={container:"video/mp4",codec:a,initSegment:i?t:null}),this.observer.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),a&&(this.videoCodec=a)}},{key:"append",value:function(t,r,a,i){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),o=this.initData);var s=void 0,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(o,t);this.initPTS=l=u-r,this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,a,i,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){if(t.length>=8){var r=e.bin2str(t.subarray(4,8));return["moof","ftyp","styp"].indexOf(r)>=0}return!1}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"readUint32",value:function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r}},{key:"writeUint32",value:function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}},{key:"findBox",value:function(t,r){var a,i,n,o,s,l,u,d=[];if(t.data?(l=t.start,o=t.end,t=t.data):(l=0,o=t.byteLength),!r.length)return null;for(a=l;a<o;)i=e.readUint32(t,a),n=e.bin2str(t.subarray(a+4,a+8)),u=i>1?a+i:o,n===r[0]&&(1===r.length?d.push({data:t,start:a+8,end:u}):(s=e.findBox({data:t,start:a+8,end:u},r.slice(1))).length&&(d=d.concat(s))),a=u;return d}},{key:"parseInitSegment",value:function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var a=e.findBox(t,["tkhd"])[0];if(a){var i=a.data[a.start],n=0===i?12:20,o=e.readUint32(a,n),s=e.findBox(t,["mdia","mdhd"])[0];if(s){n=0===(i=s.data[s.start])?12:20;var l=e.readUint32(s,n),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var d={soun:"audio",vide:"video"}[e.bin2str(u.data.subarray(u.start+8,u.start+12))];d&&(r[o]={timescale:l,type:d},r[d]={timescale:l,id:o})}}}}),r}},{key:"getStartDTS",value:function(t,r){var a,i,n;return a=e.findBox(r,["moof","traf"]),i=[].concat.apply([],a.map(function(r){return e.findBox(r,["tfhd"]).map(function(a){var i,n,o;return i=e.readUint32(a,4),n=t[i].timescale||9e4,o=e.findBox(r,["tfdt"]).map(function(t){var r,a;return r=t.data[t.start],a=e.readUint32(t,4),1===r&&(a*=Math.pow(2,32),a+=e.readUint32(t,8)),a})[0],(o=o||1/0)/n})})),n=Math.min.apply(null,i),isFinite(n)?n:0}},{key:"offsetStartDTS",value:function(t,r,a){e.findBox(r,["moof","traf"]).map(function(r){return e.findBox(r,["tfhd"]).map(function(i){var n=e.readUint32(i,4),s=t[n].timescale||9e4;e.findBox(r,["tfdt"]).map(function(t){var r=t.data[t.start],i=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,i-a*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=a*s;var n=Math.floor(i/(o+1)),l=Math.floor(i%(o+1));e.writeUint32(t,4,n),e.writeUint32(t,8,l)}})})})}}]),e}();r.default=s},{30:30}],25:[function(e,t,r){"use strict";var a={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],appendFrame:function(e,t,r,a,i){if(!(r+24>t.length)){var n=this.parseHeader(t,r);if(n&&r+n.frameLength<=t.length){var o=a+i*(10368e4/n.sampleRate),s={unit:t.subarray(r,r+n.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=n.channelCount,e.samplerate=n.sampleRate,e.samples.push(s),e.len+=n.frameLength,{sample:s,length:n.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,i=e[t+1]>>1&3,n=e[t+2]>>4&15,o=e[t+2]>>2&3,s=!!(2&e[t+2]);if(1!==r&&0!==n&&15!==n&&3!==o){var l=3===r?3-i:3===i?3:4,u=1e3*a.BitratesMap[14*l+n-1],d=3===r?0:2===r?1:2,f=a.SamplingRateMap[3*d+o],h=s?1:0;return{sampleRate:f,channelCount:e[t+3]>>6==3?1:2,frameLength:3===i?(3===r?12:6)*u/f+h<<2:(3===r?144:72)*u/f+h|0}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),a=4;r&&r.frameLength&&(a=r.frameLength);var i=t+a;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}};t.exports=a},{}],26:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e(14)),o=function(){function e(t,r,i,o){a(this,e),this.decryptdata=i,this.discardEPB=o,this.decrypter=new n.default(t,r)}return i(e,[{key:"decryptBuffer",value:function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)}},{key:"decryptAacSample",value:function(e,t,r,a){var i=e[t].unit,n=i.subarray(16,i.length-i.length%16),o=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),s=this;this.decryptBuffer(o,function(n){n=new Uint8Array(n),i.set(n,16),a||s.decryptAacSamples(e,t+1,r)})}},{key:"decryptAacSamples",value:function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var a=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,a),!a)return}}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),a=0,i=32;i<=e.length-16;i+=160,a+=16)r.set(e.subarray(i,i+16),a);return r}},{key:"getAvcDecryptedUnit",value:function(e,t){t=new Uint8Array(t);for(var r=0,a=32;a<=e.length-16;a+=160,r+=16)e.set(t.subarray(r,r+16),a);return e}},{key:"decryptAvcSample",value:function(e,t,r,a,i,n){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){i.data=l.getAvcDecryptedUnit(o,s),n||l.decryptAvcSamples(e,t,r+1,a)})}},{key:"decryptAvcSamples",value:function(e,t,r,a){for(;;t++,r=0){if(t>=e.length)return void a();for(var i=e[t].units;!(r>=i.length);r++){var n=i[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,a,n,o),!o)return}}}}}]),e}();r.default=o},{14:14}],27:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(17)),s=a(e(25)),l=a(e(30)),u=a(e(21)),d=a(e(26)),f=e(46),h=e(28),c=function(){function e(t,r,a,n){i(this,e),this.observer=t,this.config=a,this.typeSupported=n,this.remuxer=r,this.sampleAes=null}return n(e,[{key:"setDecryptData",value:function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new d.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null}},{key:"resetInitSegment",value:function(e,t,r,a){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9e4,duration:a,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=r,this._duration=a}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,r,a){var i,n,o,s,u,d=e.length,c=!1;this.contiguous=r;var v=this.pmtParsed,g=this._avcTrack,p=this._audioTrack,y=this._id3Track,m=g.id,b=p.id,E=y.id,_=this._pmtId,T=g.pesData,R=p.pesData,A=y.pesData,S=this._parsePAT,k=this._parsePMT,L=this._parsePES,w=this._parseAVCPES.bind(this),D=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this);for(d-=d%188,i=0;i<d;i+=188)if(71===e[i]){if(n=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2],(48&e[i+3])>>4>1){if((s=i+5+e[i+4])===i+188)continue}else s=i+4;switch(o){case m:n&&(T&&(u=L(T))&&w(u,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(s,i+188)),T.size+=i+188-s);break;case b:n&&(R&&(u=L(R))&&(p.isAAC?D(u):O(u)),R={data:[],size:0}),R&&(R.data.push(e.subarray(s,i+188)),R.size+=i+188-s);break;case E:n&&(A&&(u=L(A))&&P(u),A={data:[],size:0}),A&&(A.data.push(e.subarray(s,i+188)),A.size+=i+188-s);break;case 0:n&&(s+=e[s]+1),_=this._pmtId=S(e,s);break;case _:n&&(s+=e[s]+1);var x=k(e,s,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(m=x.avc)>0&&(g.id=m),(b=x.audio)>0&&(p.id=b,p.isAAC=x.isAAC),(E=x.id3)>0&&(y.id=E),c&&!v&&(f.logger.log("reparse from beginning"),c=!1,i=-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(u=L(T))?(w(u,!0),g.pesData=null):g.pesData=T,R&&(u=L(R))?(p.isAAC?D(u):O(u),p.pesData=null):(R&&R.size&&f.logger.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=R),A&&(u=L(A))?(P(u),y.pesData=null):y.pesData=A,null==this.sampleAes?this.remuxer.remux(p,g,y,this._txtTrack,t,r,a):this.decryptAndRemux(p,g,y,this._txtTrack,t,r,a)}},{key:"decryptAndRemux",value:function(e,t,r,a,i,n,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,r,a,i,n,o)})}else this.decryptAndRemuxAvc(e,t,r,a,i,n,o)}},{key:"decryptAndRemuxAvc",value:function(e,t,r,a,i,n,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,r,a,i,n,o)})}else this.remuxer.remux(e,t,r,a,i,n,o)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,r,a){var i,n,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(n=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!a){f.logger.log("unkown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=n);break;case 21:-1===o.id3&&(o.id3=n);break;case 219:if(!a){f.logger.log("unkown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=n);break;case 3:case 4:r?-1===o.audio&&(o.audio=n,o.isAAC=!1):f.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:f.logger.warn("HEVC stream type found, not supported for now");break;default:f.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o}},{key:"_parsePES",value:function(e){var t,r,a,i,n,o,s,l,u=0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(t=d[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((a=(t[4]<<8)+t[5])&&a>e.size-6)return null;192&(r=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(f.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),l=(i=t[8])+9,e.size-=l,n=new Uint8Array(e.size);for(var c=0,v=d.length;c<v;c++){var g=(t=d[c]).byteLength;if(l){if(l>g){l-=g;continue}t=t.subarray(l),g-=l,l=0}n.set(t,u),u+=g}return a&&(a-=i+3),{data:n,pts:o,dts:s,len:a}}return null}},{key:"pushAccesUnit",value:function(e,t){if(e.units.length&&e.frame){var r=t.samples,a=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(a||this.contiguous)?(e.id=a,r.push(e)):t.dropped++}e.debug.length&&f.logger.log(e.pts+"/"+e.dts+":"+e.debug)}},{key:"_parseAVCPES",value:function(e,t){var r,a,i,n=this,o=this._avcTrack,s=this._parseAVCNALu(e.data),l=this.avcSample,d=!1,f=this.pushAccesUnit.bind(this),h=function(e,t,r,a){return{key:e,pts:t,dts:r,units:[],debug:a}};e.data=null,l&&s.length&&(f(l,o),l=this.avcSample=h(!1,e.pts,e.dts,"")),s.forEach(function(t){switch(t.type){case 1:a=!0,l.frame=!0;var s=t.data;if(d&&s.length>4){var c=new u.default(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(l.key=!0)}break;case 5:a=!0,l||(l=n.avcSample=h(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:a=!0,(r=new u.default(n.discardEPB(t.data))).readUByte();for(var v=0,g=0,p=!1,y=0;!p&&r.bytesAvailable>1;){v=0;do{v+=y=r.readUByte()}while(255===y);g=0;do{g+=y=r.readUByte()}while(255===y);if(4===v&&0!==r.bytesAvailable){if(p=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var m=r.readUByte(),b=31&m,E=[m,r.readUByte()];for(i=0;i<b;i++)E.push(r.readUByte()),E.push(r.readUByte()),E.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:E})}}else if(g<r.bytesAvailable)for(i=0;i<g;i++)r.readUByte()}break;case 7:if(a=!0,d=!0,!o.sps){var _=(r=new u.default(t.data)).readSPS();o.width=_.width,o.height=_.height,o.pixelRatio=_.pixelRatio,o.sps=[t.data],o.duration=n._duration;var T=t.data.subarray(1,4),R="avc1.";for(i=0;i<3;i++){var A=T[i].toString(16);A.length<2&&(A="0"+A),R+=A}o.codec=R}break;case 8:a=!0,o.pps||(o.pps=[t.data]);break;case 9:a=!1,l&&f(l,o),l=n.avcSample=h(!1,e.pts,e.dts,"");break;case 12:a=!1;break;default:a=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&a&&l.units.push(t)}),t&&l&&(f(l,o),this.avcSample=null)}},{key:"_insertSampleInOrder",value:function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var a=r-1;a>=0;a--)if(t.pts<e[a].pts){e.splice(a,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var r=this._avcTrack.samples;e=r[r.length-1]}if(e){var a=e.units;t=a[a.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,r,a,i,n=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,d=[],f=-1;for(-1===l&&(f=0,i=31&e[0],l=0,n=1);n<o;)if(t=e[n++],l)if(1!==l)if(t)if(1===t){if(f>=0)a={data:e.subarray(f,n-l-1),type:i},d.push(a);else{var h=this._getLastNalUnit();if(h&&(u&&n<=4-u&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-u)),(r=n-l-1)>0)){var c=new Uint8Array(h.data.byteLength+r);c.set(h.data,0),c.set(e.subarray(0,r),h.data.byteLength),h.data=c}}n<o?(f=n,i=31&e[n],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(f>=0&&l>=0&&(a={data:e.subarray(f,o),type:i,state:l},d.push(a)),0===d.length){var v=this._getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+e.byteLength);g.set(v.data,0),g.set(e,v.data.byteLength),v.data=g}}return s.naluState=l,d}},{key:"discardEPB",value:function(e){for(var t,r,a=e.byteLength,i=[],n=1;n<a-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return e;t=a-i.length,r=new Uint8Array(t);var o=0;for(n=0;n<t;o++,n++)o===i[0]&&(o++,i.shift()),r[n]=e[o];return r}},{key:"_parseAACPES",value:function(e){var t,r,a,i,n,s=this._audioTrack,u=e.data,d=e.pts,c=this.aacOverFlow,v=this.aacLastPTS;if(c){var g=new Uint8Array(c.byteLength+u.byteLength);g.set(c,0),g.set(u,c.byteLength),u=g}for(a=0,n=u.length;a<n-1&&!o.default.isHeader(u,a);a++);if(a){var p,y;if(a<n-1?(p="AAC PES did not start with ADTS header,offset:"+a,y=!1):(p="no ADTS header found in AAC PES",y=!0),f.logger.warn("parsing error:"+p),this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:y,reason:p}),y)return}if(o.default.initTrackConfig(s,this.observer,u,a,this.audioCodec),r=0,t=o.default.getFrameDuration(s.samplerate),c&&v){var m=v+t;Math.abs(m-d)>1&&(f.logger.log("AAC: align PTS for overlapping frames by "+Math.round((m-d)/90)),d=m)}for(;a<n;)if(o.default.isHeader(u,a)&&a+5<n){var b=o.default.appendFrame(s,u,a,d,r);if(!b)break;a+=b.length,i=b.sample.pts,r++}else a++;c=a<n?u.subarray(a,n):null,this.aacOverFlow=c,this.aacLastPTS=i}},{key:"_parseMPEGPES",value:function(e){for(var t=e.data,r=t.length,a=0,i=0,n=e.pts;i<r;)if(s.default.isHeader(t,i)){var o=s.default.appendFrame(this._audioTrack,t,i,n,a);if(!o)break;i+=o.length,a++}else i++}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();r.default=c},{17:17,21:21,25:25,26:26,28:28,30:30,46:46}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],29:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e(46),s=e(28),l=function(e){return e&&e.__esModule?e:{default:e}}(e(30)),u=function(){function e(t){a(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return n(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===i(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)},this)}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){o.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();r.default=u},{28:28,30:30,46:46}],30:[function(e,t,r){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],31:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(){a(this,e)}return i(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();r.default=n},{}],32:[function(e,t,r){"use strict";var a={isBuffered:function(e,t){if(e)for(var r=e.buffered,a=0;a<r.length;a++)if(t>=r.start(a)&&t<=r.end(a))return!0;return!1},bufferInfo:function(e,t,r){if(e){var a,i=e.buffered,n=[];for(a=0;a<i.length;a++)n.push({start:i.start(a),end:i.end(a)});return this.bufferedInfo(n,t,r)}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,r){var a,i,n,o,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var d=l[u-1].end;e[s].start-d<r?e[s].end>d&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,a=0,i=n=t;s<l.length;s++){var f=l[s].start,h=l[s].end;if(t+r>=f&&t<h)i=f,a=(n=h)-t;else if(t+r<f){o=f;break}}return{len:a,start:i,end:n,nextStart:o}}};t.exports=a},{}],33:[function(e,t,r){"use strict";var a=e(46),i={mergeDetails:function(e,t){var r,n=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,s=t.startSN-e.startSN,l=e.fragments,u=t.fragments,d=0;if(o<n)t.PTSKnown=!1;else{for(var f=n;f<=o;f++){var h=l[s+f],c=u[f];c&&h&&(d=h.cc-c.cc,isNaN(h.startPTS)||(c.start=c.startPTS=h.startPTS,c.endPTS=h.endPTS,c.duration=h.duration,c.backtracked=h.backtracked,c.dropped=h.dropped,r=c))}if(d)for(a.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;f<u.length;f++)u[f].cc+=d;if(r)i.updateFragPTSDTS(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(s>=0&&s<l.length){var v=l[s].start;for(f=0;f<u.length;f++)u[f].start+=v}t.PTSKnown=e.PTSKnown}},updateFragPTSDTS:function(e,t,r,a,n,o){var s=r;if(!isNaN(t.startPTS)){var l=Math.abs(t.startPTS-r);isNaN(t.deltaPTS)?t.deltaPTS=l:t.deltaPTS=Math.max(l,t.deltaPTS),s=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),a=Math.max(a,t.endPTS),n=Math.min(n,t.startDTS),o=Math.max(o,t.endDTS)}var u=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=s,t.endPTS=a,t.startDTS=n,t.endDTS=o,t.duration=a-r;var d=t.sn;if(!e||d<e.startSN||d>e.endSN)return 0;var f,h,c;for(f=d-e.startSN,(h=e.fragments)[f]=t,c=f;c>0;c--)i.updatePTS(h,c,c-1);for(c=f;c<h.length-1;c++)i.updatePTS(h,c,c+1);return e.PTSKnown=!0,u},updatePTS:function(e,t,r){var i=e[t],n=e[r],o=n.startPTS;isNaN(o)?n.start=r>t?i.start+i.duration:Math.max(i.start-n.duration,0):r>t?(i.duration=o-i.start,i.duration<0&&a.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(n.duration=i.start-o,n.duration<0&&a.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!"))}};t.exports=i},{46:46}],34:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(2)),s=a(e(30)),l=e(28),u=a(e(38)),d=a(e(36)),f=a(e(37)),h=a(e(11)),c=a(e(10)),v=a(e(9)),g=e(46),p=a(e(1)),y=e(4),m=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var a=e.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in a)n in r||(r[n]=a[n]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,g.enableLogs)(r.debug),this.config=r,this._autoLevelCapping=-1;var o=this.observer=new p.default;o.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];o.emit.apply(o,[e,e].concat(r))},o.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];o.removeListener.apply(o,[e].concat(r))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o);var s=this.abrController=new r.abrController(this),l=new r.bufferController(this),y=new r.capLevelController(this),m=new r.fpsController(this),b=new u.default(this),E=new d.default(this),_=new f.default(this),T=new v.default(this),R=[this.levelController=new c.default(this),this.streamController=new h.default(this)],A=r.audioStreamController;A&&R.push(new A(this)),this.networkControllers=R;var S=[b,E,_,s,l,y,m,T];if(A=r.audioTrackController){var k=new A(this);this.audioTrackController=k,S.push(k)}if(A=r.subtitleTrackController){var L=new A(this);this.subtitleTrackController=L,S.push(L)}[r.subtitleStreamController,r.timelineController].forEach(function(e){e&&S.push(new e(t))}),this.coreComponents=S}return n(e,null,[{key:"isSupported",value:function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return r&&a}},{key:"version",get:function(){return"0.7.11"}},{key:"Events",get:function(){return s.default}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:y.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),n(e,[{key:"destroy",value:function(){g.logger.log("destroy"),this.trigger(s.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1}},{key:"attachMedia",value:function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(s.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){g.logger.log("detachMedia"),this.trigger(s.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){e=o.default.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(s.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;g.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})}},{key:"stopLoad",value:function(){g.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})}},{key:"swapAudioCodec",value:function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e);var t=this;-1!==e&&(e=Math.max(e,t.minAutoLevel)),t.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this,t=e.levels,r=e.config.minAutoBitrate,a=t?t.length:0,i=0;i<a;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>r)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this,t=e.levels,r=e.autoLevelCapping;return-1===r&&t&&t.length?t.length-1:r}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();r.default=m},{1:1,10:10,11:11,2:2,28:28,30:30,36:36,37:37,38:38,4:4,46:46,9:9}],35:[function(e,t,r){"use strict";t.exports=e(34).default},{34:34}],36:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=e(28),f=e(46),h=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FRAG_LOADING));return r.loaders={},r}return o(t,e),s(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},u.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,r=t.type,a=this.loaders[r],i=this.hls.config;t.loaded=0,a&&(f.logger.warn("abort previous fragment loader for type:"+r),a.abort()),a=this.loaders[r]=t.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var n=void 0,o=void 0,s=void 0;n={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(n.rangeStart=l,n.rangeEnd=u),o={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},a.load(n,o,s)}},{key:"loadsuccess",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.data,n=r.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(l.default.FRAG_LOADED,{payload:i,frag:n,stats:t,networkDetails:a})}},{key:"loaderror",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.loader;a&&a.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})}},{key:"loadtimeout",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.loader;a&&a.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})}},{key:"loadprogress",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.frag;i.loaded=e.loaded,this.hls.trigger(l.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:a})}}]),t}(u.default);r.default=h},{28:28,29:29,30:30,46:46}],37:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(30)),u=a(e(29)),d=e(28),f=e(46),h=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return o(t,e),s(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},u.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,r=t.type,a=this.loaders[r],i=t.decryptdata,n=i.uri;if(n!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;a&&(f.logger.warn("abort previous key loader for type:"+r),a.abort()),t.loader=this.loaders[r]=new o.loader(o),this.decrypturl=n,this.decryptkey=null;var s=void 0,u=void 0,d=void 0;s={url:n,frag:t,responseType:"arraybuffer"},u={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,u,d)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(l.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,r){var a=r.frag;this.decryptkey=a.decryptdata.key=new Uint8Array(e.data),a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(l.default.KEY_LOADED,{frag:a})}},{key:"loaderror",value:function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})}},{key:"loadtimeout",value:function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})}}]),t}(u.default);r.default=h},{28:28,29:29,30:30,46:46}],38:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(e(2)),u=a(e(30)),d=a(e(29)),f=e(28),h=a(e(42)),c=e(46),v=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,g=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),y=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,m=function(){function e(){o(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return s(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=l.default.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),b=function(){function e(){o(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return s(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new m).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=l.default.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),E=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADING,u.default.LEVEL_LOADING,u.default.AUDIO_TRACK_LOADING,u.default.SUBTITLE_TRACK_LOADING));return r.loaders={},r}return n(t,e),s(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},d.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"onSubtitleTrackLoading",value:function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})}},{key:"load",value:function(e,t){var r=this.loaders[t.type];if(r){var a=r.context;if(a&&a.url===e)return void c.logger.trace("playlist request ongoing");c.logger.warn("abort previous loader for type:"+t.type),r.abort()}var i=this.hls.config,n=void 0,o=void 0,s=void 0,l=void 0;"manifest"===t.type?(n=i.manifestLoadingMaxRetry,o=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,l=i.manifestLoadingMaxRetryTimeout):(n=i.levelLoadingMaxRetry,o=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,l=i.levelLoadingMaxRetryTimeout,c.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),r=this.loaders[t.type]=t.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),t.url=e,t.responseType="";var u=void 0,d=void 0;u={timeout:o,maxRetry:n,retryDelay:s,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,u,d)}},{key:"resolve",value:function(e,t){return l.default.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"parseMasterPlaylist",value:function(e,t){var r=[],a=void 0;for(v.lastIndex=0;null!=(a=v.exec(e));){var i={},n=i.attrs=new h.default(a[1]);i.url=this.resolve(a[2],t);var o=n.decimalResolution("RESOLUTION");o&&(i.width=o.width,i.height=o.height),i.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),i.name=n.NAME;var s=n.CODECS;if(s){s=s.split(/[ ,]+/);for(var l=0;l<s.length;l++){var u=s[l];-1!==u.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(u):-1!==u.indexOf("hvc1")?i.videoCodec=u:i.audioCodec=u}}r.push(i)}return r}},{key:"parseMasterPlaylistMedia",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=void 0,n=[],o=0;for(g.lastIndex=0;null!=(i=g.exec(e));){var s={},l=new h.default(i[1]);l.TYPE===r&&(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=r,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,t)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),a&&(s.audioCodec=a),s.id=o++,n.push(s))}return n}},{key:"avc1toavcoti",value:function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,r,a){var i,n,o=0,s=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},u=new m,d=0,f=null,v=new b;for(p.lastIndex=0;null!==(i=p.exec(e));){var g=i[1];if(g){v.duration=parseFloat(g);var E=(" "+i[2]).slice(1);v.title=E||null,v.tagList.push(E?["INF",g,E]:["INF",g])}else if(i[3]){if(!isNaN(v.duration)){var _=o++;v.type=a,v.start=s,v.levelkey=u,v.sn=_,v.level=r,v.cc=d,v.baseurl=t,v.relurl=(" "+i[3]).slice(1),l.fragments.push(v),f=v,s+=v.duration,v=new b}}else if(i[4]){if(v.rawByteRange=(" "+i[4]).slice(1),f){var T=f.byteRangeEndOffset;T&&(v.lastByteRangeEndOffset=T)}}else if(i[5])v.rawProgramDateTime=(" "+i[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]);else{for(i=i[0].match(y),n=1;n<i.length&&void 0===i[n];n++);var R=(" "+i[n+1]).slice(1),A=(" "+i[n+2]).slice(1);switch(i[n]){case"#":v.tagList.push(A?[R,A]:[R]);break;case"PLAYLIST-TYPE":l.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(R);break;case"TARGETDURATION":l.targetduration=parseFloat(R);break;case"VERSION":l.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":d++,v.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(R);break;case"KEY":var S=R,k=new h.default(S),L=k.enumeratedString("METHOD"),w=k.URI,D=k.hexadecimalInteger("IV");L&&(u=new m,w&&["AES-128","SAMPLE-AES"].indexOf(L)>=0&&(u.method=L,u.baseuri=t,u.reluri=w,u.key=null,u.iv=D));break;case"START":var O=R,P=new h.default(O).decimalFloatingPoint("TIME-OFFSET");isNaN(P)||(l.startTimeOffset=P);break;case"MAP":var x=new h.default(R);v.relurl=x.URI,v.rawByteRange=x.BYTERANGE,v.baseurl=t,v.level=r,v.type=a,v.sn="initSegment",l.initSegment=v,v=new b;break;default:c.logger.warn("line parsed but not handled: "+i)}}}return(v=f)&&!v.relurl&&(l.fragments.pop(),s-=v.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=o-1,l}},{key:"loadsuccess",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.data,n=e.url,o=r.type,s=r.id,l=r.level,d=this.hls;if(this.loaders[o]=void 0,void 0!==n&&0!==n.indexOf("data:")||(n=r.url),t.tload=performance.now(),0===i.indexOf("#EXTM3U"))if(i.indexOf("#EXTINF:")>0){var h="audioTrack"!==o&&"subtitleTrack"!==o,v=isNaN(l)?isNaN(s)?0:s:l,g=this.parseLevelPlaylist(i,n,v,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");g.tload=t.tload,"manifest"===o&&d.trigger(u.default.MANIFEST_LOADED,{levels:[{url:n,details:g}],audioTracks:[],url:n,stats:t,networkDetails:a}),t.tparsed=performance.now(),g.targetduration?h?d.trigger(u.default.LEVEL_LOADED,{details:g,level:l||0,id:s||0,stats:t,networkDetails:a}):"audioTrack"===o?d.trigger(u.default.AUDIO_TRACK_LOADED,{details:g,id:s,stats:t,networkDetails:a}):"subtitleTrack"===o&&d.trigger(u.default.SUBTITLE_TRACK_LOADED,{details:g,id:s,stats:t,networkDetails:a}):d.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"invalid targetduration",networkDetails:a})}else{var p=this.parseMasterPlaylist(i,n);if(p.length){var y=this.parseMasterPlaylistMedia(i,n,"AUDIO",p[0].audioCodec),m=this.parseMasterPlaylistMedia(i,n,"SUBTITLES");if(y.length){var b=!1;y.forEach(function(e){e.url||(b=!0)}),!1===b&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(c.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main"}))}d.trigger(u.default.MANIFEST_LOADED,{levels:p,audioTracks:y,subtitles:m,url:n,stats:t,networkDetails:a})}else d.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no level found in manifest",networkDetails:a})}else d.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no EXTM3U delimiter",networkDetails:a})}},{key:"loaderror",value:function(e,t){var r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.loader;switch(t.type){case"manifest":r=f.ErrorDetails.MANIFEST_LOAD_ERROR,a=!0;break;case"level":r=f.ErrorDetails.LEVEL_LOAD_ERROR,a=!1;break;case"audioTrack":r=f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,a=!1}n&&(n.abort(),this.loaders[t.type]=void 0),this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:r,fatal:a,url:n.url,loader:n,response:e,context:t,networkDetails:i})}},{key:"loadtimeout",value:function(e,t){var r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.loader;switch(t.type){case"manifest":r=f.ErrorDetails.MANIFEST_LOAD_TIMEOUT,a=!0;break;case"level":r=f.ErrorDetails.LEVEL_LOAD_TIMEOUT,a=!1;break;case"audioTrack":r=f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,a=!1}n&&(n.abort(),this.loaders[t.type]=void 0),this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:r,fatal:a,url:n.url,loader:n,context:t,networkDetails:i})}}]),t}(d.default);r.default=E},{2:2,28:28,29:29,30:30,42:42,46:46}],39:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=Math.pow(2,32)-1,o=function(){function e(){a(this,e)}return i(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),a=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:a};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=n,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,r=Array.prototype.slice.call(arguments,1),a=8,i=r.length,n=i;i--;)a+=r[i].byteLength;for((t=new Uint8Array(a))[0]=a>>24&255,t[1]=a>>16&255,t[2]=a>>8&255,t[3]=255&a,t.set(e,4),i=0,a=8;i<n;i++)t.set(r[i],a),a+=r[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){r*=t;var a=Math.floor(r/(n+1)),i=Math.floor(r%(n+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24,a>>16&255,a>>8&255,255&a,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,a){return e.box(e.types.moof,e.mfhd(t),e.traf(a,r))}},{key:"moov",value:function(t){for(var r=t.length,a=[];r--;)a[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(a).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var r=t.length,a=[];r--;)a[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(a))}},{key:"mvhd",value:function(t,r){r*=t;var a=Math.floor(r/(n+1)),i=Math.floor(r%(n+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24,a>>16&255,a>>8&255,255&a,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)}},{key:"sdtp",value:function(t){var r,a,i=t.samples||[],n=new Uint8Array(4+i.length);for(a=0;a<i.length;a++)r=i[a].flags,n[a+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,a,i,n=[],o=[];for(r=0;r<t.sps.length;r++)i=(a=t.sps[r]).byteLength,n.push(i>>>8&255),n.push(255&i),n=n.concat(Array.prototype.slice.call(a));for(r=0;r<t.pps.length;r++)i=(a=t.pps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(a));var s=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,d=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,f>>24,f>>16&255,f>>8&255,255&f])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,a=t.duration*t.timescale,i=t.width,o=t.height,s=Math.floor(a/(n+1)),l=Math.floor(a%(n+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,r){var a=e.sdtp(t),i=t.id,o=Math.floor(r/(n+1)),s=Math.floor(r%(n+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,a.length+16+20+8+16+8+8),a)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var a,i,n,o,s,l,u=t.samples||[],d=u.length,f=12+16*d,h=new Uint8Array(f);for(r+=8+f,h.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),a=0;a<d;a++)n=(i=u[a]).duration,o=i.size,s=i.flags,l=i.cts,h.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*a);return e.box(e.types.trun,h)}},{key:"initSegment",value:function(t){e.types||e.init();var r,a=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+a.byteLength)).set(e.FTYP),r.set(a,e.FTYP.byteLength),r}}]),e}();r.default=o},{}],40:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=a(e(31)),s=a(e(30)),l=e(46),u=a(e(39)),d=e(28),f=function(){function e(t,r,a,n){i(this,e),this.observer=t,this.config=r,this.typeSupported=a;var o=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return n(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this._initPTS=this._initDTS=e}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,r,a,i,n,o){if(this.ISGenerated){if(o){var u=this._initPTS,d=this._PTSNormalize,f=e.inputTimeScale||t.inputTimeScale,h=1/0,c=1/0,v=e.samples;if(v.length&&(h=c=d(v[0].pts-f*i,u)),(v=t.samples).length){var g=v[0];h=Math.min(h,d(g.pts-f*i,u)),c=Math.min(c,d(g.dts-f*i,u))}if(h!==1/0){var p=u-h;Math.abs(p)>10*f&&(l.logger.warn("timestamp inconsistency, "+(p/f).toFixed(3)+"s delta against expected value: missing discontinuity ? reset initPTS/initDTS"),this._initPTS=h,this._initDTS=c,this.observer.trigger(s.default.INIT_PTS_FOUND,{initPTS:h}))}}}else this.generateIS(e,t,i);if(this.ISGenerated)if(e.samples.length){e.timescale||(l.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,i));var y=this.remuxAudio(e,i,n,o);if(t.samples.length){var m=void 0;y&&(m=y.endPTS-y.startPTS),t.timescale||(l.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,i)),this.remuxVideo(t,i,n,m,o)}}else{var b=void 0;t.samples.length&&(b=this.remuxVideo(t,i,n,o)),b&&e.codec&&this.remuxEmptyAudio(e,i,n,b)}r.samples.length&&this.remuxID3(r,i),a.samples.length&&this.remuxText(a,i),this.observer.trigger(s.default.FRAG_PARSED)}},{key:"generateIS",value:function(e,t,r){var a,i,n=this.observer,o=e.samples,f=t.samples,h=this.typeSupported,c="audio/mp4",v={},g={tracks:v},p=void 0===this._initPTS;if(p&&(a=i=1/0),e.config&&o.length&&(e.timescale=e.samplerate,l.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(h.mpeg?(c="audio/mpeg",e.codec=""):h.mp3&&(e.codec="mp3")),v.audio={container:c,codec:e.codec,initSegment:!e.isAAC&&h.mpeg?new Uint8Array:u.default.initSegment([e]),metadata:{channelCount:e.channelCount}},p&&(a=i=o[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&f.length){var y=t.inputTimeScale;t.timescale=y,v.video={container:"video/mp4",codec:t.codec,initSegment:u.default.initSegment([t]),metadata:{width:t.width,height:t.height}},p&&(a=Math.min(a,f[0].pts-y*r),i=Math.min(i,f[0].dts-y*r),this.observer.trigger(s.default.INIT_PTS_FOUND,{initPTS:a}))}Object.keys(v).length?(n.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,p&&(this._initPTS=a,this._initDTS=i)):n.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,r,a,i){var n,o,f,h,c,v,g,p=8,y=e.timescale,m=e.samples,b=[],E=m.length,_=this._PTSNormalize,T=this._initDTS,R=this.nextAvcDts,A=this.isSafari;A&&(r|=m.length&&R&&(i&&Math.abs(t-R/y)<.1||Math.abs(m[0].pts-R-T)<y/5)),r||(R=t*y),m.forEach(function(e){e.pts=_(e.pts-T,R),e.dts=_(e.dts-T,R)}),m.sort(function(e,t){var r=e.dts-t.dts,a=e.pts-t.pts;return r||(a||e.id-t.id)});var S=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(S<0){l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue");for(var k=0;k<m.length;k++)m[k].dts+=S}var L=m[0];c=Math.max(L.dts,0),h=Math.max(L.pts,0);var w=Math.round((c-R)/90);r&&w&&(w>1?l.logger.log("AVC:"+w+" ms hole between fragments detected,filling it"):w<-1&&l.logger.log("AVC:"+-w+" ms overlapping between fragments detected"),c=R,m[0].dts=c,h=Math.max(h-w,R),m[0].pts=h,l.logger.log("Video/PTS/DTS adjusted: "+Math.round(h/90)+"/"+Math.round(c/90)+",delta:"+w+" ms")),L=m[m.length-1],g=Math.max(L.dts,0),v=Math.max(L.pts,0,g),A&&(n=Math.round((g-c)/(m.length-1)));for(var D=0,O=0,P=0;P<E;P++){for(var x=m[P],I=x.units,M=I.length,F=0,C=0;C<M;C++)F+=I[C].data.length;O+=F,D+=M,x.length=F,x.dts=A?c+P*n:Math.max(x.dts,c),x.pts=Math.max(x.pts,x.dts)}var N=O+4*D+8;try{o=new Uint8Array(N)}catch(e){return void this.observer.trigger(s.default.ERROR,{type:d.ErrorTypes.MUX_ERROR,details:d.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var U=new DataView(o.buffer);U.setUint32(0,N),o.set(u.default.types.mdat,4);for(var B=0;B<E;B++){for(var G=m[B],j=G.units,H=0,V=void 0,W=0,K=j.length;W<K;W++){var z=j[W],Y=z.data,X=z.data.byteLength;U.setUint32(p,X),p+=4,o.set(Y,p),p+=X,H+=4+X}if(A)V=Math.max(0,n*Math.round((G.pts-G.dts)/n));else{if(B<E-1)n=m[B+1].dts-G.dts;else{var q=this.config,Q=G.dts-m[B>0?B-1:B].dts;if(q.stretchShortVideoTrack){var Z=q.maxBufferHole,J=q.maxSeekHole,$=Math.floor(Math.min(Z,J)*y),ee=(a?h+a*y:this.nextAudioPts)-G.pts;ee>$?((n=ee-Q)<0&&(n=Q),l.logger.log("It is approximately "+ee/90+" ms to the next segment; using duration "+n/90+" ms for the last video frame.")):n=Q}else n=Q}V=Math.round(G.pts-G.dts)}b.push({size:H,duration:n,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:G.key?2:1,isNonSync:G.key?0:1}})}this.nextAvcDts=g+n;var te=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var re=b[0].flags;re.dependsOn=2,re.isNonSync=0}e.samples=b,f=u.default.moof(e.sequenceNumber++,c,e),e.samples=[];var ae={data1:f,data2:o,startPTS:h/y,endPTS:(v+n)/y,startDTS:c/y,endDTS:this.nextAvcDts/y,type:"video",nb:b.length,dropped:te};return this.observer.trigger(s.default.FRAG_PARSING_DATA,ae),ae}},{key:"remuxAudio",value:function(e,t,r,a){var i,n,f,h,c,v,g,p=e.inputTimeScale,y=p/e.timescale,m=(e.isAAC?1024:1152)*y,b=this._PTSNormalize,E=this._initDTS,_=!e.isAAC&&this.typeSupported.mpeg,T=e.samples,R=[],A=this.nextAudioPts;if((r|=T.length&&A&&(a&&Math.abs(t-A/p)<.1||Math.abs(T[0].pts-A-E)<20*m))||(A=t*p),T.forEach(function(e){e.pts=e.dts=b(e.pts-E,A)}),T.sort(function(e,t){return e.pts-t.pts}),a&&e.isAAC)for(var S=0,k=A;S<T.length;){var L,w=T[S];L=w.pts-k;var D=Math.abs(1e3*L/p);if(L<=-m)l.logger.warn("Dropping 1 audio frame @ "+(k/p).toFixed(3)+"s due to "+D+" ms overlap."),T.splice(S,1),e.len-=w.unit.length;else if(L>=m&&D<1e4&&k){var O=Math.round(L/m);l.logger.warn("Injecting "+O+" audio frame @ "+(k/p).toFixed(3)+"s due to "+Math.round(1e3*L/p)+" ms gap.");for(var P=0;P<O;P++){var x=Math.max(k,0);(f=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(l.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=w.unit.subarray()),T.splice(S,0,{unit:f,pts:x,dts:x}),e.len+=f.length,k+=m,S++}w.pts=w.dts=k,k+=m,S++}else Math.abs(L),w.pts=w.dts=k,k+=m,S++}for(var I=0,M=T.length;I<M;I++){var F=T[I],C=F.unit,N=F.pts;if(void 0!==g)n.duration=Math.round((N-g)/y);else{var U=Math.round(1e3*(N-A)/p),B=0;if(r&&e.isAAC&&U){if(U>0&&U<1e4)B=Math.round((N-A)/m),l.logger.log(U+" ms hole between AAC samples detected,filling it"),B>0&&((f=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(f=C.subarray()),e.len+=B*f.length);else if(U<-12){l.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(A/p).toFixed(3)+"s/"+(N/p).toFixed(3)+"s/"+-U+"ms"),e.len-=C.byteLength;continue}N=A}if(v=Math.max(0,N),!(e.len>0))return;var G=_?e.len:e.len+8;i=_?0:8;try{h=new Uint8Array(G)}catch(e){return void this.observer.trigger(s.default.ERROR,{type:d.ErrorTypes.MUX_ERROR,details:d.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}_||(new DataView(h.buffer).setUint32(0,G),h.set(u.default.types.mdat,4));for(var j=0;j<B;j++)(f=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(l.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=C.subarray()),h.set(f,i),i+=f.byteLength,n={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},R.push(n)}h.set(C,i);var H=C.byteLength;i+=H,n={size:H,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},R.push(n),g=N}var V=0,W=R.length;if(W>=2&&(V=R[W-2].duration,n.duration=V),W){this.nextAudioPts=A=g+y*V,e.len=0,e.samples=R,c=_?new Uint8Array:u.default.moof(e.sequenceNumber++,v/y,e),e.samples=[];var K=v/p,z=A/p,Y={data1:c,data2:h,startPTS:K,endPTS:z,startDTS:K,endDTS:z,type:"audio",nb:W};return this.observer.trigger(s.default.FRAG_PARSING_DATA,Y),Y}return null}},{key:"remuxEmptyAudio",value:function(e,t,r,a){var i=e.inputTimeScale,n=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,u=(void 0!==s?s:a.startDTS*i)+this._initDTS,d=a.endDTS*i+this._initDTS,f=1024*n,h=Math.ceil((d-u)/f),c=o.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("remux empty Audio"),c){for(var v=[],g=0;g<h;g++){var p=u+g*f;v.push({unit:c,pts:p,dts:p}),e.len+=c.length}e.samples=v,this.remuxAudio(e,t,r)}else l.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")}},{key:"remuxID3",value:function(e,t){var r,a=e.samples.length,i=e.inputTimeScale,n=this._initPTS,o=this._initDTS;if(a){for(var l=0;l<a;l++)(r=e.samples[l]).pts=(r.pts-n)/i,r.dts=(r.dts-o)/i;this.observer.trigger(s.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,a=e.samples.length,i=e.inputTimeScale,n=this._initPTS;if(a){for(var o=0;o<a;o++)(r=e.samples[o]).pts=(r.pts-n)/i;this.observer.trigger(s.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}}]),e}();r.default=f},{28:28,30:30,31:31,39:39,46:46}],41:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e(30)),o=function(){function e(t){a(this,e),this.observer=t}return i(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(e,t,r,a,i,o,s,l){var u=this.observer,d="";e&&(d+="audio"),t&&(d+="video"),u.trigger(n.default.FRAG_PARSING_DATA,{data1:l,startPTS:i,startDTS:i,type:d,nb:1,dropped:0}),u.trigger(n.default.FRAG_PARSED)}}]),e}();r.default=o},{30:30}],42:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,s=function(){function e(t){a(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])}return i(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),a=0;a<t.length/2;a++)r[a]=parseInt(t.slice(2*a,2*a+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,r={};for(o.lastIndex=0;null!==(t=o.exec(e));){var a=t[2];0===a.indexOf('"')&&a.lastIndexOf('"')===a.length-1&&(a=a.slice(1,-1)),r[t[1]]=a}return r}}]),e}();r.default=s},{}],43:[function(e,t,r){"use strict";var a={search:function(e,t){for(var r=0,a=e.length-1,i=null,n=null;r<=a;){var o=t(n=e[i=(r+a)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return n;a=i-1}}return null}};t.exports=a},{}],44:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(e){return e&&e.__esModule?e:{default:e}}(e(45)),o=function(){function e(t,r,i,o){a(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(r),this.fast_=new n.default(i)}return i(e,[{key:"sample",value:function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),a=e/1e3;this.fast_.sample(a,r),this.slow_.sample(a,r)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();r.default=o},{45:45}],45:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t){a(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return i(e,[{key:"sample",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();r.default=n},{}],46:[function(e,t,r){"use strict";function a(){}function i(e,t){return t="["+e+"] > "+t}function n(e){var t=self.console[e];return t?function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];a[0]&&(a[0]=i(e,a[0])),t.apply(self.console,a)}:a}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];r.forEach(function(t){u[t]=e[t]?e[t].bind(e):n(t)})}Object.defineProperty(r,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:a,debug:a,log:a,warn:a,info:a,error:a},u=l;r.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":s(e))){o(e,"debug","log","info","warn","error");try{u.log()}catch(e){u=l}}else u=l},r.logger=u},{}],47:[function(e,t,r){"use strict";var a={toString:function(e){for(var t="",r=e.length,a=0;a<r;a++)t+="["+e.start(a).toFixed(3)+","+e.end(a).toFixed(3)+"]";return t}};t.exports=a},{}],48:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=e(46),o=function(){function e(t){a(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var a=this.xhrSetup;try{if(a)try{a(e,t.url)}catch(r){e.open("GET",t.url,!0),a(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,r=t.readyState,a=this.stats,i=this.context,o=this.config;if(!a.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===a.tfirst&&(a.tfirst=Math.max(performance.now(),a.trequest)),4===r){var s=t.status;if(s>=200&&s<300){a.tload=Math.max(a.tfirst,performance.now());var l=void 0,u=void 0;u="arraybuffer"===i.responseType?(l=t.response).byteLength:(l=t.responseText).length,a.loaded=a.total=u;var d={url:t.responseURL,data:l};this.callbacks.onSuccess(d,a,i,t)}else a.retry>=o.maxRetry||s>=400&&s<499?(n.logger.error(s+" while loading "+i.url),this.callbacks.onError({code:s,text:t.statusText},i,t)):(n.logger.warn(s+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),a.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)}},{key:"loadtimeout",value:function(){n.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)}},{key:"loadprogress",value:function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var a=this.callbacks.onProgress;a&&a(r,this.context,null,t)}}]),e}();r.default=o},{46:46}]},{},[35])(35)});
;
/*!
 * VERSION: 1.15.1
 * DATE: 2015-01-08
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,l=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},h=l("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},m=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),c={},p=function(s,r,n,a){this.sc=c[s]?c[s].sc:[],c[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(h){for(var _,u,m,f,d=r.length,v=d;--d>-1;)(_=c[r[d]]||new p(r[d],[])).gsClass?(o[d]=_.gsClass,v--):h&&_.sc.push(this);if(0===v&&n)for(u=("com.greensock."+s).split("."),m=u.pop(),f=l(u.join("."))[m]=this.gsClass=n.apply(n,o),a&&(i[m]=f,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return f}):s===e&&"undefined"!=typeof module&&module.exports&&(module.exports=f)),d=0;this.sc.length>d;d++)this.sc[d].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new p(t,e,i,s)},v=h._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var g=[0,0,1,1],T=[],y=v("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?g.concat(e):g},!0),w=y.map={},P=y.register=function(t,e,i,s){for(var r,n,a,o,l=e.split(","),_=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=l[_],r=s?v("easing."+n,null,!0):h.easing[n]||{},a=u.length;--a>-1;)o=u[a],w[n+"."+o]=w[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=y.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,P(new y(null,null,1,r),n,"easeOut",!0),P(new y(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),P(new y(null,null,3,r),n,"easeInOut");w.linear=h.easing.Linear.easeIn,w.swing=h.easing.Quad.easeInOut;var b=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,l,h=this._listeners[t],_=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)n=h[l],n.c===e&&n.s===i?h.splice(l,1):0===_&&r>n.pr&&(_=l+1);h.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return s.splice(i,1),void 0},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var k=t.requestAnimationFrame,A=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},x=S();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!k;)k=t[s[r]+"RequestAnimationFrame"],A=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,s,r,n,l,h=this,u=S(),f=e!==!1&&k,c=500,p=33,d="tick",v=function(t){var e,a,o=S()-x;o>c&&(u+=o-p),x+=o,h.time=(x-u)/1e3,e=h.time-l,(!i||e>0||t===!0)&&(h.frame++,l+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(v)),a&&h.dispatchEvent(d)};b.call(h),h.time=h.frame=0,h.tick=function(){v(!0)},h.lagSmoothing=function(t,e){c=t||1/_,p=Math.min(e,c,0)},h.sleep=function(){null!=r&&(f&&A?A(r):clearTimeout(r),s=m,r=null,h===a&&(o=!1))},h.wake=function(){null!==r?h.sleep():h.frame>10&&(x=S()-c+5),s=0===i?m:f&&k?k:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===a&&(o=!0),v(2)},h.fps=function(t){return arguments.length?(i=t,n=1/(i||60),l=this.time+n,h.wake(),void 0):i},h.useRAF=function(t){return arguments.length?(h.sleep(),f=t,h.fps(i),void 0):f},h.fps(t),setTimeout(function(){f&&(!r||5>h.frame)&&h.useRAF(!1)},1500)}),n=h.Ticker.prototype=new h.events.EventDispatcher,n.constructor=h.Ticker;var R=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,B){o||a.wake();var i=this.vars.useFrames?q:B;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=R.ticker=new h.Ticker,n=R.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var C=function(){o&&S()-x>2e3&&a.wake(),setTimeout(C,2e3)};C(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),z.length&&M())}return this},n.progress=n.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){o||t||a.wake();var e=this._timeline,i=e.rawTime(),s=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=s,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==s&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var D=v("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=D.prototype=new R,n.constructor=D,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var I=v("TweenLite",function(e,i,s){if(R.call(this,i,s),this.render=I.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:I.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Q[I.defaultOverwrite]:"number"==typeof l?l>>0:Q[l],(o||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=$(n,this,!1),1===l&&this._siblings[r].length>1&&H(n,this,null,1,this._siblings[r])):(n=a[r--]=I.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===l&&this._siblings.length>1&&H(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),E=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},O=function(t,e){var i,s={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!U[i]||U[i]&&U[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=I.prototype=new R,n.constructor=I,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,I.version="1.15.1",I.defaultEase=n._ease=new y(null,null,1,1),I.defaultOverwrite="auto",I.ticker=a,I.autoSleep=!0,I.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},I.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(I.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var z=[],L={},N=I._internals={isArray:f,isSelector:E,lazyTweens:z},U=I._plugins={},F=N.tweenLookup={},j=0,G=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},Q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=R._rootFramesTimeline=new D,B=R._rootTimeline=new D,M=N.lazyRender=function(){var t,e=z.length;for(L={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};B._startTime=a.time,q._startTime=a.frame,B._active=q._active=!0,setTimeout(M,1),R._updateRoot=I.render=function(){var t,e,i;if(z.length&&M(),B.render((a.time-B._startTime)*B._timeScale,!1,!1),q.render((a.frame-q._startTime)*q._timeScale,!1,!1),z.length&&M(),!(a.frame%120)){for(i in F){for(e=F[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if(i=B._first,(!i||i._paused)&&I.autoSleep&&!q._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",R._updateRoot);var $=function(t,e,i){var s,r,n=t._gsTweenID;if(F[n||(t._gsTweenID=n="t"+j++)]||(F[n]={target:t,tweens:[]}),e&&(s=F[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return F[n].tweens},K=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=I.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},H=function(t,e,i,s,r){var n,a,o,l;if(1===s||s>=4){for(l=r.length,n=0;l>n;n++)if((o=r[n])!==e)o._gc||K(o,e)&&o._enabled(!1,!1)&&(a=!0);else if(5===s)break;return a}var h,u=e._startTime+_,m=[],f=0,c=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||J(e,0,c),0===J(o,h,c)&&(m[f++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((c||!o._initted)&&2e-10>=u-o._startTime||(m[f++]=o)));for(n=f;--n>-1;)if(o=m[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!K(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},J=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,l=!!n.immediateRender,h=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=I.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(s in n)G[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&n.lazy!==!1,i.immediateRender=l,this._startAt=I.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,n.easeParams):w[h]||I.defaultEase:I.defaultEase,n.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,l,h,_;if(null==e)return!1;L[e._gsTweenID]&&M(),this.vars.css||e.style&&e!==t&&e.nodeType&&U.css&&this.vars.autoCSS!==!1&&O(this.vars,e);for(n in this.vars){if(_=this.vars[n],G[n])_&&(_ instanceof Array||_.push&&f(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(U[n]&&(l=new U[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[n]=h={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pg:!1,pr:0},h.s=h.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),h.c="string"==typeof _&&"="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*Number(_.substr(2)):Number(_)-h.s||0;h&&h._next&&(h._next._prev=h)}return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&H(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[e._gsTweenID]=!0),o)},n.render=function(t,e,i){var s,r,n,a,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete"),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===_&&"isPause"!==this.data)&&h!==t&&(i=!0,h>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||h===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0&&h!==_)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||h===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,m=this._easeType,f=this._easePower;(1===m||3===m&&u>=.5)&&(u=1-u),3===m&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),this.ratio=1===m?1-u:2===m?u:.5>t/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,z.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/l):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||T))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||T)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||T),0===l&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var s,r,n,a,o,l,h,_,u;if((f(e)||E(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s])&&(l=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(n in h)o[n]&&(u||(u=[]),u.push(n));if(!K(this,i,e,u))return!1}for(n in h)(a=o[n])&&(a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},n.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=$(s[i],this,!0);else this._siblings=$(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new I(t,e,s)},I.delayedCall=function(t,e,i,s,r){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:s,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:s,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var i,s,r,n;if((f(t)||E(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(I.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=$(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=I.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var V=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=V.prototype},!0);if(n=V.prototype,V.version="1.10.1",V.API=2,n._firstPT=null,n._addTween=function(t,e,i,s,r,n){var a,o;return null!=s&&(a="number"==typeof s||"="!==s.charAt(1)?Number(s)-i:parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:n},o._next&&(o._next._prev=o),o):void 0},n.setRatio=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},I._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},V.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===V.API&&(U[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){V.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new V(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,V.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in c)c[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}})("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");;
/*!
 * VERSION: 0.11.0
 * DATE: 2015-01-20
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Requires TweenLite and CSSPlugin version 1.11.0 or later (TweenMax contains both TweenLite and CSSPlugin). ThrowPropsPlugin is required for momentum-based continuation of movement after the mouse/touch is released (ThrowPropsPlugin is a membership benefit of Club GreenSock - http://www.greensock.com/club/).
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite"],function(t,e){var i,s,r,n,a,o={css:{}},h={css:{}},l={css:{}},u={css:{}},_=_gsScope._gsDefine.globals,c={},f=document,p=f.documentElement||{},d=[],m=function(){return!1},g=180/Math.PI,v=999999999999999,y=Date.now||function(){return(new Date).getTime()},T=!f.addEventListener&&f.all,w=[],x={},b=0,P=/^(?:a|input|textarea|button|select)$/i,S=0,C=0,k=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var i,s=[],r=t.length;for(i=0;i!==r;s.push(t[i++]));return s},R=function(){for(var t=w.length;--t>-1;)w[t]()},A=function(t){w.push(t),1===w.length&&e.ticker.addEventListener("tick",R,this,!1,1)},D=function(t){for(var i=w.length;--i>-1;)w[i]===t&&w.splice(i,1);e.to(O,0,{overwrite:"all",delay:15,onComplete:O})},O=function(){w.length||e.ticker.removeEventListener("tick",R)},M=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},L=function(){return null!=window.pageYOffset?window.pageYOffset:null!=f.scrollTop?f.scrollTop:p.scrollTop||f.body.scrollTop||0},E=function(){return null!=window.pageXOffset?window.pageXOffset:null!=f.scrollLeft?f.scrollLeft:p.scrollLeft||f.body.scrollLeft||0},N=function(t,e){return t=t||window.event,c.pageX=t.clientX+f.body.scrollLeft+p.scrollLeft,c.pageY=t.clientY+f.body.scrollTop+p.scrollTop,e&&(t.returnValue=!1),c},I=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},z=function(t,e){var s,r,n,a=t.style;if(void 0===a[e]){for(n=["O","Moz","ms","Ms","Webkit"],r=5,s=e.charAt(0).toUpperCase()+e.substr(1);--r>-1&&void 0===a[n[r]+s];);if(0>r)return"";i=3===r?"ms":n[r],e=i+s}return e},F=function(t,e,i){var s=t.style;s&&(void 0===s[e]&&(e=z(t,e)),null==i?s.removeProperty?s.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):s.removeAttribute(e):void 0!==s[e]&&(s[e]=i))},X=f.defaultView?f.defaultView.getComputedStyle:m,Y=/(?:Left|Right|Width)/i,U=/(?:\d|\-|\+|=|#|\.)*/g,B=function(t,e,i,s,r){if("px"===s||!s)return i;if("auto"===s||!i)return 0;var n,a=Y.test(e),o=t,h=H.style,l=0>i;return l&&(i=-i),"%"===s&&-1!==e.indexOf("border")?n=i/100*(a?t.clientWidth:t.clientHeight):(h.cssText="border:0 solid red;position:"+W(t,"position",!0)+";line-height:0;","%"!==s&&o.appendChild?h[a?"borderLeftWidth":"borderTopWidth"]=i+s:(o=t.parentNode||f.body,h[a?"width":"height"]=i+s),o.appendChild(H),n=parseFloat(H[a?"offsetWidth":"offsetHeight"]),o.removeChild(H),0!==n||r||(n=B(t,e,i,s,!0))),l?-n:n},j=function(t,e){if("absolute"!==W(t,"position",!0))return 0;var i="left"===e?"Left":"Top",s=W(t,"margin"+i,!0);return t["offset"+i]-(B(t,e,parseFloat(s),s.replace(U,""))||0)},W=function(t,e,i){var s,r=(t._gsTransform||{})[e];return r||0===r?r:(t.style[e]?r=t.style[e]:(s=X(t))?(r=s.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),r=r||s.length?r:s[e]):t.currentStyle&&(r=t.currentStyle[e]),"auto"!==r||"top"!==e&&"left"!==e||(r=j(t,e)),i?r:parseFloat(r)||0)},q=function(t,e,i){var s=t.vars,r=s[i],n=t._listeners[e];"function"==typeof r&&r.apply(s[i+"Scope"]||t,s[i+"Params"]||[t.pointerEvent]),n&&t.dispatchEvent(e)},V=function(t,e){var i,s,r,n=I(t);return n?oe(n,e):void 0!==t.left?(r=ie(e),{left:t.left-r.x,top:t.top-r.y,width:t.width,height:t.height}):(s=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:s,top:i,width:(t.max||t.maxX||t.maxRotation||0)-s,height:(t.max||t.maxY||0)-i})},H=f.createElement("div"),G=""!==z(H,"perspective"),Q=z(H,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),Z=z(H,"transform"),$=Z.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),K={},J={},te=function(){if(!T){var t="http://www.w3.org/2000/svg",e=f.createElementNS(t,"svg"),i=f.createElementNS(t,"rect");return i.setAttributeNS(null,"width","10"),i.setAttributeNS(null,"height","10"),e.appendChild(i),e}}(),ee=function(t){if(!t.getBoundingClientRect||!t.parentNode)return{offsetTop:0,offsetLeft:0,offsetParent:p};for(var e,i,s,r=t,n=t.style.cssText;!r.offsetParent&&r.parentNode;)r=r.parentNode;return t.parentNode.insertBefore(te,t),t.parentNode.removeChild(t),te.style.cssText=n,te.style[Z]="none",te.setAttribute("class",t.getAttribute("class")),e=te.getBoundingClientRect(),s=r.offsetParent,s?(s===f.body&&p&&(s=p),i=s.getBoundingClientRect()):i={top:-L(),left:-E()},te.parentNode.insertBefore(t,te),t.parentNode.removeChild(te),{offsetLeft:e.left-i.left,offsetTop:e.top-i.top,offsetParent:r.offsetParent||p}},ie=function(t,e){if(e=e||{},!t||t===p||!t.parentNode)return{x:0,y:0};var i=X(t),s=Q&&i?i.getPropertyValue(Q):"50% 50%",r=s.split(" "),n=-1!==s.indexOf("left")?"0%":-1!==s.indexOf("right")?"100%":r[0],a=-1!==s.indexOf("top")?"0%":-1!==s.indexOf("bottom")?"100%":r[1];return("center"===a||null==a)&&(a="50%"),("center"===n||isNaN(parseFloat(n)))&&(n="50%"),e.x=-1!==n.indexOf("%")?t.offsetWidth*parseFloat(n)/100:parseFloat(n),e.y=-1!==a.indexOf("%")?t.offsetHeight*parseFloat(a)/100:parseFloat(a),e},se=function(t,e,i){var s,r,a,o,h,l;return t!==window&&t&&t.parentNode?(s=X(t),r=s?s.getPropertyValue($):t.currentStyle?t.currentStyle[Z]:"1,0,0,1,0,0",r=(r+"").match(/(?:\-|\b)[\d\-\.e]+\b/g)||[1,0,0,1,0,0],r.length>6&&(r=[r[0],r[1],r[4],r[5],r[12],r[13]]),e&&(a=t.parentNode,l=void 0===t.offsetLeft&&"svg"===t.nodeName.toLowerCase()?ee(t):t,o=l.offsetParent,h=a===p||a===f.body,void 0===n&&f.body&&Z&&(n=function(){var t,e,i=f.createElement("div"),s=f.createElement("div");return s.style.position="absolute",f.body.appendChild(i),i.appendChild(s),t=s.offsetParent,i.style[Z]="rotate(1deg)",e=s.offsetParent===t,f.body.removeChild(i),e}()),r[4]=Number(r[4])+e.x+(l.offsetLeft||0)-i.x-(h?0:a.scrollLeft)+(o?parseInt(W(o,"borderLeftWidth"),10)||0:0),r[5]=Number(r[5])+e.y+(l.offsetTop||0)-i.y-(h?0:a.scrollTop)+(o?parseInt(W(o,"borderTopWidth"),10)||0:0),!a||a.offsetParent!==o||n&&"100100"!==se(a).join("")||(r[4]-=a.offsetLeft||0,r[5]-=a.offsetTop||0),a&&"fixed"===W(t,"position",!0)&&(r[4]+=E(),r[5]+=L())),r):[1,0,0,1,0,0]},re=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var i,s,r,n,a,o,h,l,u=ie(t,K),_=ie(t.parentNode,J),c=se(t,u,_);(t=t.parentNode)&&t.parentNode&&t!==p;)u=_,_=ie(t.parentNode,u===K?J:K),h=se(t,u,_),i=c[0],s=c[1],r=c[2],n=c[3],a=c[4],o=c[5],c[0]=i*h[0]+s*h[2],c[1]=i*h[1]+s*h[3],c[2]=r*h[0]+n*h[2],c[3]=r*h[1]+n*h[3],c[4]=a*h[0]+o*h[2]+h[4],c[5]=a*h[1]+o*h[3]+h[5];return e&&(i=c[0],s=c[1],r=c[2],n=c[3],a=c[4],o=c[5],l=i*n-s*r,c[0]=n/l,c[1]=-s/l,c[2]=-r/l,c[3]=i/l,c[4]=(r*o-n*a)/l,c[5]=-(i*o-s*a)/l),c},ne=function(t,e,i){var s=re(t),r=e.x,n=e.y;return i=i===!0?e:i||{},i.x=r*s[0]+n*s[2]+s[4],i.y=r*s[1]+n*s[3]+s[5],i},ae=function(t,e,i){var s=t.x*e[0]+t.y*e[2]+e[4],r=t.x*e[1]+t.y*e[3]+e[5];return t.x=s*i[0]+r*i[2]+i[4],t.y=s*i[1]+r*i[3]+i[5],t},oe=function(t,e){var i,s,r,n,a,o,h,l,u,_,c;return t===window?(n=L(),s=E(),r=s+(p.clientWidth||t.innerWidth||f.body.clientWidth||0),a=n+((t.innerHeight||0)-20<p.clientHeight?p.clientHeight:t.innerHeight||f.body.clientHeight||0)):(i=ie(t),s=-i.x,r=s+t.offsetWidth,n=-i.y,a=n+t.offsetHeight),t===e?{left:s,top:n,width:r-s,height:a-n}:(o=re(t),h=re(e,!0),l=ae({x:s,y:n},o,h),u=ae({x:r,y:n},o,h),_=ae({x:r,y:a},o,h),c=ae({x:s,y:a},o,h),s=Math.min(l.x,u.x,_.x,c.x),n=Math.min(l.y,u.y,_.y,c.y),{left:s,top:n,width:Math.max(l.x,u.x,_.x,c.x)-s,height:Math.max(l.y,u.y,_.y,c.y)-n})},he=function(t){return t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0])?!0:!1},le=function(t){var e,i,s,r=[],n=t.length;for(e=0;n>e;e++)if(i=t[e],he(i))for(s=i.length,s=0;i.length>s;s++)r.push(i[s]);else r.push(i);return r},ue="ontouchstart"in p&&"orientation"in window,_e=function(t){for(var e=t.split(","),i=(void 0!==H.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==H.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),s={},r=8;--r>-1;)s[e[r]]=i[r],s[i[r]]=e[r];return s}("touchstart,touchmove,touchend,touchcancel"),ce=function(t,e,i){t.addEventListener?t.addEventListener(_e[e]||e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},fe=function(t,e,i){t.removeEventListener?t.removeEventListener(_e[e]||e,i):t.detachEvent&&t.detachEvent("on"+e,i)},pe=function(t){s=t.touches&&t.touches.length>S,fe(t.target,"touchend",pe)},de=function(t){s=t.touches&&t.touches.length>S,ce(t.target,"touchend",pe)},me=function(t,e,i,s,r,n){var a,o,h,l={};if(e)if(1!==r&&e instanceof Array)for(l.end=a=[],h=e.length,o=0;h>o;o++)a[o]=e[o]*r;else l.end="function"==typeof e?function(i){return e.call(t,i)*r}:e;return(i||0===i)&&(l.max=i),(s||0===s)&&(l.min=s),n&&(l.velocity=0),l},ge=function(t){var e;return t&&t.getAttribute&&"BODY"!==t.nodeName?"true"===(e=t.getAttribute("data-clickable"))||"false"!==e&&(t.onclick||P.test(t.nodeName+""))?!0:ge(t.parentNode):!1},ve=function(){var t,e=f.createElement("div"),i=f.createElement("div"),s=i.style,r=f.body||H;return s.display="inline-block",s.position="relative",e.style.cssText=i.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(i),r.appendChild(e),a=i.offsetHeight+18>e.scrollHeight,s.width="100%",Z||(s.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,s.left="-90px",t=t!==e.scrollLeft),r.removeChild(e),t}(),ye=function(t,i){t=I(t),i=i||{};var s,r,n,o,h,l,u=f.createElement("div"),_=u.style,c=t.firstChild,p=0,d=0,m=t.scrollTop,g=t.scrollLeft,v=t.scrollWidth,y=t.scrollHeight,w=0,x=0,b=0;G&&i.force3D!==!1?(h="translate3d(",l="px,0px)"):Z&&(h="translate(",l="px)"),this.scrollTop=function(t,e){return arguments.length?(this.top(-t,e),void 0):-this.top()},this.scrollLeft=function(t,e){return arguments.length?(this.left(-t,e),void 0):-this.left()},this.left=function(s,r){if(!arguments.length)return-(t.scrollLeft+d);var n=t.scrollLeft-g,a=d;return(n>2||-2>n)&&!r?(g=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-g),i.onKill&&i.onKill(),void 0):(s=-s,0>s?(d=0|s-.5,s=0):s>x?(d=0|s-x,s=x):d=0,(d||a)&&(h?this._suspendTransforms||(_[Z]=h+-d+"px,"+-p+l):_.left=-d+"px",ve&&d+w>=0&&(_.paddingRight=d+w+"px")),t.scrollLeft=0|s,g=t.scrollLeft,void 0)},this.top=function(s,r){if(!arguments.length)return-(t.scrollTop+p);var n=t.scrollTop-m,a=p;return(n>2||-2>n)&&!r?(m=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-m),i.onKill&&i.onKill(),void 0):(s=-s,0>s?(p=0|s-.5,s=0):s>b?(p=0|s-b,s=b):p=0,(p||a)&&(h?this._suspendTransforms||(_[Z]=h+-d+"px,"+-p+l):_.top=-p+"px"),t.scrollTop=0|s,m=t.scrollTop,void 0)},this.maxScrollTop=function(){return b},this.maxScrollLeft=function(){return x},this.disable=function(){for(c=u.firstChild;c;)o=c.nextSibling,t.appendChild(c),c=o;t===u.parentNode&&t.removeChild(u)},this.enable=function(){if(c=t.firstChild,c!==u){for(;c;)o=c.nextSibling,u.appendChild(c),c=o;t.appendChild(u),this.calibrate()}},this.calibrate=function(e){var i,o,h=t.clientWidth===s;m=t.scrollTop,g=t.scrollLeft,(!h||t.clientHeight!==r||u.offsetHeight!==n||v!==t.scrollWidth||y!==t.scrollHeight||e)&&((p||d)&&(i=this.left(),o=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),(!h||e)&&(_.display="block",_.width="auto",_.paddingRight="0px",w=Math.max(0,t.scrollWidth-t.clientWidth),w&&(w+=W(t,"paddingLeft")+(a?W(t,"paddingRight"):0))),_.display="inline-block",_.position="relative",_.overflow="visible",_.width="100%",_.paddingRight=w+"px",a&&(_.paddingBottom=W(t,"paddingBottom",!0)),T&&(_.zoom="1"),s=t.clientWidth,r=t.clientHeight,v=t.scrollWidth,y=t.scrollHeight,x=t.scrollWidth-s,b=t.scrollHeight-r,n=u.offsetHeight,(i||o)&&(this.left(i),this.top(o)))},this.content=u,this.element=t,this._suspendTransforms=!1,this.enable()},Te=function(i,n){t.call(this,i),i=I(i),r||(r=_.com.greensock.plugins.ThrowPropsPlugin),this.vars=n=n||{},this.target=i,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(n.dragResistance)||0,this.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,this.lockAxis=n.lockAxis;var a,c,p,w,P,R,O,L,E,z,X,Y,U,B,j,H,G,Q,Z,$,K,J,te,ee,ie,se,ae=(n.type||(T?"top,left":"x,y")).toLowerCase(),oe=-1!==ae.indexOf("x")||-1!==ae.indexOf("y"),he=-1!==ae.indexOf("rotation"),le=oe?"x":"left",pe=oe?"y":"top",ve=-1!==ae.indexOf("x")||-1!==ae.indexOf("left")||"scroll"===ae,we=-1!==ae.indexOf("y")||-1!==ae.indexOf("top")||"scroll"===ae,xe=n.minimumMovement||2,be=this,Pe=k(n.trigger||n.handle||i),Se={},Ce=0,ke=function(t){if(Q){var s=be.x,r=be.y,n=1e-6;n>s&&s>-n&&(s=0),n>r&&r>-n&&(r=0),he?(B.rotation=be.rotation=be.x,e.set(i,U)):c?(we&&c.top(r),ve&&c.left(s)):oe?(we&&(B.y=r),ve&&(B.x=s),e.set(i,U)):(we&&(i.style.top=r+"px"),ve&&(i.style.left=s+"px")),L&&!t&&q(be,"drag","onDrag")}Q=!1},Re=function(t,s){var r;oe?(i._gsTransform||e.set(i,{x:"+=0"}),be.y=i._gsTransform.y,be.x=i._gsTransform.x):he?(i._gsTransform||e.set(i,{x:"+=0"}),be.x=be.rotation=i._gsTransform.rotation):c?(be.y=c.top(),be.x=c.left()):(be.y=parseInt(i.style.top,10)||0,be.x=parseInt(i.style.left,10)||0),!$&&!K||s||($&&(r=$(be.x),r!==be.x&&(be.x=r,he&&(be.rotation=r),Q=!0)),K&&(r=K(be.y),r!==be.y&&(be.y=r,Q=!0)),Q&&ke(!0)),n.onThrowUpdate&&!t&&n.onThrowUpdate.apply(n.onThrowUpdateScope||be,n.onThrowUpdateParams||d)},Ae=function(){var t,e,s,r;O=!1,c?(c.calibrate(),be.minX=z=-c.maxScrollLeft(),be.minY=Y=-c.maxScrollTop(),be.maxX=E=be.maxY=X=0,O=!0):n.bounds&&(t=V(n.bounds,i.parentNode),he?(be.minX=z=t.left,be.maxX=E=t.left+t.width,be.minY=Y=be.maxY=X=0):void 0!==n.bounds.maxX||void 0!==n.bounds.maxY?(t=n.bounds,be.minX=z=t.minX,be.minY=Y=t.minY,be.maxX=E=t.maxX,be.maxY=X=t.maxY):(e=V(i,i.parentNode),be.minX=z=W(i,le)+t.left-e.left,be.minY=Y=W(i,pe)+t.top-e.top,be.maxX=E=z+(t.width-e.width),be.maxY=X=Y+(t.height-e.height)),z>E&&(be.minX=E,be.maxX=E=z,z=be.minX),Y>X&&(be.minY=X,be.maxY=X=Y,Y=be.minY),he&&(be.minRotation=z,be.maxRotation=E),O=!0),n.liveSnap&&(s=n.liveSnap===!0?n.snap||{}:n.liveSnap,r=s instanceof Array||"function"==typeof s,he?($=Ee(r?s:s.rotation,z,E,1),K=null):(ve&&($=Ee(r?s:s.x||s.left||s.scrollLeft,z,E,c?-1:1)),we&&(K=Ee(r?s:s.y||s.top||s.scrollTop,Y,X,c?-1:1))))},De=function(t,e){var s,a,o;t&&r?(t===!0&&(s=n.snap||{},a=s instanceof Array||"function"==typeof s,t={resistance:(n.throwResistance||n.resistance||1e3)/(he?10:1)},he?t.rotation=me(be,a?s:s.rotation,E,z,1,e):(ve&&(t[le]=me(be,a?s:s.x||s.left||s.scrollLeft,E,z,c?-1:1,e||be.lockAxis&&"x"===ee)),we&&(t[pe]=me(be,a?s:s.y||s.top||s.scrollTop,X,Y,c?-1:1,e||be.lockAxis&&"y"===ee)))),be.tween=o=r.to(c||i,{throwProps:t,ease:n.ease||_.Power3.easeOut,onComplete:n.onThrowComplete,onCompleteParams:n.onThrowCompleteParams,onCompleteScope:n.onThrowCompleteScope||be,onUpdate:n.fastMode?n.onThrowUpdate:Re,onUpdateParams:n.fastMode?n.onThrowUpdateParams:null,onUpdateScope:n.onThrowUpdateScope||be},isNaN(n.maxDuration)?2:n.maxDuration,isNaN(n.minDuration)?.5:n.minDuration,isNaN(n.overshootTolerance)?1-be.edgeResistance+.2:n.overshootTolerance),n.fastMode||(c&&(c._suspendTransforms=!0),o.render(o.duration(),!0,!0),Re(!0,!0),be.endX=be.x,be.endY=be.y,he&&(be.endRotation=be.x),o.play(0),Re(!0,!0),c&&(c._suspendTransforms=!1))):O&&be.applyBounds()},Oe=function(){ie=re(i.parentNode,!0),ie[1]||ie[2]||1!=ie[0]||1!=ie[3]||0!=ie[4]||0!=ie[5]||(ie=null)},Me=function(){var t=1-be.edgeResistance;Oe(),c?(Ae(),R=c.top(),P=c.left()):(Le()?(Re(!0,!0),Ae()):be.applyBounds(),he?(G=ne(i,{x:0,y:0}),Re(!0,!0),P=be.x,R=be.y=Math.atan2(G.y-w,p-G.x)*g):(R=W(i,pe),P=W(i,le))),O&&t&&(P>E?P=E+(P-E)/t:z>P&&(P=z-(z-P)/t),he||(R>X?R=X+(R-X)/t:Y>R&&(R=Y-(Y-R)/t)))},Le=function(){return be.tween&&be.tween.isActive()},Ee=function(t,e,i,s){return"function"==typeof t?function(r){var n=be.isPressed?1-be.edgeResistance:1;return t.call(be,r>i?i+(r-i)*n:e>r?e+(r-e)*n:r)*s}:t instanceof Array?function(s){for(var r,n,a=t.length,o=0,h=v;--a>-1;)r=t[a],n=r-s,0>n&&(n=-n),h>n&&r>=e&&i>=r&&(o=a,h=n);return t[o]}:isNaN(t)?function(t){return t}:function(){return t*s}},Ne=function(t){var s,r;if(a&&!be.isPressed&&t){if(se=Le(),be.pointerEvent=t,_e[t.type]?(te=-1!==t.type.indexOf("touch")?t.currentTarget:f,ce(te,"touchend",ze),ce(te,"touchmove",Ie),ce(te,"touchcancel",ze),ce(f,"touchstart",de)):(te=null,ce(f,"mousemove",Ie)),ce(f,"mouseup",ze),J=ge(t.target)&&!n.dragClickables)return ce(t.target,"change",ze),void 0;if(T?t=N(t,!0):!c||t.touches&&t.touches.length>S+1||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=j=t.changedTouches[0],H=t.identifier):t.pointerId?H=t.pointerId:j=null,S++,A(ke),w=be.pointerY=t.pageY,p=be.pointerX=t.pageX,Me(),ie&&(s=p*ie[0]+w*ie[2]+ie[4],w=p*ie[1]+w*ie[3]+ie[5],p=s),be.tween&&be.tween.kill(),e.killTweensOf(c||i,!0,Se),c&&e.killTweensOf(i,!0,{scrollTo:1}),be.tween=ee=null,(n.zIndexBoost||!he&&!c&&n.zIndexBoost!==!1)&&(i.style.zIndex=Te.zIndex++),be.isPressed=!0,L=!(!n.onDrag&&!be._listeners.drag),!he)for(r=Pe.length;--r>-1;)F(Pe[r],"cursor",n.cursor||"move");q(be,"press","onPress")}},Ie=function(t){if(a&&!s&&be.isPressed){T?t=N(t,!0):(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),be.pointerEvent=t;var e,i,r,n,o,h,l,u,_,c=t.changedTouches,f=1-be.dragResistance,d=1-be.edgeResistance;if(c){if(t=c[0],t!==j&&t.identifier!==H){for(o=c.length;--o>-1&&(t=c[o]).identifier!==H;);if(0>o)return}}else if(t.pointerId&&H&&t.pointerId!==H)return;l=be.pointerX=t.pageX,u=be.pointerY=t.pageY,he?(n=Math.atan2(G.y-t.pageY,t.pageX-G.x)*g,h=be.y-n,be.y=n,h>180?R-=360:-180>h&&(R+=360),r=P+(R-n)*f):(ie&&(_=l*ie[0]+u*ie[2]+ie[4],u=l*ie[1]+u*ie[3]+ie[5],l=_),i=u-w,e=l-p,xe>i&&i>-xe&&(i=0),xe>e&&e>-xe&&(e=0),be.lockAxis&&(e||i)&&("y"===ee||!ee&&Math.abs(e)>Math.abs(i)&&ve?(i=0,ee="y"):we&&(e=0,ee="x")),r=P+e*f,n=R+i*f),$||K?($&&(r=$(r)),K&&(n=K(n))):O&&(r>E?r=E+(r-E)*d:z>r&&(r=z+(r-z)*d),he||(n>X?n=X+(n-X)*d:Y>n&&(n=Y+(n-Y)*d))),he||(r=Math.round(r),n=Math.round(n)),(be.x!==r||be.y!==n&&!he)&&(be.x=be.endX=r,he?be.endRotation=r:be.y=be.endY=n,Q=!0,be.isDragging||(be.isDragging=!0,q(be,"dragstart","onDragStart")))}},ze=function(t,e){if(!(!a||t&&H&&!e&&t.pointerId&&t.pointerId!==H)){be.isPressed=!1;var i,s,r,o=t,h=be.isDragging;if(te?(fe(te,"touchend",ze),fe(te,"touchmove",Ie),fe(te,"touchcancel",ze),fe(f,"touchstart",de)):fe(f,"mousemove",Ie),fe(f,"mouseup",ze),Q=!1,J)return t&&fe(t.target,"change",ze),q(be,"release","onRelease"),q(be,"click","onClick"),J=!1,void 0;if(D(ke),!he)for(s=Pe.length;--s>-1;)F(Pe[s],"cursor",n.cursor||"move");if(h&&(Ce=C=y(),be.isDragging=!1),S--,t){if(T&&(t=N(t,!1)),i=t.changedTouches,i&&(t=i[0],t!==j&&t.identifier!==H)){for(s=i.length;--s>-1&&(t=i[s]).identifier!==H;);if(0>s)return}be.pointerEvent=o,be.pointerX=t.pageX,be.pointerY=t.pageY}return o&&!h?(se&&(n.snap||n.bounds)&&De(n.throwProps),q(be,"release","onRelease"),q(be,"click","onClick"),o.target.click?o.target.click():f.createEvent&&(r=f.createEvent("MouseEvents"),r.initEvent("click",!0,!0),o.target.dispatchEvent(r))):(De(n.throwProps),T||!o||!n.dragClickables&&ge(o.target)||!h||(o.preventDefault(),o.preventManipulation&&o.preventManipulation()),q(be,"release","onRelease")),h&&q(be,"dragend","onDragEnd"),!0}},Fe=function(t){(be.isPressed||20>y()-Ce)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.preventManipulation&&t.preventManipulation())};Z=Te.get(this.target),Z&&Z.kill(),this.startDrag=function(t){Ne(t),be.isDragging||(be.isDragging=!0,q(be,"dragstart","onDragStart"))},this.drag=Ie,this.endDrag=function(t){ze(t,!0)},this.timeSinceDrag=function(){return be.isDragging?0:(y()-Ce)/1e3},this.hitTest=function(t,e){return Te.hitTest(be.target,t,e)},this.applyBounds=function(t){var e,i;return t&&n.bounds!==t?(n.bounds=t,be.update(!0)):(Re(!0),Ae(),O&&(e=be.x,i=be.y,O&&(e>E?e=E:z>e&&(e=z),i>X?i=X:Y>i&&(i=Y)),(be.x!==e||be.y!==i)&&(be.x=be.endX=e,he?be.endRotation=e:be.y=be.endY=i,Q=!0,ke())),be)},this.update=function(t){var e=be.x,i=be.y;return Oe(),t?be.applyBounds():Re(!0),be.isPressed&&(ve&&Math.abs(e-be.x)>.01||we&&Math.abs(i-be.y)>.01&&!he)&&Me(),be},this.enable=function(t){var s,o,h;if("soft"!==t)for(o=Pe.length;--o>-1;)h=Pe[o],ce(h,"mousedown",Ne),ce(h,"touchstart",Ne),ce(h,"click",Fe),he||F(h,"cursor",n.cursor||"move"),h.ondragstart=h.onselectstart=m,F(h,"userSelect","none"),F(h,"touchCallout","none"),F(h,"touchAction","none");return a=!0,r&&"soft"!==t&&r.track(c||i,oe?"x,y":he?"rotation":"top,left"),c&&c.enable(),i._gsDragID=s="d"+b++,x[s]=this,c&&(c.element._gsDragID=s),e.set(i,{x:"+=0"}),this.update(!0),be},this.disable=function(t){var e,s,n=this.isDragging;if(!he)for(e=Pe.length;--e>-1;)F(Pe[e],"cursor",null);if("soft"!==t){for(e=Pe.length;--e>-1;)s=Pe[e],s.ondragstart=s.onselectstart=null,F(s,"userSelect","text"),F(s,"touchCallout","default"),F(s,"MSTouchAction","auto"),fe(s,"mousedown",Ne),fe(s,"touchstart",Ne),fe(s,"click",Fe);te&&(fe(te,"touchcancel",ze),fe(te,"touchend",ze),fe(te,"touchmove",Ie)),fe(f,"mouseup",ze),fe(f,"mousemove",Ie)}return a=!1,r&&"soft"!==t&&r.untrack(c||i,oe?"x,y":he?"rotation":"top,left"),c&&c.disable(),D(ke),this.isDragging=this.isPressed=J=!1,n&&q(this,"dragend","onDragEnd"),be},this.enabled=function(t,e){return arguments.length?t?this.enable(e):this.disable(e):a},this.kill=function(){return e.killTweensOf(c||i,!0,Se),be.disable(),delete x[i._gsDragID],be},-1!==ae.indexOf("scroll")&&(c=this.scrollProxy=new ye(i,M({onKill:function(){be.isPressed&&ze(null)}},n)),i.style.overflowY=we&&!ue?"auto":"hidden",i.style.overflowX=ve&&!ue?"auto":"hidden",i=c.content),n.force3D!==!1&&e.set(i,{force3D:!0}),he?Se.rotation=1:(ve&&(Se[le]=1),we&&(Se[pe]=1)),he?(U=u,B=U.css,U.overwrite=!1):oe&&(U=ve&&we?o:ve?h:l,B=U.css,U.overwrite=!1),this.enable()},we=Te.prototype=new t;we.constructor=Te,we.pointerX=we.pointerY=0,we.isDragging=we.isPressed=!1,Te.version="0.11.0",Te.zIndex=1e3,ce(f,"touchcancel",function(){}),ce(f,"contextmenu",function(){var t;for(t in x)x[t].isPressed&&x[t].endDrag()}),Te.create=function(t,i){"string"==typeof t&&(t=e.selector(t));for(var s=he(t)?le(t):[t],r=s.length;--r>-1;)s[r]=new Te(s[r],i);return s},Te.get=function(t){return x[(I(t)||{})._gsDragID]},Te.timeSinceDrag=function(){return(y()-C)/1e3};var xe=function(t,e){var i=t.pageX!==e?{left:t.pageX,top:t.pageY,right:t.pageX+1,bottom:t.pageY+1}:t.nodeType||t.left===e||t.top===e?I(t).getBoundingClientRect():t;return i.right===e&&i.width!==e?(i.right=i.left+i.width,i.bottom=i.top+i.height):i.width===e&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i};return Te.hitTest=function(t,e,i){if(t===e)return!1;var s,r,n,a=xe(t),o=xe(e),h=o.left>a.right||o.right<a.left||o.top>a.bottom||o.bottom<a.top;return h||!i?!h:(n=-1!==(i+"").indexOf("%"),i=parseFloat(i)||0,s={left:Math.max(a.left,o.left),top:Math.max(a.top,o.top)},s.width=Math.min(a.right,o.right)-s.left,s.height=Math.min(a.bottom,o.bottom)-s.top,0>s.width||0>s.height?!1:n?(i*=.01,r=s.width*s.height,r>=a.width*a.height*i||r>=o.width*o.height*i):s.width>i&&s.height>i)},Te},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=e())}("Draggable");;
/*!
 * VERSION: 1.15.1
 * DATE: 2015-01-20
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,s,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,l={},h=a.prototype=new t("css");h.constructor=a,a.version="1.15.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var u,f,p,_,c,d,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,S=/([A-Z])/g,C=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,L=Math.PI/180,N=180/Math.PI,z={},X=document,I=function(t){return X.createElementNS?X.createElementNS("http://www.w3.org/1999/xhtml",t):X.createElement(t)},F=I("div"),E=I("img"),Y=a._internals={_specialProps:l},B=navigator.userAgent,U=function(){var t=B.indexOf("Android"),e=I("a");return p=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===t||Number(B.substr(t+8,1))>3),c=p&&6>Number(B.substr(B.indexOf("Version/")+8,1)),_=-1!==B.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(B))&&(d=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),j=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(t){window.console&&console.log(t)},V="",q="",H=function(t,e){e=e||F;var i,r,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===s[i[r]+t];);return r>=0?(q=3===r?"ms":i[r],V="-"+q.toLowerCase()+"-",q+t):null},Q=X.defaultView?X.defaultView.getComputedStyle:function(){},G=a.getStyle=function(t,e,i,r,s){var n;return U||"opacity"!==e?(!r&&t.style[e]?n=t.style[e]:(i=i||Q(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(S,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==s||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:s):j(t)},Z=Y.convertToPixels=function(t,i,r,s,n){if("px"===s||!s)return r;if("auto"===s||!r)return 0;var o,l,h,u=O.test(i),f=t,p=F.style,_=0>r;if(_&&(r=-r),"%"===s&&-1!==i.indexOf("border"))o=r/100*(u?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+G(t,"position")+";line-height:0;","%"!==s&&f.appendChild)p[u?"borderLeftWidth":"borderTopWidth"]=r+s;else{if(f=t.parentNode||X.body,l=f._gsCache,h=e.ticker.frame,l&&u&&l.time===h)return l.width*r/100;p[u?"width":"height"]=r+s}f.appendChild(F),o=parseFloat(F[u?"offsetWidth":"offsetHeight"]),f.removeChild(F),u&&"%"===s&&a.cacheWidths!==!1&&(l=f._gsCache=f._gsCache||{},l.time=h,l.width=100*(o/r)),0!==o||n||(o=Z(t,i,r,s,!0))}return _?-o:o},$=Y.calculateOffset=function(t,e,i){if("absolute"!==G(t,"position",i))return 0;var r="left"===e?"Left":"Top",s=G(t,"margin"+r,i);return t["offset"+r]-(Z(t,e,parseFloat(s),s.replace(x,""))||0)},K=function(t,e){var i,r,s={};if(e=e||Q(t,null))for(i in e)(-1===i.indexOf("Transform")||we===i)&&(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(C,k)]=e[i]);return U||(s.opacity=j(t)),r=Me(t,e,!1),s.rotation=r.rotation,s.skewX=r.skewX,s.scaleX=r.scaleX,s.scaleY=r.scaleY,s.x=r.x,s.y=r.y,Se&&(s.z=r.z,s.rotationX=r.rotationX,s.rotationY=r.rotationY,s.scaleZ=r.scaleZ),s.filters&&delete s.filters,s},J=function(t,e,i,r,s){var n,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||s&&s[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(l[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:$(t,a),void 0!==h[a]&&(o=new _e(h,a,h[a],o)));if(r)for(a in r)"className"!==a&&(l[a]=r[a]);return{difs:l,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=te[e],n=s.length;for(i=i||Q(t,null);--n>-1;)r-=parseFloat(G(t,"padding"+s[n],i,!0))||0,r-=parseFloat(G(t,"border"+s[n]+"Width",i,!0))||0;return r},re=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(y,"")),e.oy=parseFloat(s.replace(y,""))),r+" "+s+(i.length>2?" "+i[2]:"")},se=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,r){var s,n,a,o,l,h=1e-6;return null==t?o=e:"number"==typeof t?o=t:(s=360,n=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:N)-(l?0:e),n.length&&(r&&(r[i]=e+a),-1!==t.indexOf("short")&&(a%=s,a!==a%(s/2)&&(a=0>a?a+s:a-s)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*s)%s-(0|a/s)*s:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*s)%s-(0|a/s)*s)),o=e+a),h>o&&o>-h&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},he=a.parseColor=function(t){var e,i,r,s,n,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t]?oe[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+e+e+i+i+r+r),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(m),s=Number(t[0])%360/360,n=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(n+1):a+n-a*n,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=le(s+1/3,e,i),t[1]=le(s,e,i),t[2]=le(s-1/3,e,i),t):(t=t.match(m)||oe.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):oe.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in oe)ue+="|"+h+"\\b";ue=RegExp(ue+")","gi");var fe=function(t,e,i,r){if(null==t)return function(t){return t};var s,n=e?(t.match(ue)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",u=a.length,f=u>0?a[0].replace(m,""):"";return u?s=e?function(t){var e,p,_,c;if("number"==typeof t)t+=f;else if(r&&M.test(t)){for(c=t.replace(M,"|").split("|"),_=0;c.length>_;_++)c[_]=s(c[_]);return c.join(",")}if(e=(t.match(ue)||[n])[0],p=t.split(e).join("").match(v)||[],_=p.length,u>_--)for(;u>++_;)p[_]=i?p[0|(_-1)/2]:a[_];return o+p.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,p;if("number"==typeof t)t+=f;else if(r&&M.test(t)){for(n=t.replace(M,"|").split("|"),p=0;n.length>p;p++)n[p]=s(n[p]);return n.join(",")}if(e=t.match(v)||[],p=e.length,u>p--)for(;u>++p;)e[p]=i?e[0|(p-1)/2]:a[p];return o+e.join(h)+l}:function(t){return t}},pe=function(t){return t=t.split(","),function(e,i,r,s,n,a,o){var l,h=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return s.parse(e,o,n,a)}},_e=(Y._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,s,n=this.data,a=n.proxy,o=n.firstMPT,l=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)s+=i["xn"+r]+i["xs"+(r+1)];i.e=s}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,r,s){this.t=t,this.p=e,this.v=i,this.r=s,r&&(r._prev=this,this._next=r)}),ce=(Y._parseToProxy=function(t,e,i,r,s,n){var a,o,l,h,u,f=r,p={},_={},c=i._transform,d=z;for(i._transform=null,z=e,r=u=i.parse(t,e,r,s),z=d,n&&(i._transform=c,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(1>=r.type&&(o=r.p,_[o]=r.s+r.c,p[o]=r.s,n||(h=new _e(r,"s",o,h,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)l="xn"+a,o=r.p+"_"+l,_[o]=r.data[l],p[o]=r[l],n||(h=new _e(r,l,o,h,r.rxp[l]));r=r._next}return{proxy:p,end:_,firstMPT:h,pt:u}},Y.CSSPropTween=function(t,e,r,s,a,o,l,h,u,f,p){this.t=t,this.p=e,this.s=r,this.c=s,this.n=l||e,t instanceof ce||n.push(this.n),this.r=h,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===f?r:f,this.e=void 0===p?r+s:p,a&&(this._next=a,a._prev=this)}),de=a.parseComplex=function(t,e,i,r,s,n,a,o,l,h){i=i||n||"",a=new ce(t,e,0,0,a,h?2:1,null,!1,o,i,r),r+="";var f,p,_,c,d,v,y,x,T,w,b,S,C=i.split(", ").join(",").split(" "),R=r.split(", ").join(",").split(" "),k=C.length,O=u!==!1;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(C=C.join(" ").replace(M,", ").split(" "),R=R.join(" ").replace(M,", ").split(" "),k=C.length),k!==R.length&&(C=(n||"").split(" "),k=C.length),a.plugin=l,a.setRatio=h,f=0;k>f;f++)if(c=C[f],d=R[f],x=parseFloat(c),x||0===x)a.appendXtra("",x,se(d,x),d.replace(g,""),O&&-1!==d.indexOf("px"),!0);else if(s&&("#"===c.charAt(0)||oe[c]||P.test(c)))S=","===d.charAt(d.length-1)?"),":")",c=he(c),d=he(d),T=c.length+d.length>6,T&&!U&&0===d[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(R[f]).join("transparent")):(U||(T=!1),a.appendXtra(T?"rgba(":"rgb(",c[0],d[0]-c[0],",",!0,!0).appendXtra("",c[1],d[1]-c[1],",",!0).appendXtra("",c[2],d[2]-c[2],T?",":S,!0),T&&(c=4>c.length?1:c[3],a.appendXtra("",c,(4>d.length?1:d[3])-c,S,!1)));else if(v=c.match(m)){if(y=d.match(g),!y||y.length!==v.length)return a;for(_=0,p=0;v.length>p;p++)b=v[p],w=c.indexOf(b,_),a.appendXtra(c.substr(_,w-_),Number(b),se(y[p],b),"",O&&"px"===c.substr(w+b.length,2),0===p),_=w+b.length;a["xs"+a.l]+=c.substr(_)}else a["xs"+a.l]+=a.l?" "+c:c;if(-1!==r.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,f=1;a.l>f;f++)S+=a["xs"+f]+a.data["xn"+f];a.e=S+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},me=9;for(h=ce.prototype,h.l=h.pr=0;--me>0;)h["xn"+me]=0,h["xs"+me]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,r,s,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=s,a["xn"+o]=e,a.plugin||(a.xfirst=new ce(a,"xn"+o,e,i,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=s,a)):(a["xs"+o]+=e+(r||""),a)};var ge=function(t,e){e=e||{},this.p=e.prefix?H(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||fe(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ve=Y._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,s,n=t.split(","),a=e.defaultValue;for(i=i||[a],r=0;n.length>r;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||a,s=new ge(n[r],e)},ye=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ve(t,{parser:function(t,i,r,s,n,a,h){var u=o.com.greensock.plugins[e];return u?(u._cssRegister(),l[r].parse(t,i,r,s,n,a,h)):(W("Error: "+e+" js file not loaded."),n)}})}};h=ge.prototype,h.parseComplex=function(t,e,i,r,s,n){var a,o,l,h,u,f,p=this.keyword;if(this.multi&&(M.test(i)||M.test(e)?(o=e.replace(M,"|").split("|"),l=i.replace(M,"|").split("|")):p&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;h>a;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,p&&(u=e.indexOf(p),f=i.indexOf(p),u!==f&&(i=-1===f?l:o,i[a]+=" "+p));e=o.join(", "),i=l.join(", ")}return de(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,s,n)},h.parse=function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(G(t,this.p,s,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){ve(t,{parser:function(t,r,s,n,a,o){var l=new ce(t,s,0,0,a,2,s,!1,i);return l.plugin=o,l.setRatio=e(t,r,n._tween,s),l},priority:i})};var xe,Te="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),we=H("transform"),be=V+"transform",Pe=H("transformOrigin"),Se=null!==H("perspective"),Ce=Y.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Se?a.defaultForce3D||"auto":!1},Re=window.SVGElement,ke=function(t,e,i){var r,s=X.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(r in i)s.setAttributeNS(null,r.replace(n,"$1-$2").toLowerCase(),i[r]);return e.appendChild(s),s},Oe=document.documentElement,Ae=function(){var t,e,i,r=d||/Android/i.test(B)&&!window.chrome;return X.createElementNS&&!r&&(t=ke("svg",Oe),e=ke("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Pe]="50% 50%",e.style[we]="scaleX(0.5)",r=i===e.getBoundingClientRect().width&&!(_&&Se),Oe.removeChild(t)),r}(),De=function(t,e,i){var r=t.getBBox();e=re(e).split(" "),i.xOrigin=(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*r.width:parseFloat(e[0]))+r.x,i.yOrigin=(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*r.height:parseFloat(e[1]))+r.y},Me=Y.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var n,o,l,h,u,f,p,_,c,d,m=i?t._gsTransform||new Ce:new Ce,g=0>m.scaleX,v=2e-5,y=1e5,x=Se?parseFloat(G(t,Pe,e,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,T=parseFloat(a.defaultTransformPerspective)||0;if(we?o=G(t,be,e,!0):t.currentStyle&&(o=t.currentStyle.filter.match(A),o=o&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),m.x||0,m.y||0].join(","):""),n=!o||"none"===o||"matrix(1, 0, 0, 1, 0, 0)"===o,m.svg=!!(Re&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),m.svg&&(De(t,G(t,Pe,s,!1,"50% 50%")+"",m),xe=a.useSVGTransformAttr||Ae,l=t.getAttribute("transform"),n&&l&&-1!==l.indexOf("matrix")&&(o=l,n=0)),!n){for(l=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=l.length;--h>-1;)u=Number(l[h]),l[h]=(f=u-(u|=0))?(0|f*y+(0>f?-.5:.5))/y+u:u;if(16===l.length){var w,b,P,S,C,R=l[0],k=l[1],O=l[2],D=l[3],M=l[4],L=l[5],z=l[6],X=l[7],I=l[8],F=l[9],E=l[10],Y=l[12],B=l[13],U=l[14],j=l[11],W=Math.atan2(z,E);m.zOrigin&&(U=-m.zOrigin,Y=I*U-l[12],B=F*U-l[13],U=E*U+m.zOrigin-l[14]),m.rotationX=W*N,W&&(S=Math.cos(-W),C=Math.sin(-W),w=M*S+I*C,b=L*S+F*C,P=z*S+E*C,I=M*-C+I*S,F=L*-C+F*S,E=z*-C+E*S,j=X*-C+j*S,M=w,L=b,z=P),W=Math.atan2(I,E),m.rotationY=W*N,W&&(S=Math.cos(-W),C=Math.sin(-W),w=R*S-I*C,b=k*S-F*C,P=O*S-E*C,F=k*C+F*S,E=O*C+E*S,j=D*C+j*S,R=w,k=b,O=P),W=Math.atan2(k,R),m.rotation=W*N,W&&(S=Math.cos(-W),C=Math.sin(-W),R=R*S+M*C,b=k*S+L*C,L=k*-C+L*S,z=O*-C+z*S,k=b),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY+=180),m.scaleX=(0|Math.sqrt(R*R+k*k)*y+.5)/y,m.scaleY=(0|Math.sqrt(L*L+F*F)*y+.5)/y,m.scaleZ=(0|Math.sqrt(z*z+E*E)*y+.5)/y,m.skewX=0,m.perspective=j?1/(0>j?-j:j):0,m.x=Y,m.y=B,m.z=U}else if(!(Se&&!r&&l.length&&m.x===l[4]&&m.y===l[5]&&(m.rotationX||m.rotationY)||void 0!==m.x&&"none"===G(t,"display",e))){var V=l.length>=6,q=V?l[0]:1,H=l[1]||0,Q=l[2]||0,Z=V?l[3]:1;m.x=l[4]||0,m.y=l[5]||0,p=Math.sqrt(q*q+H*H),_=Math.sqrt(Z*Z+Q*Q),c=q||H?Math.atan2(H,q)*N:m.rotation||0,d=Q||Z?Math.atan2(Q,Z)*N+c:m.skewX||0,Math.abs(d)>90&&270>Math.abs(d)&&(g?(p*=-1,d+=0>=c?180:-180,c+=0>=c?180:-180):(_*=-1,d+=0>=d?180:-180)),m.scaleX=p,m.scaleY=_,m.rotation=c,m.skewX=d,Se&&(m.rotationX=m.rotationY=m.z=0,m.perspective=T,m.scaleZ=1)}m.zOrigin=x;for(h in m)v>m[h]&&m[h]>-v&&(m[h]=0)}return i&&(t._gsTransform=m),m},Le=function(t){var e,i,r=this.data,s=-r.rotation*L,n=s+r.skewX*L,a=1e5,o=(0|Math.cos(s)*r.scaleX*a)/a,l=(0|Math.sin(s)*r.scaleX*a)/a,h=(0|Math.sin(n)*-r.scaleY*a)/a,u=(0|Math.cos(n)*r.scaleY*a)/a,f=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-h,h=-i,e=p.filter,f.filter="";var _,c,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+u,w=r.x+m*r.xPercent/100,b=r.y+g*r.yPercent/100;if(null!=r.ox&&(_=(r.oxp?.01*m*r.ox:r.ox)-m/2,c=(r.oyp?.01*g*r.oy:r.oy)-g/2,w+=_-(_*o+c*l),b+=c-(_*h+c*u)),v?(_=m/2,c=g/2,y+=", Dx="+(_-(_*o+c*l)+w)+", Dy="+(c-(_*h+c*u)+b)+")"):y+=", sizingMethod='auto expand')",f.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(D,y):y+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&f.removeAttribute("filter")),!v){var P,S,C,R=8>d?1:-1;for(_=r.ieOffsetX||0,c=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>o?-o:o)*m+(0>l?-l:l)*g))/2+w),r.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>h?-h:h)*m))/2+b),me=0;4>me;me++)S=ee[me],P=p[S],i=-1!==P.indexOf("px")?parseFloat(P):Z(this.t,S,parseFloat(P),P.replace(x,""))||0,C=i!==r[S]?2>me?-r.ieOffsetX:-r.ieOffsetY:2>me?_-r.ieOffsetX:c-r.ieOffsetY,f[S]=(r[S]=Math.round(i-C*(0===me||2===me?1:R)))+"px"}}},Ne=Y.set3DTransformRatio=function(t){var e,i,r,s,n,a,o,l,h,u,f,p,c,d,m,g,v,y,x,T,w,b=this.data,P=this.t.style,S=b.rotation*L,C=b.scaleX,R=b.scaleY,k=b.scaleZ,O=b.x,A=b.y,D=b.z,M=b.perspective;if(!(1!==t&&0!==t&&b.force3D||b.force3D===!0||b.rotationY||b.rotationX||1!==k||M||D))return ze.call(this,t),void 0;if(_&&(d=1e-4,d>C&&C>-d&&(C=k=2e-5),d>R&&R>-d&&(R=k=2e-5),!M||b.z||b.rotationX||b.rotationY||(M=0)),S||b.skewX)m=e=Math.cos(S),g=s=Math.sin(S),b.skewX&&(S-=b.skewX*L,m=Math.cos(S),g=Math.sin(S),"simple"===b.skewType&&(v=Math.tan(b.skewX*L),v=Math.sqrt(1+v*v),m*=v,g*=v)),i=-g,n=m;else{if(!(b.rotationY||b.rotationX||1!==k||M||b.svg))return P[we]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) translate3d(":"translate3d(")+O+"px,"+A+"px,"+D+"px)"+(1!==C||1!==R?" scale("+C+","+R+")":""),void 0;e=n=1,i=s=0}h=1,r=a=o=l=u=f=0,p=M?-1/M:0,c=b.zOrigin,d=1e-6,T=",",w="0",S=b.rotationY*L,S&&(m=Math.cos(S),g=Math.sin(S),o=-g,u=p*-g,r=e*g,a=s*g,h=m,p*=m,e*=m,s*=m),S=b.rotationX*L,S&&(m=Math.cos(S),g=Math.sin(S),v=i*m+r*g,y=n*m+a*g,l=h*g,f=p*g,r=i*-g+r*m,a=n*-g+a*m,h*=m,p*=m,i=v,n=y),1!==k&&(r*=k,a*=k,h*=k,p*=k),1!==R&&(i*=R,n*=R,l*=R,f*=R),1!==C&&(e*=C,s*=C,o*=C,u*=C),(c||b.svg)&&(c&&(O+=r*-c,A+=a*-c,D+=h*-c+c),b.svg&&(O+=b.xOrigin-(b.xOrigin*e+b.yOrigin*i),A+=b.yOrigin-(b.xOrigin*s+b.yOrigin*n)),d>O&&O>-d&&(O=w),d>A&&A>-d&&(A=w),d>D&&D>-d&&(D=0)),x=b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix3d(":"matrix3d(",x+=(d>e&&e>-d?w:e)+T+(d>s&&s>-d?w:s)+T+(d>o&&o>-d?w:o),x+=T+(d>u&&u>-d?w:u)+T+(d>i&&i>-d?w:i)+T+(d>n&&n>-d?w:n),b.rotationX||b.rotationY?(x+=T+(d>l&&l>-d?w:l)+T+(d>f&&f>-d?w:f)+T+(d>r&&r>-d?w:r),x+=T+(d>a&&a>-d?w:a)+T+(d>h&&h>-d?w:h)+T+(d>p&&p>-d?w:p)+T):x+=",0,0,0,0,1,0,",x+=O+T+A+T+D+T+(M?1+-D/M:1)+")",P[we]=x},ze=Y.set2DTransformRatio=function(t){var e,i,r,s,n,a,o,l,h,u,f,p=this.data,_=this.t,c=_.style,d=p.x,m=p.y;return!(p.rotationX||p.rotationY||p.z||p.force3D===!0||"auto"===p.force3D&&1!==t&&0!==t)||p.svg&&xe||!Se?(s=p.scaleX,n=p.scaleY,p.rotation||p.skewX||p.svg?(e=p.rotation*L,i=e-p.skewX*L,r=1e5,a=Math.cos(e)*s,o=Math.sin(e)*s,l=Math.sin(i)*-n,h=Math.cos(i)*n,p.svg&&(d+=p.xOrigin-(p.xOrigin*a+p.yOrigin*l),m+=p.yOrigin-(p.xOrigin*o+p.yOrigin*h),f=1e-6,f>d&&d>-f&&(d=0),f>m&&m>-f&&(m=0)),u=(0|a*r)/r+","+(0|o*r)/r+","+(0|l*r)/r+","+(0|h*r)/r+","+d+","+m+")",p.svg&&xe?_.setAttribute("transform","matrix("+u):c[we]=(p.xPercent||p.yPercent?"translate("+p.xPercent+"%,"+p.yPercent+"%) matrix(":"matrix(")+u):c[we]=(p.xPercent||p.yPercent?"translate("+p.xPercent+"%,"+p.yPercent+"%) matrix(":"matrix(")+s+",0,0,"+n+","+d+","+m+")",void 0):(this.setRatio=Ne,Ne.call(this,t),void 0)};h=Ce.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=0,h.scaleX=h.scaleY=h.scaleZ=1,ve("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,r,n,o,l){if(r._lastParsedTransform===l)return n;r._lastParsedTransform=l;var h,u,f,p,_,c,d,m=r._transform=Me(t,s,!0,l.parseTransform),g=t.style,v=1e-6,y=Te.length,x=l,T={};if("string"==typeof x.transform&&we)f=F.style,f[we]=x.transform,f.display="block",f.position="absolute",X.body.appendChild(F),h=Me(F,null,!1),X.body.removeChild(F);else if("object"==typeof x){if(h={scaleX:ne(null!=x.scaleX?x.scaleX:x.scale,m.scaleX),scaleY:ne(null!=x.scaleY?x.scaleY:x.scale,m.scaleY),scaleZ:ne(x.scaleZ,m.scaleZ),x:ne(x.x,m.x),y:ne(x.y,m.y),z:ne(x.z,m.z),xPercent:ne(x.xPercent,m.xPercent),yPercent:ne(x.yPercent,m.yPercent),perspective:ne(x.transformPerspective,m.perspective)},d=x.directionalRotation,null!=d)if("object"==typeof d)for(f in d)x[f]=d[f];else x.rotation=d;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(h.x=0,h.xPercent=ne(x.x,m.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(h.y=0,h.yPercent=ne(x.y,m.yPercent)),h.rotation=ae("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:m.rotation,m.rotation,"rotation",T),Se&&(h.rotationX=ae("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",T),h.rotationY=ae("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",T)),h.skewX=null==x.skewX?m.skewX:ae(x.skewX,m.skewX),h.skewY=null==x.skewY?m.skewY:ae(x.skewY,m.skewY),(u=h.skewY-m.skewY)&&(h.skewX+=u,h.rotation+=u)}for(Se&&null!=x.force3D&&(m.force3D=x.force3D,c=!0),m.skewType=x.skewType||m.skewType||a.defaultSkewType,_=m.force3D||m.z||m.rotationX||m.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,_||null==x.scale||(h.scaleZ=1);--y>-1;)i=Te[y],p=h[i]-m[i],(p>v||-v>p||null!=x[i]||null!=z[i])&&(c=!0,n=new ce(m,i,m[i],p,n),i in T&&(n.e=T[i]),n.xs0=0,n.plugin=o,r._overwriteProps.push(n.n));return p=x.transformOrigin,p&&m.svg&&(De(t,re(p),h),n=new ce(m,"xOrigin",m.xOrigin,h.xOrigin-m.xOrigin,n,-1,"transformOrigin"),n.b=m.xOrigin,n.e=n.xs0=h.xOrigin,n=new ce(m,"yOrigin",m.yOrigin,h.yOrigin-m.yOrigin,n,-1,"transformOrigin"),n.b=m.yOrigin,n.e=n.xs0=h.yOrigin,p="0px 0px"),(p||Se&&_&&m.zOrigin)&&(we?(c=!0,i=Pe,p=(p||G(t,i,s,!1,"50% 50%"))+"",n=new ce(g,i,0,0,n,-1,"transformOrigin"),n.b=g[i],n.plugin=o,Se?(f=m.zOrigin,p=p.split(" "),m.zOrigin=(p.length>2&&(0===f||"0px"!==p[2])?parseFloat(p[2]):f)||0,n.xs0=n.e=p[0]+" "+(p[1]||"50%")+" 0px",n=new ce(m,"zOrigin",0,0,n,-1,n.n),n.b=f,n.xs0=n.e=m.zOrigin):n.xs0=n.e=p):re(p+"",m)),c&&(r._transformType=m.svg&&xe||!_&&3!==this._transformType?2:3),n},prefix:!0}),ve("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ve("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,l,h,u,f,p,_,c,d,m,g,v,y,x,T,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(d=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),o=e.split(" "),l=0;b.length>l;l++)this.p.indexOf("border")&&(b[l]=H(b[l])),f=u=G(t,b[l],s,!1,"0px"),-1!==f.indexOf(" ")&&(u=f.split(" "),f=u[0],u=u[1]),p=h=o[l],_=parseFloat(f),v=f.substr((_+"").length),y="="===p.charAt(1),y?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),g=p.substr((c+"").length-(0>c?1:0))||""):(c=parseFloat(p),g=p.substr((c+"").length)),""===g&&(g=r[i]||v),g!==v&&(x=Z(t,"borderLeft",_,v),T=Z(t,"borderTop",_,v),"%"===g?(f=100*(x/d)+"%",u=100*(T/m)+"%"):"em"===g?(w=Z(t,"borderLeft",1,"em"),f=x/w+"em",u=T/w+"em"):(f=x+"px",u=T+"px"),y&&(p=parseFloat(f)+c+g,h=parseFloat(u)+c+g)),a=de(P,b[l],f+" "+u,p+" "+h,!1,"0px",a);return a},prefix:!0,formatter:fe("0px 0px 0px 0px",!1,!0)}),ve("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,a){var o,l,h,u,f,p,_="background-position",c=s||Q(t,null),m=this.format((c?d?c.getPropertyValue(_+"-x")+" "+c.getPropertyValue(_+"-y"):c.getPropertyValue(_):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(p=G(t,"backgroundImage").replace(R,""),p&&"none"!==p)){for(o=m.split(" "),l=g.split(" "),E.setAttribute("src",p),h=2;--h>-1;)m=o[h],u=-1!==m.indexOf("%"),u!==(-1!==l[h].indexOf("%"))&&(f=0===h?t.offsetWidth-E.width:t.offsetHeight-E.height,o[h]=u?parseFloat(m)/100*f+"px":100*(parseFloat(m)/f)+"%");m=o.join(" ")}return this.parseComplex(t.style,m,g,n,a)},formatter:re}),ve("backgroundSize",{defaultValue:"0 0",formatter:re}),ve("perspective",{defaultValue:"0px",prefix:!0}),ve("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ve("transformStyle",{prefix:!0}),ve("backfaceVisibility",{prefix:!0}),ve("userSelect",{prefix:!0}),ve("margin",{parser:pe("marginTop,marginRight,marginBottom,marginLeft")}),ve("padding",{parser:pe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ve("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,a){var o,l,h;return 9>d?(l=t.currentStyle,h=8>d?" ":",",o="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(o=this.format(G(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),ve("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ve("autoRound,strictUnits",{parser:function(t,e,i,r,s){return s}}),ve("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(G(t,"borderTopWidth",s,!1,"0px")+" "+G(t,"borderTopStyle",s,!1,"solid")+" "+G(t,"borderTopColor",s,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ue)||["#000"])[0]}}),ve("borderWidth",{parser:pe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ve("float,cssFloat,styleFloat",{parser:function(t,e,i,r,s){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new ce(n,a,0,0,s,-1,i,!1,0,n[a],e)}});var Xe=function(t){var e,i=this.t,r=i.filter||G(this.data,"filter")||"",s=0|this.s+this.c*t;100===s&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!G(this.data,"filter")):(i.filter=r.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+s+")"),-1===r.indexOf("pacity")?0===s&&this.xn1||(i.filter=r+" alpha(opacity="+s+")"):i.filter=r.replace(T,"opacity="+s))};ve("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,a){var o=parseFloat(G(t,"opacity",s,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===G(t,"visibility",s)&&0!==e&&(o=0),U?n=new ce(l,"opacity",o,e-o,n):(n=new ce(l,"opacity",100*o,100*(e-o),n),n.xn1=h?1:0,l.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Xe),h&&(n=new ce(l,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});var Ie=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(S,"-$1").toLowerCase())):t.removeAttribute(e))},Fe=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ie(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ve("className",{parser:function(t,e,r,n,a,o,l){var h,u,f,p,_,c=t.getAttribute("class")||"",d=t.style.cssText;if(a=n._classNamePT=new ce(t,r,0,0,a,2),a.setRatio=Fe,a.pr=-11,i=!0,a.b=c,u=K(t,s),f=t._gsClassPT){for(p={},_=f.data;_;)p[_.p]=1,_=_._next;f.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:c.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),n._tween._duration&&(t.setAttribute("class",a.e),h=J(t,u,K(t),l,p),t.setAttribute("class",c),a.data=h.firstMPT,t.style.cssText=d,a=a.xfirst=n.parse(t,h.difs,a,o)),a}});var Ee=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,s,n=this.t.style,a=l.transform.parse;if("all"===this.e)n.cssText="",s=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],l[i]&&(l[i].parse===a?s=!0:i="transformOrigin"===i?Pe:l[i].p),Ie(n,i);s&&(Ie(n,we),this.t._gsTransform&&delete this.t._gsTransform)}};for(ve("clearProps",{parser:function(t,e,r,s,n){return n=new ce(t,r,0,0,n,2),n.setRatio=Ee,n.e=e,n.pr=-10,n.data=s._tween,i=!0,n}}),h="bezier,throwProps,physicsProps,physics2D".split(","),me=h.length;me--;)ye(h[me]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,u=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,s=Q(t,""),n=this._overwriteProps;var l,h,_,d,m,g,v,y,x,T=t.style;if(f&&""===T.zIndex&&(l=G(t,"zIndex",s),("auto"===l||""===l)&&this._addLazySet(T,"zIndex",0)),"string"==typeof e&&(d=T.cssText,l=K(t,s),T.cssText=d+";"+e,l=J(t,l,K(t)).difs,!U&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,T.cssText=d),this._firstPT=h=this.parse(t,e,null),this._transformType){for(x=3===this._transformType,we?p&&(f=!0,""===T.zIndex&&(v=G(t,"zIndex",s),("auto"===v||""===v)&&this._addLazySet(T,"zIndex",0)),c&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):T.zoom=1,_=h;_&&_._next;)_=_._next;y=new ce(t,"transform",0,0,null,2),this._linkCSSP(y,null,_),y.setRatio=x&&Se?Ne:we?ze:Le,y.data=this._transform||Me(t,s,!0),n.pop()}if(i){for(;h;){for(g=h._next,_=d;_&&_.pr>h.pr;)_=_._next;(h._prev=_?_._prev:m)?h._prev._next=h:d=h,(h._next=_)?_._prev=h:m=h,h=g}this._firstPT=d}return!0},h.parse=function(t,e,i,n){var a,o,h,f,p,_,c,d,m,g,v=t.style;for(a in e)_=e[a],o=l[a],o?i=o.parse(t,_,a,this,i,n,e):(p=G(t,a,s)+"",m="string"==typeof _,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&P.test(_)?(m||(_=he(_),_=(_.length>3?"rgba(":"rgb(")+_.join(",")+")"),i=de(v,a,p,_,!0,"transparent",i,0,n)):!m||-1===_.indexOf(" ")&&-1===_.indexOf(",")?(h=parseFloat(p),c=h||0===h?p.substr((h+"").length):"",(""===p||"auto"===p)&&("width"===a||"height"===a?(h=ie(t,a,s),c="px"):"left"===a||"top"===a?(h=$(t,a,s),c="px"):(h="opacity"!==a?0:1,c="")),g=m&&"="===_.charAt(1),g?(f=parseInt(_.charAt(0)+"1",10),_=_.substr(2),f*=parseFloat(_),d=_.replace(x,"")):(f=parseFloat(_),d=m?_.replace(x,""):""),""===d&&(d=a in r?r[a]:c),_=f||0===f?(g?f+h:f)+d:e[a],c!==d&&""!==d&&(f||0===f)&&h&&(h=Z(t,a,h,c),"%"===d?(h/=Z(t,a,100,"%")/100,e.strictUnits!==!0&&(p=h+"%")):"em"===d?h/=Z(t,a,1,"em"):"px"!==d&&(f=Z(t,a,f,d),d="px"),g&&(f||0===f)&&(_=f+h+d)),g&&(f+=h),!h&&0!==h||!f&&0!==f?void 0!==v[a]&&(_||"NaN"!=_+""&&null!=_)?(i=new ce(v,a,f||h||0,0,i,-1,a,!1,0,p,_),i.xs0="none"!==_||"display"!==a&&-1===a.indexOf("Style")?_:p):W("invalid "+a+" tween value: "+e[a]):(i=new ce(v,a,h,f-h,i,0,a,u!==!1&&("px"===d||"zIndex"===a),0,p,_),i.xs0=d)):i=de(v,a,p,_,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);
return i},h.setRatio=function(t){var e,i,r,s=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):n>e&&e>-n&&(e=0),s.type)if(1===s.type)if(r=s.l,2===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,r=1;s.l>r;r++)i+=s["xn"+r]+s["xs"+(r+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(t),s=s._next},h._enableTransforms=function(t){this._transform=this._transform||Me(this._target,s,!0),this._transformType=this._transform.svg&&xe||!t&&3!==this._transformType?2:3};var Ye=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var r=this._firstPT=new ce(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Ye,r.data=this},h._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,r,s,n=e;if(e.autoAlpha||e.alpha){n={};for(r in e)n[r]=e[r];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var Be=function(t,e,i){var r,s,n,a;if(t.slice)for(s=t.length;--s>-1;)Be(t[s],e,i);else for(r=t.childNodes,s=r.length;--s>-1;)n=r[s],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||Be(n,e,i)};return a.cascadeTo=function(t,i,r){var s,n,a,o=e.to(t,i,r),l=[o],h=[],u=[],f=[],p=e._internals.reservedProps;for(t=o._targets||o.target,Be(t,h,f),o.render(i,!0),Be(t,u),o.render(0,!0),o._enabled(!0),s=f.length;--s>-1;)if(n=J(f[s],h[s],u[s]),n.firstMPT){n=n.difs;for(a in r)p[a]&&(n[a]=r[a]);l.push(e.to(f[s],i,n))}return l},t.activate([a]),a},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("CSSPlugin");;
function getUrlParameter(e,t){try{var i=("object"==typeof t?t:window.location).search.substring(1).split("&")}catch(e){return!1}for(var r=0;r<i.length;r++){var a=i[r].split("=");if(a[0]==e)switch(a[1]){case"true":return!0;case"false":return!1;default:return decodeURIComponent(a[1]).replace(/\W/g,"")}}}!function(e){"use strict";var t=!1;if(e.ardplayer={debug:function(e){console.log("[ARD Player] debug: "+(e?"enabled":"disabled")),t=e,this.GlobalModel.getInstance().cookie.add(this.Cookie.DEBUG,e?1:0)}},!e.console){for(var i,r=function(){return!1},a={},n=["info","profile","clear","dir","warn","error","log"];i=n.pop();)a[i]=r;e.console=a}e.ardplayer.jq=$.noConflict(),e.ardplayer.console={info:function(){t&&e.console.info.apply(e.console,arguments)},log:function(){t&&e.console.log.apply(e.console,arguments)},warn:function(){t&&e.console.warn.apply(e.console,arguments)},error:function(){t&&e.console.error.apply(e.console,arguments)}}}("undefined"==typeof window?this:window),function(l,o,r){"use strict";function e(e,t){this.pluginId=-1}var t=e.prototype;function a(e){return!e||isNaN(e)&&"auto"!=e?0:e}t.initialize=function(e,t){t&&(this.mediaCanvas=t),e&&e instanceof l.Player?(this.startStreaminitialzed=!1,this.player=e,this.model=this.player.model,this.pc=this.model.playerConfig,this.mc=this.model.mediaCollection,this.vc=this.player.viewCtrl,this.g=l.GlobalModel.getInstance(),this.player.dispatchCustomEvent(l.Player.EVENT_INIT),this._lastSubclipSeektrigger=0,this._lastPlayheadUpdateTime=0,this.addEventListeners(),!0===this.pc.getAutoPlayBoolean()?l.GlobalModel.getInstance().browserIsFirefox&&(this instanceof l.HtmlAudioCtrl||this instanceof l.HtmlVideoCtrl)?this.__initTimeout=setTimeout(function(){this.handelAutoplay(!0)}.bind(this),1e3):this.__initTimeout=setTimeout(function(){this.handelAutoplay(!0)}.bind(this),1):(this.vc.bindPosterframe(),this.vc.bindPosterControl())):l.ErrorController.getInstance().throwError(l.ErrorController.ILLEGAL_ARGUMENTS),this.currentVolumeValue=this.g.getVolume(),this._playHeadStart=0,this._percentBuffered=0,this.player.model.playerConfig.getOnStatusChangeFunction()&&this.player.model.playerConfig.getOnStatusChangeFunction()("init"),this.player.dispatchCustomEvent(l.Player.EVENT_STATUS_CHANGE,{status:"init"})},t.bufferingEventHandler=function(e,t){t&&!this.isAtEnd?this.vc.showBufferingIndicator():this.vc.hideBufferingIndicator(),this.player.dispatchCustomEvent(l.Player.EVENT_BUFFERING,{isBuffering:t})},t.posterframeClickHandler=function(){var e=this.g.getPluginID(!0);if(this.pluginId!==e&&0<=this.mc.getSortierung().indexOf(e)&&(e==l.GlobalModel.FLASH&&this.g.isFlashSupported||e==l.GlobalModel.HTML5&&this.g.isHTML5Supported)&&this.vc)switch(this.vc.changePluginSelection(e),this.pc.setAutoPlay(!0),e){case l.GlobalModel.FLASH:this.vc.activateFlash();break;case l.GlobalModel.HTML5:this.vc.activateHTML()}else this.vc.hidePosterFrame(),this.vc.hidePosterControl(),this.vc.setCtrlBarFading(!0),this.startStreaminitialzed?(this.player.getDuration()-this.player.getCurrenttime()<10&&this.player.seekTo(0),this.play()):this.initStartAndPlayStream()},t.muteEventHandler=function(e,t){this.vc.hideAllDialogs(),this.vc.showMutedState(t),l.GlobalModel.getInstance().setMuted(t)},t.progressEventHandler=function(e,t){(e=o.Event("activeprogress")).percentLoaded=t,o(this).trigger(e),this.vc.updateProgress(t),this._percentBuffered=t},t.volumeEventHandler=function(e,t){1<t&&(t/=100),this.player.model.playerConfig.setInitialVolume(t),l.GlobalModel.getInstance().setVolume(t),this.vc.setVolumeSliderCssValue(t),this.vc.showMutedState(t<.05)},t.resetEventHandler=function(e){this.vc.updateProgress(0)},t.playEventHandler=function(e){var t=this.vc.player,i=t.model,r=i.playerConfig,a=i.mediaCollection;this.stopOtherPlayingPlayers(),this.stopDVRTicker(),this.g.setPluginID(this.pluginId,this.pc.getAutoSave()),this.vc.hideAllDialogs(),this.vc.fadeInCtrlBar(),this.vc.fadeoutPrerollInfoBanner();var n=this;n.preventIdleEvent=!1,this.vc.playerDiv.off(".useridle").on("useractive.useridle",function(){n.preventIdleEvent||n.vc&&n.vc.onUserActivity(!0)}).on("userinactive.useridle",{idletime:2500,idle:!1},function(){n.preventIdleEvent=!0,setTimeout(function(){n.preventIdleEvent=!1},500),n.vc&&n.vc.onUserActivity(!1)}),l.GlobalModel.getInstance().isMobileDevice||this.vc.playerDiv.mouseover(l.Delegate.create(this.vc,this.vc.fadeInCtrlBarByMouseover)).mousemove(l.Delegate.create(this.vc,this.vc.fadeInCtrlBarByMouseover)),this.vc.showPlayPauseState("play"),this.vc.hidePosterFrame(),this.vc.hidePosterControl(),this.vc.showAudioFrame(),"audio"==a.getType()&&this.vc.showEqualizerPlaying(),this.vc.hidePlayAgain(),this.vc.setForceCtrlBarVisible(!1,!0),this.vc.setCtrlBarFading(!0),(e=o.Event("activeplay")).vc=this.vc,e.player=t,e.playerDiv=this.vc.playerDiv,e.model=i,e.playerConfig=r,e.mediaCollection=a,o("body").trigger(e),this.player.model.playerConfig.getOnStatusChangeFunction()&&this.player.model.playerConfig.getOnStatusChangeFunction()("play"),this.player.dispatchCustomEvent(l.Player.EVENT_STATUS_CHANGE,{status:"play"}),this.isAtEnd=!1;e=Number(l.GlobalModel.getInstance().cookie.get(l.Cookie.VOLUME_VALUE));1==isNaN(e)&&(e=r.getInitialVolume()),this.vc.showMutedState(l.GlobalModel.getInstance().getMuted()),this.vc.setVolumeSliderCssValue(e),this.player.dispatchCustomEvent(l.Player.EVENT_PLAY_STREAM),this.player.pixelController._isReplay&&(this.player.pixelController.triggerCustomPixel(l.PlayerPixelController.SUPER_REPLAY),this.player.pixelController._isReplay=!1),this.player.pixelController.initialPlayTrigger(),i.playstate==l.PlayerModel.PLAYSTATE_PAUSED&&i.pluginChangeInProgress?(this.pause(),i.playstate=l.PlayerModel.PLAYSTATE_PAUSED):i.playstate=l.PlayerModel.PLAYSTATE_PLAYING,i.pluginChangeInProgress=!1},t.requestMouseOverEvent=function(){},t.pauseEventHandler=function(e){var t=this.vc.player.model,i=t.mediaCollection;this.vc.hideAllDialogs(),"audio"==i.getType()&&this.vc.showEqualizerStopping(),this.vc.playerDiv.off(".useridle"),this.vc.showPlayPauseState("pause"),this.vc.hideBufferingIndicator(),this.player.model.playerConfig.getOnStatusChangeFunction()&&this.player.model.playerConfig.getOnStatusChangeFunction()("pause"),this.player.dispatchCustomEvent(l.Player.EVENT_STATUS_CHANGE,{status:"pause"}),this.showPlayerBarAndHidePosterControl(),this.player.dispatchCustomEvent(l.Player.EVENT_PAUSE_STREAM),t.playstate=l.PlayerModel.PLAYSTATE_PAUSED,this._dvrEnabled&&this.startDVRTicker()},t.stopEventHandler=function(e){var t,i,r,a;this.isAtEnd||(i=(t=this.vc.player.model).mediaCollection,r=t.playerConfig,a=this.vc,this.vc.hideAllDialogs(),"audio"==i.getType()&&a.showEqualizerStopping(),a.showPlayPauseState("pause"),r.getOnStatusChangeFunction()&&r.getOnStatusChangeFunction()("stop"),this.player.dispatchCustomEvent(l.Player.EVENT_STATUS_CHANGE,{status:"stop"}),this.bufferingEventHandler(null,!1),0<i.getPreviewImage().length&&(!r.getShowEqualizer()||"audio"!=i.getType())&&(a.bindPosterframe(),a.bindPosterControl()),this.showPlayerBarAndHidePosterControl(),this.player.dispatchCustomEvent(l.Player.EVENT_STOP_STREAM),t.playstate=l.PlayerModel.PLAYSTATE_STOPPED)},t.showPlayerBarAndHidePosterControl=function(){this.vc.setForceCtrlBarVisible(!0),this.vc.hidePosterControl()},t.endEventHandler=function(e){this.player.pixelController.triggerCustomPixel(l.PlayerPixelController.CLIP_ENDED);var t=this.vc.player.model;t.mediaCollection;this.pauseEventHandler(e),this.player.model.playerConfig.getOnMediaFinishedFunction()&&this.player.model.playerConfig.getOnMediaFinishedFunction()(),this.vc.hidePosterFrame(),this.vc.hidePosterControl(),this.mc.getIsLive()||this.vc.showPlayAgain(),this.vc.hideBufferingIndicator(),this.vc.exitFullscreen(),this.isAtEnd=this.player.pixelController._isReplay=!0,this.showPlayerBarAndHidePosterControl(),this.player.dispatchCustomEvent(l.Player.EVENT_END_STREAM),t.playstate=l.PlayerModel.PLAYSTATE_STOPPED},t.setMetaData=function(e,t){this.model.setMetaDaten(t)},t.getMetaData=function(){return this.model.getMetaDaten()},t.getDuration=function(){return 0},t.updateDuration=function(e){this.model.getDuration()!==e&&(this.model.setDuration(e),this.vc.updateTotalTime(e),this.player.dispatchCustomEvent(l.Player.EVENT_UPDATE_STREAM_DURATION,{duration:e}))},t.restartMedia=function(){this.jumpToStart(),this.play()},t.updateTime=function(e){this.model.setTime(e),this.vc.updateTime(e),this.vc.updateTimeline(e,this.model.getDuration()||0),this.model.playerConfig.getOnTimeUpdateFunction()&&this.model.playerConfig.getOnTimeUpdateFunction()(e);var t=Date.now();t>=this._lastPlayheadUpdateTime+1e3&&(this._lastPlayheadUpdateTime=t,a=0,r=Math.round(this.vc._lastDuration),i=Math.round(e),this.vc._dvrEnabledAndRequested&&!this.vc._dvrIsLive&&(a=Math.min(Math.round(this.vc._lastDuration-e),r)),this.player.pixelController.triggerCustomPixel(l.PlayerPixelController.SUPER_PLAYHEAD_POSITION,!1,{currentTime:i,duration:r,dvrRelativeTime:-a}));var t=this.model.playerConfig.getStartTime(),i=this.model.playerConfig.getEndTime(),r=this.model.mediaCollection.getStartTime(),a=this.model.mediaCollection.getEndTime();0<r&&(t=r),0<a&&(i=a),0<t&&e<t?(a=Math.round(e),3<Math.abs(this._lastSubclipSeektrigger-a)&&(this.player.seekTo(t),this._lastSubclipSeektrigger=a)):0<i&&i<e&&(this.player.seekTo(t),this.player.pause()),this.player.dispatchCustomEvent(l.Player.EVENT_UPDATE_STREAM_TIME,{currentTime:e})},t.addEventListeners=function(){this.vc.bindPlayPause(),this.vc.bindMute(),this.player.model.playerConfig.getOnStatusChangeFunction()&&this.player.model.playerConfig.getOnStatusChangeFunction()("ready"),this.player.dispatchCustomEvent(l.Player.EVENT_STATUS_CHANGE,{status:"ready"})},t.useBindClickOnStage=function(){return!0},t.removeEventListeners=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"removeEventListener")},t.dispose=function(){this.removeEventListeners(),this.stopDVRTicker(),clearTimeout(this.__initTimeout),this.player.dispatchCustomEvent(l.Player.EVENT_STOP_STREAM),this.player=null,this.model=null,this.pc=null,this.mc=null,this.vc=null,this.g=null},t.handelAutoplay=function(e){e&&(this.initStartAndPlayStream(),l.GlobalModel.getInstance().isMobileDevice||l.GlobalModel.getInstance().keyboardPlayerController.bindAutoplay())},t.getStreamByQualityIndex=function(e){var t=this.getMediaStreamArray();if(!t)return this.player.errorCtrl.throwStreamError(l.ErrorController.ERROR_PLAYBACK,!0),!1;var i=t[e];if("auto"==e&&(i=t.auto),i)return i;i=this.player.viewCtrl;return 0<i.representationQualityOrder.length?(r.log("[ARD Player] stream miss: "+this.model.currentPluginID+":"+i.representationQuality),r.log("[ARD Player] => stream switch: "+this.model.currentPluginID+":"+i.representationQualityOrder[0]),i.representationQuality=i.representationQualityOrder.shift(),i.updateOptionButtonVisibility(),this.getStreamByQualityIndex(a(i.representationQuality))):(i.representationQualityOrderAutofix||i.representationErrorTriggered?this.player.errorCtrl.throwStreamError(l.ErrorController.ERROR_PLAYBACK):this.player.errorCtrl.throwStreamError(l.ErrorController.MISCONF_MEDIA_COLL),!1)},t.getMediaStreamArray=function(){var e=this.player.model.mediaCollection.getMediaArray();if(e){e=e[this.pluginId];if(e)return e.getMediaStreamArray()}return null},t.getPlayingStreamObject=function(){var e=a(this.vc.representationQuality);return this.getStreamByQualityIndex(e)},t.initStartAndPlayStream=function(){var e,t;!1===this.startStreaminitialzed&&(this.loadStream(),this.startStreaminitialzed=!0),this.play(),null!=this.model&&(e=this.model.playerConfig.getStartTime(),0<(t=this.model.mediaCollection.getStartTime())&&(e=t),this.pc.getRememberCurrentTime()&&0<this.pc.getInitialPlayhead()&&(e=this.pc.getInitialPlayhead()),0<e&&this.player.seekTo(e))},t.stopOtherPlayingPlayers=function(){var e=l.PlayerModel.getPlayingPlayer(this.player);o.each(e,function(e,t){t.getCtrl().pause()})},t.loadStream=function(){this.stopOtherPlayingPlayers(),this.stopDVRTicker(),this.loadStreamInitialized=!0,this.player.dispatchCustomEvent(l.Player.EVENT_LOAD_STREAM)},t.play=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"play")},t.pause=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"pause")},t.togglePlay=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"togglePlay")},t.isPlaying=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"isPlaying")},t.setMuteState=function(e){l.GlobalModel.getInstance().setMuted(e)},t.getMuteState=function(){return l.GlobalModel.getInstance().getMuted()},t.toggleMuteState=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"toggleMuteState")},t.setVolume=function(e){this.currentVolumeValue=e,l.GlobalModel.getInstance().setVolume(e)},t.getVolume=function(){return l.GlobalModel.getInstance().getVolume()},t.setCurrenttime=function(e,t,i){this._playHeadStart=e,this.model.setTime(e),this.vc.updateSliderBarsUI(e,e,this.getDuration(),this.getPercentBuffered()),this.isAtEnd&&!t&&this.play()},t.seekToLive=function(){},t.canSeek=function(){return!!this.mc&&!this.mc.getIsLive()},t.getPlayheadStart=function(){return this._playHeadStart},t.getPercentBuffered=function(){return this._percentBuffered},t.getCurrenttime=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"getCurrenttime")},t.setTimeByPercent=function(e){this.vc.hideAllDialogs(),this.stopDVRTicker()},t.getTimeAsPercent=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"getTimeAsPercent")},t.getDuration=function(){this.player.errorCtrl.throwError(l.ErrorController.OVERRIDING_TEMPLATE_METHOD,l.ErrorController.IS_CRITICAL_YES,"getDuration")},t.representationChanged=function(){this.pc.getRememberCurrentTime()&&this.pc.setInitialPlayhead(this.getCurrenttime()),this.startStreaminitialzed=!1,this.__inited&&this.initStartAndPlayStream()},t.forward=function(){var e=this.getCurrenttime(),t=this.getDuration(),e=e+10;t<e&&(e=t),this.setCurrenttime(e)},t.rewind=function(){var e=this.getCurrenttime()-10;e<0&&(e=0),this.setCurrenttime(e)},t.stop=function(e){this.pause(),this.jumpToStart(),this.stopEventHandler(e)},t.jumpToStart=function(){this.setCurrenttime(0,!0)},t.onDVRCallback=function(e,t,i){this._dvrEnabled=e,this._dvrWindow=t,this._dvrIsLive=i,this.player.viewCtrl.onDVRCallback(this._dvrEnabled,this._dvrWindow,this._dvrIsLive),this.player.dispatchCustomEvent("AddonDVR.dvrChanged",{dvrEnabled:this._dvrEnabled,dvrIsLive:this._dvrIsLive,dvrWindow:this._dvrWindow})},t.startDVRTicker=function(){clearInterval(this._dvrTicker),this._dvrTicker=setInterval(function(){var e=this.getCurrenttime()-1;e<0?this.stopDVRTicker():this.setCurrenttime(e,!0,!0)}.bind(this),1e3),this._dvrTickerRunning=!0},t.stopDVRTicker=function(){clearInterval(this._dvrTicker),this._dvrTickerRunning=!1},t.hideSubtitles=function(){},t.showSubtitles=function(){},l.AbstractPlayerCtrl=e}(ardplayer,ardplayer.jq,ardplayer.console),function(i,r){"use strict";function e(){}var t=e.prototype;t.register=function(e){this._player=e},t.register_event=function(e,t){this._eventMap||(this._eventMap=[]);t=i.Delegate.create(this,t);this._eventMap.push({id:e,fnc:t}),r(this._player).on(e,t)},t.dispose=function(){var i;this._eventMap&&(i=this.player,r.each(this._eventMap,function(e,t){r(i).off(t.id,t.fnc)}))},t.log=function(e){},i.AbstractCorePlugin=e}(ardplayer,ardplayer.jq,ardplayer.console),function(i,s,h){"use strict";function e(e,t){this.pluginId=i.GlobalModel.HTML5,this.initialize(e,t)}var t=e.prototype=new i.AbstractPlayerCtrl;t.PlayerCtrl_Override_initialize=t.initialize,t.initialize=function(e,t){e.model.currentPluginID=i.GlobalModel.HTML5,this._isiPad=i.GlobalModel.getInstance().isIPadDevice,this._isIOS=i.GlobalModel.getInstance().isIOSDevice,this._isAndroid=i.GlobalModel.getInstance().isAndroidDevice,this.__inited=!1,this.jqPlayer=s(t),this.htmlPlayer=this.jqPlayer[0],this.setVolume(this.getVolume()),this.setMuteState(this.getMuteState()),this.PlayerCtrl_Override_initialize(e,t)},t.evalInitialSeek=function(){var e;0<this._pendingSeek&&(e=this._pendingSeek,this._pendingSeek=0,this.setCurrenttime(e))},t._override_addEventListeners=t.addEventListeners,t.addEventListeners=function(){this._override_addEventListeners();var o=this;this._playing=!1,this._stopped=!0,this._paused=!1,this._ready=!1,this._pendingSeek=0,this._duration=0,this.__inited=!0,this.__dropTimeUpdates=0,this.__lastRoundedTime=-1,this.__seeking=!1,this.__lastTimeUpdate=0,this.__playEventTrigger=0,this._dvrModeEnabled=!1,this._dvrWindow=0,this._dvrIsLive=!1,this._dvrTime=-1,this._dvrRightToLiveOffset=0,this._useAndroidInitialSeekFallback=!1,this.jqPlayer.on("loadstart",function(e){o._isAndroid&&0<(o.htmlPlayer.currentSrc||"").toLowerCase().indexOf(".m3u8")&&(o._useAndroidInitialSeekFallback=!0)}).on("canplay",function(e){o.htmlPlayer.readyState>=o.htmlPlayer.HAVE_FUTURE_DATA&&o.bufferingEventHandler(null,!1)}).on("play",function(e){o._stopped=!1,o._paused=!1,o._playing=!0,o.playEventHandler(e),o.bufferingEventHandler(e,!1)}).on("pause",function(e){o._playing=!1,o._paused=!0,o.pauseEventHandler(e)}).on("error",function(e){clearTimeout(o.__playEventTrigger),o._hls?"error"!==e.type||(e=e.currentTarget.error).code===e.MEDIA_ERR_DECODE&&o.handleHLSMediaError():(o._errorState=!0,o.player.errorCtrl.throwStreamError(i.ErrorController.ERROR_PLAYBACK))}).on("waiting",function(e){o.bufferingEventHandler(e,o.htmlPlayer.readyState<o.htmlPlayer.HAVE_FUTURE_DATA)}).on("ended",function(e){o._playing=!1,o._stopped=!0,o._paused=!1,o.htmlPlayer.pause(),o.endEventHandler(e),o.onTimeChange(e,{duration:o._duration,time:0})}).on("timeupdate",function(e){var t=o.htmlPlayer.currentTime;o._useAndroidInitialSeekFallback&&.1<t&&o.evalInitialSeek();var i=(new Date).getTime();if(!(i-o.__lastTimeUpdate<500&&0!=o.__lastTimeUpdate)){if(o.__lastTimeUpdate=i,0<o.__dropTimeUpdates||o.__seeking)return o.__dropTimeUpdates--,void(o.__dropTimeUpdates<=0&&(o.__dropTimeUpdates=0,o.__seeking=!1));var r={};r.duration=o._duration,r.time=t;i=Math.round(t);Math.round(t)!=o.__lastRoundedTime&&(o.__lastRoundedTime=i,o._dvrModeEnabled?o._dvrWindow&&(r.duration=o.getDuration(),r.time=0<=o._dvrTime?o._dvrTime:o.getDuration(),o.onTimeChange(e,r)):o.onTimeChange(e,r))}}).on("seeking",function(e){o.__seeking=!0,o.bufferingEventHandler(null,!0)}).on("seeked",function(e){o.__seeking=!1,o.__dropTimeUpdates=1,o.bufferingEventHandler(null,!1),o._playing||o.startDVRTicker(),o.updateDVRValues()}).on("loadedmetadata",function(e){o._ready=!0}).on("durationchange",function(e){var t,i;o._duration=o.htmlPlayer.duration,o._ready=!0,o._useAndroidInitialSeekFallback||o._hls||o.evalInitialSeek(),o._hls&&(i=(t=o.htmlPlayer.duration-o._dvrRightToLiveOffset)-o._dvrWindow,o._dvrWindowRight=t,o._dvrWindowLeft=i)}).on("progress waiting stalled suspend",function(e,t){for(var i=o.getBufferedRange(),r=o.getCurrenttime(),a=o.getDuration(),n=null,l=0;l<i.length&&!(r>=(n=i[l]).start&&r<=n.end);l++);null!=n&&("waiting"==e.type&&(0<o.__dropTimeUpdates||o.__seeking)||(a=Math.round(n.end/a*100),o.progressEventHandler(e,a)))})},t._override_removeEventListeners=t.removeEventListeners,t.removeEventListeners=function(){this.jqPlayer.off("canplay play pause waiting ended timeupdate durationchange progress waiting stalled suspend")},t.getBufferedRange=function(){var e=[],t=this.htmlPlayer;if(t.buffered.length)for(var i=0;i<t.buffered.length;i++){var r={};r.start=Math.round(t.buffered.start(i)),r.end=Math.round(t.buffered.end(i)),e.push(r)}return e},t.onTimeChange=function(e,t){this.updateDuration(t.duration),this.updateTime(t.time)},t._override_playeventHandler=t.playEventHandler,t.playEventHandler=function(e){clearTimeout(this.__playEventTrigger),this.__playEventTrigger=setTimeout(function(){this._override_playeventHandler(e)}.bind(this),500)},t._override_endEventHandler=t.endEventHandler,t.endEventHandler=function(e){var t=!1;this.player.isPlaylistPlayer()?t=i.GlobalModel.getInstance().isIOSDevice&&!this.player._playlistController._hasNext():this.jumpToStart(),this._override_endEventHandler(e),t&&this.vc.bindPosterframe()},t._override_dispose=t.dispose,t.dispose=function(){clearTimeout(this.__playEventTrigger),this._hls&&(this._hls.destroy(),this._hls=null),this._override_dispose.apply(this,arguments)},t._override_handelAutoplay=t.handelAutoplay,t.handelAutoplay=function(e){this.pc&&0==this.pc.getAutoPlayBoolean()&&this.vc.showBufferingIndicator(),this._override_handelAutoplay.apply(this,arguments)},t._override_initAutoPlayStream=t.initAutoPlayStream,t.initAutoPlayStream=function(){this._override_initAutoPlayStream.apply(this,arguments)},t.onSourceError=function(e){this.stopDVRTicker(),clearTimeout(this.__playEventTrigger),this._failedStreams?this._failedStreams++:this._failedStreams=1,this._failedStreams==this._totalStreams&&this.handleError()},t._override_loadStream=t.loadStream,t.loadStream=function(){if(this._failedStreams=0,this._override_loadStream(),this._ready=!1,this.__seeking=!1,this.__lastTimeUpdate=0,arguments&&arguments[0]&&"string"==typeof arguments[0])a=arguments[0];else{var e=this.getPlayingStreamObject();if(!e)return;a=e.getStream()}e=this.pc.getInitialPlayhead();if(e<=0&&(e=this.pc.getStartTime())<=0&&(e=this.mc.getStartTime()),this._pendingSeek=e,this._lastStreamUrl!=a){this._lastStreamUrl=a,this._errorState=!1,this.jqPlayer.empty();var t=this,i=a instanceof Array?a:[a];this._totalStreams=0;var r=Hls.isSupported()&&1===i.length&&0<i[0].indexOf(".m3u8");this._hls&&(this._hls.destroy(),this._hls=null);for(var a,n,l=0;l<i.length&&!r;l++){var o=i[l];0==l&&this.player.pixelController&&this.player.pixelController.loadStream(o),this.g.html5streamingVideoSupported&&0<o.toLowerCase().indexOf(".m3u8")&&(this._totalStreams++,this._isIOS&&0<this._pendingSeek&&(o+="#t="+this._pendingSeek,this._pendingSeek=0,this.__seeking=!0),s("<source>").attr("src",o).attr("type","application/x-mpegURL").on("error",function(e){t.onSourceError(s(this).attr("src"))}).appendTo(this.jqPlayer)),this.g.html5mp4VideoSupported&&0<o.toLowerCase().indexOf(".mp4")&&(this._totalStreams++,s("<source>").attr("src",o).attr("type","video/mp4").on("error",function(e){t.onSourceError(s(this).attr("src"))}).appendTo(this.jqPlayer)),this.g.html5oggVideoSupported&&0<o.toLowerCase().indexOf(".ogv")&&(this._totalStreams++,s("<source>").attr("src",o).attr("type","video/ogg").on("error",function(e){t.onSourceError(s(this).attr("src"))}).appendTo(this.jqPlayer)),this.g.html5webmVideoSupported&&0<o.toLowerCase().indexOf(".webm")&&(this._totalStreams++,s("<source>").attr("src",o).attr("type","video/webm").on("error",function(e){t.onSourceError(s(this).attr("src"))}).appendTo(this.jqPlayer))}r?(a={debug:!1,liveSyncDurationCount:2},0<this._pendingSeek&&(a.startPosition=this._pendingSeek),a.startLevel=this.g.getLastUsedHlsLevelIndex(),h.log("[ARD Player] HLS.js config:",a),n=this._hls=new Hls(a),this.recoverDecodingErrorDate=null,this.recoverSwapAudioCodecDate=null,n.attachMedia(this.htmlPlayer),n.on(Hls.Events.MEDIA_ATTACHED,function(){n.loadSource(i[0]),n.on(Hls.Events.ERROR,function(e,t){if(t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:h.log("fatal network error encountered, try to recover",t.details),this.handleHLSMediaError();break;case Hls.ErrorTypes.MEDIA_ERROR:h.log("fatal media error encountered, try to recover"),this.handleHLSMediaError();break;default:this.destroy(),clearTimeout(this.__playEventTrigger),this.handleError()}}.bind(this)),n.on(Hls.Events.LEVEL_LOADED,function(e,t){this._dvrModeEnabled=t.details.live,this._dvrSegmentDuration=t.details.targetduration,this._dvrRightToLiveOffset=this._hls.config.liveSyncDurationCount*this._dvrSegmentDuration+1,this._dvrWindow=t.details.totalduration-this._dvrRightToLiveOffset,(this._dvrTime<0||isNaN(this._dvrTime))&&(this._dvrTime=this.getDuration()),this.updateDVRValues()}.bind(this)),n.on(Hls.Events.LEVEL_UPDATED,function(e,t){this.g.setLastUsedHlsLevelIndex(t.level||-1)}.bind(this))}.bind(this))):0<this._totalStreams?this.htmlPlayer.load():this.handleError(),this.mc.getIsLive()&&this.mc.getDVREnabled()&&this.player.viewCtrl.onDVRCallback(!1,0,!1)}else this._errorState&&this.handleError()},t.updateDVRValues=function(){this._hls&&(this._dvrIsLive=this._dvrTime>=this.getDuration(),this.onDVRCallback(this._dvrModeEnabled,this._dvrWindow,this._dvrIsLive))},t.seekToLive=function(){this.canSeek()&&(this.setCurrenttime(this.getDuration()),this._hls&&this.play())},t._override_canSeek=t.canSeek,t.canSeek=function(){return this._override_canSeek()||this._dvrModeEnabled},t.handleHLSMediaError=function(){var e;this._hls&&(e=Date.now(),!this.recoverDecodingErrorDate||3e3<e-this.recoverDecodingErrorDate?(this.recoverDecodingErrorDate=Date.now(),h.log(",try to recover media Error @ "+this.getCurrenttime()),this._hls.recoverMediaError()):!this.recoverSwapAudioCodecDate||3e3<e-this.recoverSwapAudioCodecDate?(this.recoverSwapAudioCodecDate=Date.now(),h.log(",try to swap Audio Codec and recover media Error @ "+this.getCurrenttime()),this._hls.swapAudioCodec(),this._hls.recoverMediaError()):(h.log(",cannot recover, last media error recovery failed ..."),this._hls.destroy(),clearTimeout(this.__playEventTrigger),this.handleError()))},t._override_play=t.play,t.play=function(){this._errorState?this.handleError():(this.player.viewCtrl.setCtrlBarFading(!0),this._hls&&this._dvrModeEnabled&&this.setCurrenttime(this._dvrTime),this.htmlPlayer.play())},t._override_pause=t.pause,t.pause=function(){this.htmlPlayer.pause()},t._override_togglePlay=t.togglePlay,t.togglePlay=function(){this._errorState?this.handleError():this._playing?this.pause():this.play()},t._override_isPlaying=t.isPlaying,t.isPlaying=function(){return this._playing},t._override_setMuteState=t.setMuteState,t.setMuteState=function(e){this.htmlPlayer.muted=e,i.GlobalModel.getInstance().setMuted(e),this.vc&&this.vc.showMutedState(e)},t.getMuteState=function(){return i.GlobalModel.getInstance().getMuted()},t.toggleMuteState=function(){this.setMuteState(!this.getMuteState())},t._override_setVolume=t.setVolume,t.setVolume=function(e){this._override_setVolume(e),0<=e&&e<=1&&(this.htmlPlayer.volume=e)},t._override_setCurrenttime=t.setCurrenttime,t.setCurrenttime=function(t,e,i){if(this._ready){if(!this.canSeek())return;var r,a=t=Math.min(t,this.getDuration());this._dvrModeEnabled&&(r=t/this.getDuration(),a=this._dvrWindowLeft+(this._dvrWindowRight-this._dvrWindowLeft)*r),this._dvrModeEnabled&&(this._dvrTime=t),this._pendingSeek=0;try{i||(this.htmlPlayer.currentTime=a),this.onTimeChange(null,{duration:this.getDuration(),time:t})}catch(e){this._pendingSeek=t}}else this._pendingSeek=t;this._override_setCurrenttime(t,e)},t._override_getCurrenttime=t.getCurrenttime,t.getCurrenttime=function(){return this._dvrModeEnabled?this._dvrTime:0<this._pendingSeek?this._pendingSeek:this.htmlPlayer.currentTime},t._override_setTimeByPercent=t.setTimeByPercent,t.setTimeByPercent=function(e){var t=e/100*this.getDuration();return this.setCurrenttime(t),this._override_setTimeByPercent(e),t},t._override_getTimeAsPercent=t.getTimeAsPercent,t.getTimeAsPercent=function(){return Math.round(this.getCurrenttime()/this.getDuration()*100)},t._override_getDuration=t.getDuration,t.getDuration=function(){return this._dvrModeEnabled?this._dvrWindow:this.htmlPlayer.duration},t.handleError=function(){this.stopDVRTicker(),clearTimeout(this.__playEventTrigger),this._errorState=!0,this.player.errorCtrl.throwStreamError(i.ErrorController.ERROR_PLAYBACK)},i.HtmlVideoCtrl=e}(ardplayer,ardplayer.jq,ardplayer.console),function(u,d,c){"use strict";function e(e,t){this.pluginId=u.GlobalModel.HTML5,this.initialize(e,t)}var t=e.prototype=new u.AbstractPlayerCtrl;t.PlayerCtrl_Override_initialize=t.initialize,t.initialize=function(e,t){e.model.currentPluginID=u.GlobalModel.HTML5,this.__inited=!1,this.jqPlayer=d(t),this.htmlPlayer=this.jqPlayer[0],this.setVolume(this.getVolume()),this.setMuteState(this.getMuteState()),this.PlayerCtrl_Override_initialize(e,t)},t._override_addEventListeners=t.addEventListeners,t.addEventListeners=function(){this._override_addEventListeners();var o=this;this._playing=!1,this._stopped=!0,this._paused=!1,this._ready=!1,this._pendingSeek=0,this._duration=0,this.__inited=!0,this.jqPlayer.on("canplay",function(e){var t;o.htmlPlayer.readyState>=o.htmlPlayer.HAVE_CURRENT_DATA&&(o._ready=!0,0<o._pendingSeek&&(o.setCurrenttime(o._pendingSeek),o._pendingSeek=0),0<(t=o.pc.getInitialPlayhead())&&(o.pc.setInitialPlayhead(0),o.htmlPlayer.currentTime=t)),o.htmlPlayer.readyState>=o.htmlPlayer.HAVE_FUTURE_DATA&&o.bufferingEventHandler(null,!1)}).on("play",function(e){o._playing=!0,o._stopped=!1,o._paused=!1,o.bufferingEventHandler(e,!1),o.playEventHandler(e)}).on("pause",function(e){o._playing=!1,o._paused=!0,o.pauseEventHandler(e)}).on("waiting",function(e){o.bufferingEventHandler(e,!0)}).on("error",function(e){o._errorState=!0,o.player.errorCtrl.throwStreamError(u.ErrorController.ERROR_PLAYBACK)}).on("ended",function(e){o._playing=!1,o._stopped=!0,o._paused=!1,o.htmlPlayer.pause(),o.endEventHandler(e)}).on("timeupdate",function(e){var t={};t.duration=o._duration,t.time=o.htmlPlayer.currentTime,o.onTimeChange(e,t)}).on("durationchange",function(e){o._duration=o.htmlPlayer.duration}).on("progress waiting stalled suspend",function(e,t){for(var i=o.getBufferedRange(),r=o.getCurrenttime(),a=o.getDuration(),n=null,l=0;l<i.length&&!(r>=(n=i[l]).start&&r<=n.end);l++);null!=n&&(a=Math.round(n.end/a*100),o.progressEventHandler(e,a))})},t._override_removeEventListeners=t.removeEventListeners,t.removeEventListeners=function(){this.jqPlayer.off("canplay play pause waiting ended timeupdate durationchange progress waiting stalled suspend")},t.getBufferedRange=function(){var e=[],t=this.htmlPlayer;if(t.buffered.length)for(var i=0;i<t.buffered.length;i++){var r={};r.start=Math.round(t.buffered.start(i)),r.end=Math.round(t.buffered.end(i)),e.push(r)}return e},t.onTimeChange=function(e,t){this.updateDuration(t.duration),this.updateTime(t.time)},t._override_endEventHandler=t.endEventHandler,t.endEventHandler=function(e){this.jumpToStart(),this._override_endEventHandler(e)},t._override_dispose=t.dispose,t.dispose=function(){this._override_dispose.apply(this,arguments)},t._override_handelAutoplay=t.handelAutoplay,t.handelAutoplay=function(e){this.pc&&0==this.pc.getAutoPlayBoolean()&&this.vc.showBufferingIndicator(),this._override_handelAutoplay.apply(this,arguments)},t._override_initAutoPlayStream=t.initAutoPlayStream,t.initAutoPlayStream=function(){this._override_initAutoPlayStream.apply(this,arguments)},t.onSourceError=function(e){this._failedStreams?this._failedStreams++:this._failedStreams=1,c.log(" Failed "+this._failedStreams+" / "+this._totalStreams,e),this._failedStreams==this._totalStreams&&(this._errorState=!0,this.player.errorCtrl.throwStreamError(u.ErrorController.ERROR_PLAYBACK))},t._override_loadStream=t.loadStream,t.loadStream=function(){var e;if(this._override_loadStream(),arguments&&arguments[0]&&"string"==typeof arguments[0])e=arguments[0];else{var t=this.getPlayingStreamObject();if(!t)return;e=t.getStream()}if(this._lastStreamUrl!=e){this._lastStreamUrl=e,this._errorState=!1,this.jqPlayer.empty();for(var i=this,r=e instanceof Array?e:[e],a=this._totalStreams=0;a<r.length;a++){var n=r[a],l="",o=n.toLowerCase(),s=o.lastIndexOf("."),h=o.lastIndexOf("/");0<s&&h<s&&(0<(s=(l=o.substr(s+1)).indexOf("?"))&&(l=l.substr(0,s)),0<(s=l.indexOf("#"))&&(l=l.substr(0,s))),""==l||this.g.support.audioExtensions[l]?(0==a&&this.player.pixelController.loadStream(n),this.g.html5mp3AudioSupported&&(this._totalStreams++,d("<source>").attr("src",n).attr("type","audio/mpeg").on("error",function(e){i.onSourceError(d(this).attr("src"))}).appendTo(this.jqPlayer)),this.g.html5oggAudioSupported&&0<n.toLowerCase().indexOf(".ogg")&&(this._totalStreams++,d("<source>").attr("src",n).attr("type","audio/ogg").on("error",function(e){i.onSourceError(d(this).attr("src"))}).appendTo(this.jqPlayer)),this.g.html5wavAudioSupported&&0<n.toLowerCase().indexOf(".wav")&&(this._totalStreams++,d("<source>").attr("src",n).on("error",function(e){i.onSourceError(d(this).attr("src"))}).appendTo(this.jqPlayer))):c.log("[ARD Player] Extension "+l+" not supported, skipping")}0<this._totalStreams?this.htmlPlayer.load():this._errorState=!0,this.mc.getIsLive()&&this.mc.getDVREnabled()&&this.player.viewCtrl.onDVRCallback(!1,0,!1)}else this._errorState&&this.player.errorCtrl.throwStreamError(u.ErrorController.ERROR_PLAYBACK)},t._override_play=t.play,t.play=function(){this._errorState?this.player.errorCtrl.throwStreamError(u.ErrorController.ERROR_PLAYBACK):(this.player.viewCtrl.setCtrlBarFading(!0),this.htmlPlayer.play())},t._override_pause=t.pause,t.pause=function(){this.htmlPlayer.pause()},t._override_togglePlay=t.togglePlay,t.togglePlay=function(){this._errorState?this.player&&this.player.errorCtrl.throwStreamError(u.ErrorController.ERROR_PLAYBACK):this._playing?this.htmlPlayer.pause():this.htmlPlayer.play()},t._override_isPlaying=t.isPlaying,t.isPlaying=function(){return this._playing},t._override_setMuteState=t.setMuteState,t.setMuteState=function(e){this.htmlPlayer.muted=e,u.GlobalModel.getInstance().setMuted(e),this.vc&&this.vc.showMutedState(e)},t.getMuteState=function(){return u.GlobalModel.getInstance().getMuted()},t.toggleMuteState=function(){this.setMuteState(!this.getMuteState())},t._override_setVolume=t.setVolume,t.setVolume=function(e){this._override_setVolume(e),0<=e&&e<=1&&(this.htmlPlayer.volume=e)},t._override_setCurrenttime=t.setCurrenttime,t.setCurrenttime=function(e,t){if(this._ready){if(!this.canSeek())return;this.htmlPlayer.currentTime=e}else this._pendingSeek=e;this._override_setCurrenttime(e,t)},t._override_getCurrenttime=t.getCurrenttime,t.getCurrenttime=function(){return this.htmlPlayer.currentTime},t._override_setTimeByPercent=t.setTimeByPercent,t.setTimeByPercent=function(e){var t=e/100*this.getDuration();return this.setCurrenttime(t),this._override_setTimeByPercent(e),t},t._override_getTimeAsPercent=t.getTimeAsPercent,t.getTimeAsPercent=function(){return Math.round(this.getCurrenttime()/this.getDuration()*100)},t._override_getDuration=t.getDuration,t.getDuration=function(){return this.htmlPlayer.duration},u.HtmlAudioCtrl=e}(ardplayer,ardplayer.jq,ardplayer.console),function(r,a){"use strict";function e(e,t){this.pluginId=r.GlobalModel.FLASH,this.initialize(e,t)}var t=e.prototype=new r.AbstractPlayerCtrl;t.PlayerCtrl_Override_initialize=t.initialize,t.initialize=function(e,t){var i;e.model.currentPluginID=r.GlobalModel.FLASH,this.flashPlayerInstance=t.mediaCanvasObject,this.__duration=0,this.__currentTime=0,this.__preloadingPercent=0,this.__buffering=!1,this.__seeking=!1,this.__playing=!1,this.__initedRecallAutoplay=!1,this.__forceAutoplay=!1,this.__inited=!1,this._dvrEnabled=!1,this._dvrWindow=-1,this._dvrIsLive=!1,this.PlayerCtrl_Override_initialize(e,t),this.vc.hideBufferingIndicator(),this.__inited||(i=this,r.pluginAddListener(e.getId(),function(){i.flashReadyListener()}))},t.onOverEventCallback=function(e,t){this.vc.fadeInCtrlBarByMouseover()},t.onSingleClickEvenCallback=function(){this.vc.optionsControlDiv?this.vc.hideAllDialogs():this.togglePlay()},t.onDoubleClickEvenCallback=function(){this.vc._fullscreenEnabled?this.player.pixelController.triggerCustomPixel(r.PlayerPixelController.IA_MOUSE_FULLSCREEN_DEACTIVATION_VIEWPORT):this.player.pixelController.triggerCustomPixel(r.PlayerPixelController.IA_MOUSE_FULLSCREEN_ACTIVATION_VIEWPORT),this.vc.toggleFullscreen()},t.onKeyboardDownEventCallback=function(e){r.KeyboardPlayerController.getInstance().handleKeyByString(e)},t.onPreloading=function(e){this.__preloadingPercent=e,this.progressEventHandler(null,e)},t.onDuration=function(e){this.__duration=e,this.updateDuration(e)},t.onPosition=function(e){this.__currentTime=e,this.updateTime(e)},t.onPlay=function(){this.__playing=!0,this.playEventHandler()},t.onStop=function(){if(this.__playing){this.__playing=!1;try{var e=this.getPlayingStreamObject();this.model.mediaCollection.getIsLive()&&"icecast"==e.getCDN().toLowerCase()||this.stopEventHandler()}catch(e){this.stopEventHandler()}}},t.onPause=function(){this.__playing=!1,this.pauseEventHandler()},t.onMute=function(e){this.muteEventHandler(null,e)},t.onVolume=function(e){this.volumeEventHandler(null,e)},t.onSeeking=function(e){this.__seeking=e},t.onBuffering=function(e,t,i){this.__buffering=e,this.bufferingEventHandler(null,e),!this._dvrEnabled||(t=this.__currentTime+t>=this.__duration-20)!=this._dvrIsLive&&(this._dvrIsLive=t,this.player.dispatchCustomEvent("AddonDVR.dvrChanged",{dvrEnabled:this._dvrEnabled,dvrIsLive:this._dvrIsLive,dvrWindow:this._dvrWindow}))},t.onComplete=function(){this.endEventHandler()},t.flashReadyListener=function(){this.__inited=!0,r.pluginRemoveListener(this.player.getId()),this.addEventListeners()},t._override_addEventListeners=t.addEventListeners,t.addEventListeners=function(){var e;this.__inited&&(this._override_addEventListeners(),e="eventCtrl"+this.getNormalizedPlayerID(),(r[e]=this).flashPlayerInstance.setPreloadingCallback("window.ardplayer."+e+".onPreloading"),this.flashPlayerInstance.setDurationCallback("window.ardplayer."+e+".onDuration"),this.flashPlayerInstance.setPlayCallback("window.ardplayer."+e+".onPlay"),this.flashPlayerInstance.setPositionCallback("window.ardplayer."+e+".onPosition"),this.flashPlayerInstance.setBufferingCallback("window.ardplayer."+e+".onBuffering"),this.flashPlayerInstance.setCompleteCallback("window.ardplayer."+e+".onComplete"),this.flashPlayerInstance.setPauseCallback("window.ardplayer."+e+".onPause"),this.flashPlayerInstance.setStopCallback("window.ardplayer."+e+".onStop"),this.flashPlayerInstance.setSeekingCallback("window.ardplayer."+e+".onSeeking"),this.flashPlayerInstance.setVolumeCallback("window.ardplayer."+e+".onVolume"),this.flashPlayerInstance.setMutedCallback("window.ardplayer."+e+".onMute"),this.flashPlayerInstance.setErrorCallback("window.ardplayer."+e+".onError"),this.flashPlayerInstance.setOverEventCallback("window.ardplayer."+e+".onOverEventCallback"),this.flashPlayerInstance.setSingleClickEventCallback("window.ardplayer."+e+".onSingleClickEvenCallback"),this.flashPlayerInstance.setDoubleClickEventCallback("window.ardplayer."+e+".onDoubleClickEvenCallback"),this.flashPlayerInstance.setOnDVRCallback("window.ardplayer."+e+".onDVRCallback"),this.flashPlayerInstance.setOnPixelCallback("window.ardplayer."+e+".onPixelCallback"),this.flashPlayerInstance.setKeyboardEventCallback("window.ardplayer."+e+".onKeyboardDownEventCallback"),this.flashPlayerInstance.setDebugCallback("window.ardplayer."+e+".onDebugCallback"),this.setVolume(this.getVolume()),this.setMuteState(this.getMuteState()),this.__initedRecallAutoplay&&(this.__initedRecallAutoplay=!1,this.handelAutoplay(!0===this.pc.getAutoPlayBoolean()||this.__forceAutoplay)))},t._super_requestMouseOverEvent=t.requestMouseOverEvent,t.requestMouseOverEvent=function(){this._super_requestMouseOverEvent();try{this.flashPlayerInstance&&this.flashPlayerInstance.requestMouseOverEvent instanceof Function&&this.flashPlayerInstance.requestMouseOverEvent()}catch(e){}},t.setUserIdle=function(e){try{this.flashPlayerInstance.setUserIdle(e)}catch(e){}},t.getNormalizedPlayerID=function(){return this.player.getId().replace("-","_")},t.removeEventListeners=function(){try{var e="eventCtrl"+this.getNormalizedPlayerID();r[e]=void 0}catch(e){}try{r.pluginRemoveListener(this.player.getId())}catch(e){}this.__inited=!1},t._override_dispose=t.dispose,t.dispose=function(){this.removeEventListeners();try{this.flashPlayerInstance&&this.flashPlayerInstance.dispose&&this.flashPlayerInstance.dispose()}catch(e){}var e="flashContent"+this.player.getId();swfobject.removeSWF(e),r.purge(this.flashPlayerInstance),this.flashPlayerInstance=null,this._override_dispose.apply(this,arguments)},t._override_handelAutoplay=t.handelAutoplay,t.handelAutoplay=function(e){if(!this.__inited)return this.__initedRecallAutoplay=!0,void this.mediaCanvas.actualEmbedd(this.vc,this);e||this.vc.hideBufferingIndicator(),this._override_handelAutoplay.apply(this,arguments)},t._override_initStartAndPlayStream=t.initStartAndPlayStream,t.initStartAndPlayStream=function(){this.__forceAutoplay&&(this.startStreaminitialzed=!1),this._override_initStartAndPlayStream()},t._override_loadStream=t.loadStream,t.loadStream=function(){if(this.__playing=!1,this._override_loadStream(),this.__inited){var e=this.getPlayingStreamObject();if(e){var t=this.pc.getInitialPlayhead();if(t<=0&&(t=this.pc.getStartTime())<=0&&(t=this.mc.getStartTime()),this.mc.getIsLive()&&(t=0),this.pc.getQoSEnabled()){var i={};i.QOSURL=this.pc.getQoSEndpoint(),i.QOSINTERVAL=this.pc.getQoSInterval(),i.QOSMETHOD=this.pc.getQoSMethod(),i.UUID=this.player.getUniquePlayerId();try{this.flashPlayerInstance.loadStreamObject(e,this.mc.getIsLive(),this.mc.getDVREnabled(),t,i)}catch(e){a.error(e),this.onError()}}else try{this.flashPlayerInstance.loadStreamObject(e,this.mc.getIsLive(),this.mc.getDVREnabled(),t)}catch(e){a.error(e),this.onError()}this.player.pixelController.loadStream(e.getServer()+e.getStream())}}else this.__initedRecallAutoplay=!0,this.__forceAutoplay=!0,this.mediaCanvas.actualEmbedd(this.vc,this),0},t.stop=function(e){this.flashPlayerInstance&&this.flashPlayerInstance.api_stop&&this.flashPlayerInstance.api_stop()},t.play=function(){this.stopOtherPlayingPlayers(),this.player.viewCtrl.setCtrlBarFading(!0),this.flashPlayerInstance&&this.flashPlayerInstance.api_play&&this.flashPlayerInstance.api_play()},t.pause=function(){this.flashPlayerInstance&&this.flashPlayerInstance.api_pause&&this.flashPlayerInstance.api_pause()},t.togglePlay=function(){this.stopOtherPlayingPlayers();var e=this;setTimeout(function(){e.flashPlayerInstance&&e.flashPlayerInstance.togglePlayPause&&e.flashPlayerInstance.togglePlayPause()},100)},t.isPlaying=function(){return this.__playing},t.setMuteState=function(e){this.flashPlayerInstance&&this.flashPlayerInstance.setMute&&this.flashPlayerInstance.setMute(e)},t.getMuteState=function(){return r.GlobalModel.getInstance().getMuted()},t.toggleMuteState=function(){this.setMuteState(!this.getMuteState())},t._override_setVolume=t.setVolume,t.setVolume=function(e){this.flashPlayerInstance&&this.flashPlayerInstance.setVolume&&(this._override_setVolume(e),this.flashPlayerInstance.setVolume(e))},t._override_setCurrenttime=t.setCurrenttime,t.setCurrenttime=function(e,t,i){this.canSeek()&&(!i&&this.flashPlayerInstance&&this.flashPlayerInstance.api_seek&&this.flashPlayerInstance.api_seek(e),this._override_setCurrenttime(e))},t.seekToLive=function(){this.canSeek()&&this.flashPlayerInstance&&this.flashPlayerInstance.api_seekToLive&&this.flashPlayerInstance.api_seekToLive()},t._override_canSeek=t.canSeek,t.canSeek=function(){return this._override_canSeek()||this._dvrEnabled},t.getCurrenttime=function(){return this.__currentTime},t._override_setTimeByPercent=t.setTimeByPercent,t.setTimeByPercent=function(e){var t=e/100*this.__duration;return 99<e&&(t=this.__duration-.5),t>this.__duration&&(t=this.__duration),this.setCurrenttime(t),this._override_setTimeByPercent(e),t},t.getTimeAsPercent=function(){return 1<this.__duration?this.__currentTime/this.__duration*100:0},t.getDuration=function(){return this.__duration},t.useBindClickOnStage=function(){return!1},t.onError=function(){this.player.errorCtrl.throwStreamError(r.ErrorController.ERROR_PLAYBACK)},t.onPixelCallback=function(e,t,i){this.player.pixelController.triggerCustomPixel(e,t,i)},t.onDebugCallback=function(e){a.log("Flash Debug: "+e)},r.FlashPluginCtrl=e}(ardplayer,(ardplayer.jq,ardplayer.console)),function(a,i){"use strict";function r(e,t,i,r){this.construct(e,t,i,r)}var e=r.prototype;e.construct=function(t,e,i,r){this._id=t,this._filter_pc=i,this._filter_mc=r,"string"!=typeof e?setTimeout(function(){this.initialize(t,e)}.bind(this),1):new a.GetPlaylistByJsonCmd(this).execute(e,function(e){this.construct(t,e,i,r)}.bind(this))},e.initialize=function(e,t){null!=(this._playlist=t)&&(this._currentPlaylistIndex=-1,this.playNext())},e.replayPlaylist=function(){this._currentPlaylistIndex=-1,this.playNext(!0)},e.playNext=function(e){var t,i;this._currentPlaylistItem=null,this._hasNext()?(this._disposeCurrentPlayer(),this._currentPlaylistItem=this._getNext(!0===e)):this._currentPlayer?this._dispatchCustomEvent(r.EVENT_LIST_FINISHED):this._dispatchCustomEvent(r.EVENT_NO_ITEMS_IN_PLAYLIST),this._currentPlaylistItem&&(t=this._currentPlaylistItem._pc,i=this._currentPlaylistItem._mc,e=this._filter_pc,0<this._currentPlaylistIndex&&(t instanceof a.PlayerConfiguration?t.setAutoPlay(!0):e=function(e){return e.setAutoPlay(!0),this._filter_pc,this._filter_pc(e)}.bind(this)),this._currentPlayer=new a.Player(this._id,t,i,this,e,this._filter_mc),this._bindPlayer(),this._dispatchCustomEvent(r.EVENT_NEXT_PLAYLIST_ITEM,{index:this._currentPlaylistIndex,total:this._playlist._playlistItems.length,item:this._currentPlaylistItem,player:this._currentPlayer}))},e.isPrerollPlayer=function(e){return this._currentPlayer===e&&this._currentPlaylistItem&&this._currentPlaylistItem._preroll},e._disposeCurrentPlayer=function(){this._currentPlayer&&(this._currentPlayer.stop(),this._currentPlayer.dispose(),this._unbindPlayer(),a.ErrorController.forceRemovePlayer(this._currentPlayer),a.PlayerModel.autoPlayerAlreadyActive=!1,a.PlayerModel.forceRemovePlayer(this._currentPlayer),a.ViewController.forceRemovePlayer(this._currentPlayer),i("#"+this._currentPlayer.getId()).empty(),this._currentPlayer=null)},e.getCurrentPlaylistIndex=function(){return this._currentPlaylistIndex},e._hasNext=function(){return this._currentPlaylistIndex+1<this._playlist._playlistItems.length},e._getNext=function(e){if(e){this._currentPlaylistIndex=0;for(var t=this._playlist._playlistItems[0];null!=t&&this._hasNext()&&null!=(t=this._playlist._playlistItems[this._currentPlaylistIndex])._preroll&&0!=t._preroll;)this._currentPlaylistIndex++}else this._currentPlaylistIndex==this._playlist.length-1?this._currentPlaylistIndex=0:this._currentPlaylistIndex++;return this._playlist._playlistItems[this._currentPlaylistIndex]},e._bindPlayer=function(){i(this._currentPlayer).on(a.Player.EVENT_END_STREAM,function(e){this.playNext()}.bind(this)),i(this._currentPlayer).on(a.Player.EVENT_ERROR,function(e){this.playNext()}.bind(this))},e._unbindPlayer=function(){i(this._currentPlayer).off()},e._dispatchCustomEvent=function(e,t){t=i.extend(i.Event(e),t);i(this).trigger(t)},r.EVENT_NEXT_PLAYLIST_ITEM="PlaylistPlayer.EVENT_NEXT_PLAYLIST_ITEM",r.EVENT_NO_ITEMS_IN_PLAYLIST="PlaylistPlayer.EVENT_NO_ITEMS_IN_PLAYLIST",r.EVENT_LIST_FINISHED="PlaylistPlayer.EVENT_LIST_FINISHED",a.PlaylistPlayer=r}(ardplayer,ardplayer.jq,ardplayer.console),function(s,l,a){"use strict";var h=function(e,t,i,r,a,n){this._filter_pc=a,this._filter_mc=n,setTimeout(function(){this.construct(e,t,i,r)}.bind(this),1)},e=h.prototype;h.pluginDetectionRules=null,h.pluginDetectionCallbacks=new Array,e.construct=function(t,i,r,a){if(!l("#"+t).exists())throw new Error("Target Div-ID does not exist: "+t);var e,n=this;l.each(arguments,function(e,t){"function"==typeof t&&(n.ready=t)}),this.setUniquePlayerId(l.randomUUID()),this._id=t,this._playlistController=a,this.solaConfiguration=null,"string"!=typeof i&&(i instanceof s.PlayerConfiguration||"object"!=typeof i)?"string"!=typeof r&&(r instanceof s.MediaCollection||"object"!=typeof r)?(this.initialize(t,i,r),this.errorCtrl=s.ErrorController.getInstance(this)):(e=new s.GetMediaCollectionByJsonCmd(this),n=this,e.execute(r,function(e){"function"==typeof n._filter_mc&&(e=n._filter_mc(e)),n.construct(t,i,e,a)})):(e=new s.GetPlayerConfigByJsonCmd(this),n=this,e.execute(i,function(e){"function"==typeof n._filter_pc&&(e=n._filter_pc(e)),n.construct(t,e,r,a)}))},e.initialize=function(e,t,i){a.log("[ARD Player] initialize",e,t,i),this.model=s.PlayerModel.getInstance(this),this.pixelController=new s.PlayerPixelController(this),this.setMediaCollection(i),this.setPlayerConfig(t);var r=this;setTimeout(function(){r&&r.pixelController&&r.pixelController.triggerCustomPixel(s.PlayerPixelController.PLAYER_LOADING)},1),this._forcedPlugin=-1},e.setUniquePlayerId=function(e){this._uniqueId=e},e.getUniquePlayerId=function(){return this._uniqueId},e.isPrerollPlayer=function(){return null!=this._playlistController&&this._playlistController.isPrerollPlayer(this)},e.skipPreroll=function(){this.isPrerollPlayer(this)&&this._playlistController.playNext()},e.isPlaylistPlayer=function(){return null!=this._playlistController},e.replayPlaylist=function(){this.isPlaylistPlayer()&&this._playlistController.replayPlaylist()},e.setMediaCollection=function(e){e&&e instanceof s.MediaCollection?this._onMCready(e):(e=s.GlobalModel.getInstance().startParams)?e[this._id+"mc"]?(new s.GetMediaCollectionByJsonCmd).execute(e[this._id+"mc"],s.Delegate.create(this,this._onMCready)):(new s.GetMediaCollectionByQueryCmd).execute(e,s.Delegate.create(this,this._onMCready)):this._validateMC()},e.setPlayerConfig=function(e){e&&e instanceof s.PlayerConfiguration?this._onPCready(e):(e=s.GlobalModel.getInstance().startParams)?e[this._id+"pc"]?(new s.GetPlayerConfigByJsonCmd).execute(e[this._id+"pc"],s.Delegate.create(this,this._onPCready)):(new s.GetPlayerConfigByQueryCmd).execute(e,s.Delegate.create(this,this._onPCready)):this._validatePC()},e.setForcedPlugin=function(e){switch(e){case s.GlobalModel.FLASH:case s.GlobalModel.HTML5:this._forcedPlugin=e}},e.dispose=function(){for(this.pixelController.triggerCustomPixel(s.PlayerPixelController.PLAYER_UNLOAD);this.plugins&&0<this.plugins.length;)this.plugins.pop().dispose();this._ctrl&&(this._ctrl.dispose(),this._ctrl=null),this.viewCtrl&&(this.viewCtrl.dispose(),this.viewCtrl=null),this.errorCtrl&&(this.errorCtrl.dispose(),this.errorCtrl=null),this.model&&(this.model.dispose(),this.model=null),this.pixelController&&(this.pixelController.dispose(),this.pixelController=null)},e._onPCready=function(e){e&&e instanceof s.PlayerConfiguration&&(this.model.playerConfig=e,this.model.playerConfig.getAutoPlayBoolean()&&(s.PlayerModel.autoPlayerAlreadyActive&&!this.model.playerConfig.getAutoPlayForcedBoolean()?this.model.playerConfig.setAutoPlay(!1):s.PlayerModel.autoPlayerAlreadyActive=this.getId()),this._pcReady=!0),this._validatePC()},h.loadPluginDetectionConfigSuccess=function(e){h.pluginDetectionRules=e,h.triggerRegisteredCallbacks()},h.loadPluginDetectionConfigFault=function(e){h.pluginDetectionRules=new Array,h.triggerRegisteredCallbacks()},h.triggerRegisteredCallbacks=function(){for(var e=null;0<h.pluginDetectionCallbacks.length;)(e=h.pluginDetectionCallbacks.shift())&&e()},e.loadSolaDetectionConfigSuccess=function(e){this.solaConfiguration=e,this._ready()},e.loadSolaDetectionConfigFault=function(e){this.solaConfiguration={},this._ready()},e._onMCready=function(e){e&&e instanceof s.MediaCollection&&(this.model.mediaCollection=e,this._mcReady=!0),this._validateMC(),!0===this._pcReady&&!0===this._mcReady&&null!==h.pluginDetectionRules&&this._ready()},e.setCtrl=function(e){e&&(this._ctrl=e,this.isFlashCtrl()?this.viewCtrl.changePluginSelection(s.GlobalModel.FLASH):this.isHtmlCtrl()?this.viewCtrl.changePluginSelection(s.GlobalModel.HTML5):this.errorCtrl.throwError(s.ErrorController.NO_CTRL_DEFINED,s.ErrorController.IS_CRITICAL_YES))},e.getCtrl=function(){return this._ctrl},e.isFlashCtrl=function(){return this._ctrl&&this._ctrl instanceof s.FlashPluginCtrl},e.isHtmlCtrl=function(){return this.isHtmlVideoCtrl()||this.isHtmlAudioCtrl()},e.isHtmlVideoCtrl=function(){return this._ctrl&&this._ctrl instanceof s.HtmlVideoCtrl},e.isHtmlAudioCtrl=function(){return this._ctrl&&this._ctrl instanceof s.HtmlAudioCtrl},e._ready=function(){if(!0===this._pcReady&&!0===this._mcReady){var e;if(null===h.pluginDetectionRules)return 0==h.pluginDetectionCallbacks.length&&(e=this.model.playerConfig.getBaseUrl()+"base/conf/PluginDetections.json",o=this,l.ajax({type:"GET",async:!0,url:e,beforeSend:function(e){e.overrideMimeType&&e.overrideMimeType("application/json")},dataType:"json",encoding:"UTF-8",success:s.Delegate.create(o,h.loadPluginDetectionConfigSuccess),error:s.Delegate.create(o,h.loadPluginDetectionConfigFault)})),void h.pluginDetectionCallbacks.push(s.Delegate.create(this,this._ready));if(null===this.solaConfiguration&&this.model.playerConfig.getSolaAnalyticsEnabled()){var t=this.model.playerConfig.getSolaAnalyticsConfig();if("string"==typeof t){var o=this;return void l.ajax({type:"GET",async:!0,url:t,beforeSend:function(e){e.overrideMimeType&&e.overrideMimeType("application/json")},dataType:"json",encoding:"UTF-8",success:s.Delegate.create(o,o.loadSolaDetectionConfigSuccess),error:s.Delegate.create(o,o.loadSolaDetectionConfigFault)})}"object"==typeof t&&(this.solaConfiguration=t)}for(o=this;this.plugins&&0<this.plugins.length;)this.plugins.pop().dispose();var i=new Array;l.each(this.model.playerConfig._addons,function(e,t){t=s[t];t&&(t=new t,i.push(t),t.register(o))}),this.plugins=i,this.viewCtrl=s.ViewController.getInstance(this);o=this;this._ctrl&&(this._ctrl.dispose(),this._ctrl=null),this.model.playerConfig.getAutoPlayBoolean()&&s.GlobalModel.getInstance().isMobileDevice&&(t=this._playlistController&&0<this._playlistController.getCurrentPlaylistIndex(),this.model.playerConfig.setAutoPlay(t)),this.viewCtrl.restoreDefaults(),this.errorCtrl&&this.errorCtrl._finalErrorState?this.viewCtrl.destroy():new s.InitPlayerCmd(this,this._forcedPlugin).execute(function(e,t){var i;if(e)e instanceof s.GenerateFlashPluginCmd?i=new s.FlashPluginCtrl(o,e):e.nodeName&&null!=e.nodeName.match(/^video$/i)?i=new s.HtmlVideoCtrl(o,e):e.nodeName&&null!=e.nodeName.match(/^audio$/i)&&(i=new s.HtmlAudioCtrl(o,e)),o.setCtrl(i),i instanceof s.AbstractPlayerCtrl?(o.isFlashCtrl()||o.viewCtrl.registerMediaCanvas(e),o.viewCtrl.playerDiv.showWithClass(),o.dispatchCustomEvent(h.EVENT_READY),o.ready&&"function"==typeof o.ready&&o.ready()):o.errorCtrl.throwError(s.ErrorController.PLAYER_CTRL_GENERATION_WAS_NOT_SUCCESSFUL,s.ErrorController.IS_CRITICAL_YES);else if(-1===t)for(var r=!1,a=(a=o.model.mediaCollection.getSortierung()).sort(function(e,t){return e-t}),n=0;n<a.length;n++){var l=a[n];if(null!=l&&!isNaN(l))switch(l){case s.GlobalModel.FLASH:o.viewCtrl.writeNotificationInstallFlash(),r=!0;break;case s.GlobalModel.HTML5:o.viewCtrl.writeNotificationInstallHTML5(),r=!0;break;default:o.errorCtrl.throwError(s.ErrorController.PLUGIN_ID_UNKNOWN,s.ErrorController.IS_CRITICAL_YES),r=!0}if(r)break}else o.errorCtrl.throwError(s.ErrorController.MEDIACANVAS_COULD_NOT_GENERATED,s.ErrorController.IS_CRITICAL_YES,e||"kein Canvas")})}},e._validatePC=function(){this.model.playerConfig&&this.model.playerConfig instanceof s.PlayerConfiguration?this._ready():s.ErrorController.getInstance().throwError(s.ErrorController.PC_UNKNOWN,s.ErrorController.IS_CRITICAL_YES)},e._validateMC=function(){var e,t=this.model.mediaCollection;t&&t instanceof s.MediaCollection&&(0!=t.getMediaArray()[0]||0!=t.getMediaArray()[1]||0!=t.getMediaArray()[2])&&null!=t.getDefaultQuality()?(t.createMediaArrayBackup(),this._ready()):(e=s.ErrorController.getInstance(this),t&&null==t.getDefaultQuality()?e.throwError(s.ErrorController.MC_NO_DEFAULT_QUALITY,s.ErrorController.IS_CRITICAL_YES):e.throwError(s.ErrorController.MC_UNKNOWN,s.ErrorController.IS_CRITICAL_YES))},e.getId=function(){return this._id},e.play=function(){return this._ctrl?(this._ctrl.play(),this._ctrl):null},e.stop=function(){return this._ctrl?(this._ctrl.stop(),this._ctrl):null},e.pause=function(){return this._ctrl?(this._ctrl.pause(),this._ctrl):null},e.getCurrenttime=function(){return this._ctrl?this._ctrl.getCurrenttime():0},e.getDuration=function(){return this._ctrl?this._ctrl.getDuration():0},e.resume=function(){return this._ctrl?(this._ctrl.togglePlay(),this._ctrl):null},e.seekTo=function(e){return this._ctrl?(this._ctrl.setCurrenttime(e),this._ctrl):null},e.seekToLive=function(){return this._ctrl&&this._ctrl.seekToLive(),this},e.seekToAndPlay=function(e){return this._ctrl?(this.seekTo(e).play(),this._ctrl):null},e.dispatchCustomEvent=function(e,t){t=l.extend(l.Event(e),t);l(this).trigger(t)},h.FLASH_CLASS_ID="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",h.FLASH_TYPE="application/x-shockwave-flash",h.EVENT_INIT="Player.EVENT_INIT",h.EVENT_READY="Player.EVENT_READY",h.EVENT_PLUGIN_CHANGE="Player.EVENT_PLUGIN_CHANGE",h.EVENT_STATUS_CHANGE="Player.EVENT_STATUS_CHANGE",h.EVENT_QUALITY_CHANGE="Player.EVENT_QUALITY_CHANGE",h.EVENT_ERROR="Player.EVENT_ERROR",h.EVENT_LOAD_STREAM="Player.EVENT_LOAD_STREAM",h.EVENT_PLAY_STREAM="Player.EVENT_PLAY_STREAM",h.EVENT_END_STREAM="Player.EVENT_END_STREAM",h.EVENT_PAUSE_STREAM="Player.EVENT_PAUSE_STREAM",h.EVENT_STOP_STREAM="Player.EVENT_STOP_STREAM",h.EVENT_BUFFERING="Player.EVENT_BUFFERING",h.EVENT_UPDATE_STREAM_TIME="Player.EVENT_UPDATE_STREAM_TIME",h.EVENT_UPDATE_STREAM_DURATION="Player.EVENT_UPDATE_STREAM_DURATION",h.EVENT_KEYBOARD_RELEASE="Player.EVENT_KEYBOARD_RELEASE",h.EVENT_CTRLBAR_FADEOUT_START="Player.EVENT_CTRLBAR_FADEOUT_START",h.EVENT_CTRLBAR_FADEOUT_END="Player.EVENT_CTRLBAR_FADEOUT_END",h.EVENT_CTRLBAR_FADEIN_START="Player.EVENT_CTRLBAR_FADEIN_START",h.EVENT_CTRLBAR_FADEIN_END="Player.EVENT_CTRLBAR_FADEIN_END",h.VIEW_RESTORE_DEFAULTS="Player.VIEW_RESTORE_DEFAULTS",h.SETUP_VIEW="Player.SETUP_VIEW",h.SETUP_VIEW_COMPLETE="Player.SETUP_VIEW_COMPLETE",h.VIEW_CTRLBAR_MOVE="Player.VIEW_CTRLBAR_MOVE",h.TOGGLE_FULLSCREEN="Player.TOGGLE_FULLSCREEN",s.Player=h}(ardplayer,ardplayer.jq,ardplayer.console),function(e,t){"use strict";function i(){this.initialize()}var r=i.prototype;r.initialize=function(){this._representationArray=new Array,this._startTime=0,this._endTime=0,this._autoplay=e.GlobalModel.getInstance().isMobileDevice?"NOTHING":"AUTOPLAY",this._autoplayForced=!1,this._autosave=!0,this._showOptions=!0,this._showOptions_Plugins=!0,this._showOptions_Quality=!0,this._rememberCurrentTime=!0,this._showSubtitelAtStart=!1,this._qosEndpoint="",this._qosInterval=10,this._qosMethod="post",this._qosEnabled=!1,this._convivaEnabled=!1,this._baseUrl="",this._baseAssetUrl="base/",this._errorMessagesConfig="",this._forceControlBarVisible=!1,this._initialPlayhead=0,this._initialVolume=1,this._showEqualizer=!0,this._showColorSettings=!0,this._addons=new Array,this._solaAnalyticsEnabled=!1,this._solaAnalyticsConfig="",this._pixelConfig="",this._chaptersEnabled=!0},r.setErrorMessagesConfig=function(e){this._errorMessagesConfig=e},r.getErrorMessagesConfig=function(){return this._errorMessagesConfig},r.setSolaAnalyticsConfig=function(e){this._solaAnalyticsConfig=e},r.getSolaAnalyticsConfig=function(){return this._solaAnalyticsConfig},r.setPixelConfig=function(e){this._pixelConfig=e},r.getPixelConfig=function(){return this._pixelConfig},r.setSolaAnalyticsEnabled=function(e){this._solaAnalyticsEnabled=e},r.getSolaAnalyticsEnabled=function(){return"false"!=t.cookie("SOLA")&&this._solaAnalyticsEnabled},r.setAddons=function(){var i=this;t.each(arguments,function(e,t){i._addons.push(t)})},r.getAddons=function(){return this._addons},r.setSkinPathAndFileName=function(e){this._skinPathAndFileName=e},r.getSkinPathAndFileName=function(){return this._skinPathAndFileName},r.setRepresentation=function(e,t,i,r,a,n){isNaN(e)?this._representationArray[0]=(e||"m").toLowerCase():this._representationArray[e]=n},r.getRepresentation=function(e){return this._representationArray[e]},r.getRepresentationClass=function(){var e="m";try{this._representationArray[0]&&(e=this._representationArray[0])}catch(e){}return e},r.setStartStopTime=function(e,t){this._startTime=e,this._endTime=t},r.getStartTime=function(){return this._startTime},r.getEndTime=function(){return this._endTime},r.getInitialPlayhead=function(){return this._initialPlayhead},r.setInitialPlayhead=function(e){this._initialPlayhead=e},r.getInitialVolume=function(){return this._initialVolume},r.setInitialVolume=function(e){1<e&&(e/=100),this._initialVolume=e},r.setShowOptions=function(e){this._showOptions=e},r.getShowOptions=function(){return this._showOptions},r.setRememberCurrentTime=function(e){this._rememberCurrentTime=e},r.getRememberCurrentTime=function(){return this._rememberCurrentTime},r.setAutoPlay=function(e){"FORCE"==e&&(e=this._autoplayForced=!0),this._autoplay=!0===e?"AUTOPLAY":"NOTHING"},r.getAutoPlay=function(){return this._autoplay},r.getAutoPlayBoolean=function(){return"AUTOPLAY"==this._autoplay||"FORCE"==this._autoplay||!0===this._autoplay},r.getAutoPlayForcedBoolean=function(){return"FORCE"==this._autoplay||!0===this._autoplayForced},r.setAutoSave=function(e){this._autosave=e},r.getAutoSave=function(){return this._autosave},r.setOnMediaFinishedFunction=function(e){this._onMediaFinishedFunction=e},r.getOnMediaFinishedFunction=function(){return this._onMediaFinishedFunction},r.setOnTimeUpdateFunction=function(e){this._onTimeUpdateFunction=e},r.getOnTimeUpdateFunction=function(){return this._onTimeUpdateFunction},r.setOnStatusChangeFunction=function(e){this._onStatusChangeFunction=e},r.getOnStatusChangeFunction=function(){return this._onStatusChangeFunction},r.setOnQualityChangeFunction=function(e){this._onQualityChangeFunction=e},r.getOnQualityChangeFunction=function(){return this._onQualityChangeFunction},r.setOnPluginChangeFunction=function(e){this._onPluginChangeFunction=e},r.getOnPluginChangeFunction=function(){return this._onPluginChangeFunction},r.setOnErrorCallbackFunction=function(e){this._onErrorCallbackFunction=e},r.getOnErrorCallbackFunction=function(){return this._onErrorCallbackFunction},r.setNoSubtitelAtStart=function(){this.setShowSubtitelAtStart(!1)},r.getShowSubtitelAtStart=function(){return!0===this._showSubtitelAtStart||!t.isBlank(this._showSubtitelAtStart)},r.setShowSubtitelAtStart=function(e){this._showSubtitelAtStart=!0===e},r.setBaseUrl=function(e){this._baseUrl=e},r.getBaseUrl=function(){return this._baseUrl},r.setBaseAssetUrl=function(e){this._baseAssetUrl=e},r.getBaseAssetUrl=function(){return this._baseAssetUrl},r.setQoSEndpoint=function(e){this._qosEndpoint=e},r.getQoSEndpoint=function(){return this._qosEndpoint},r.setQoSInterval=function(e){this._qosInterval=e},r.getQoSInterval=function(){return this._qosInterval},r.setQoSMethod=function(e){this._qosMethod=e},r.getQoSMethod=function(){return this._qosMethod},r.setQoSEnabled=function(e){this._qosEnabled=e},r.getQoSEnabled=function(){return this._qosEnabled},r.setConvivaEnabled=function(e){this._convivaEnabled=e},r.getConvivaEnabled=function(){return this._convivaEnabled},r.setForceControlBarVisible=function(e){this._forceControlBarVisible=e},r.getForceControlBarVisible=function(){return this._forceControlBarVisible},r.setShowEqualizer=function(e){this._showEqualizer=e},r.getShowEqualizer=function(){return this._showEqualizer},r.setShowColorSettings=function(e){this._showColorSettings=e},r.getShowColorSettings=function(){return this._showColorSettings},r.setShowOptions_Plugins=function(e){this._showOptions_Plugins=e},r.getShowOptions_Plugins=function(){return this._showOptions_Plugins},r.setShowOptions_Quality=function(e){this._showOptions_Quality=e},r.getShowOptions_Quality=function(){return this._showOptions_Quality},r.setChaptersEnabled=function(e){this._chaptersEnabled=e},r.getChaptersEnabled=function(){return this._chaptersEnabled},r.clone=function(){var t=null;return(new e.GetPlayerConfigByJsonCmd).execute(this,function(e){e&&e instanceof i&&(t=e)}),t},e.PlayerConfiguration=i}(ardplayer,ardplayer.jq,ardplayer.console),function(e){"use strict";function t(e){this.initialize(e)}var i=t.prototype;i.initialize=function(e){this._plugin=e,this._mediaStreamArray=new Array(!1,!1,!1,!1)},i.addMediaStream=function(e){this._mediaStreamArray[e.getQuality()]=e},i.getMediaStreamArray=function(){return this._mediaStreamArray},e.Media=t}(ardplayer,(ardplayer.jq,ardplayer.console)),function(u,d){"use strict";function i(e,t,i){this.initialize(e,t,i)}var e=i.prototype;e.initialize=function(e,t,i){this._type=e,this._isLive=t,this._geoblocked=!1,this._defaultQuality=i,this._download=!1,this._podcast=!1,this._audioImage="",this._previewImage="",this._subtitleUrl="",this._subtitleOffset=0,this._mediaArray=new Array(!1,!1,!1),this._alternativeMediaArray=null,this._pluginArray=new Array(!1,!1,!1),this._sortierArray=new Array(0,1,2),this._startTime=0,this._endTime=0,this._dvrEnabled=!1,this._chapters={_chapterSpriteImage:null,_chapterSpriteColumns:4,_chapterArray:[]},this._pixelConfig=""},e.createMediaArrayBackup=function(){for(var e,t=[],i=0;i<this._mediaArray.length;i++)if(t[i]={},e=this._mediaArray[i]._mediaStreamArray){for(var r=0;r<e.length;r++)t[i][r]=e[r];e.auto&&(t[i].auto=e.auto)}else t[i]=null;this._fullFlatMediaArrayBackup=t},e.setPixelConfig=function(e){this._pixelConfig=e},e.getPixelConfig=function(){return this._pixelConfig},e.addMedia=function(e){return this._mediaArray[e]=new u.Media(e),this},e.getGeoBlocked=function(){return this._geoblocked},e.setGeoBlocked=function(e){this._geoblocked=e},e.getDVREnabled=function(){return this._dvrEnabled&&this.getIsLive()},e.setDVREnabled=function(e){this._dvrEnabled=e},e.setSortierung=function(e,t,i){var r=new Array;"number"!=typeof e?d.each(e,function(e,t){r[e]=Number(t)}):r=new Array(e,t,i),this._sortierArray=r},e.getSortierung=function(){var e,t=new Array;for(e in this._sortierArray)0!=this._mediaArray[this._sortierArray[e]]&&t.push(this._sortierArray[e]);return t},e.addMediaStream=function(e,t,i,r,a,n,l){a=d.isBlank(a)?"default":a;l=new u.MediaStream(t,i,r,a,n,l);return this._mediaArray[e].addMediaStream(l),this},e.addAlternativeMediaStream=function(e,t,i,r,a,n,l,o){n=d.isBlank(n)?"default":n;o=new u.MediaStream(i,r,a,n,l,o),e=this.getAlternativeMediaArrayByType(e);return e[t]||(e[t]=new u.Media(t)),e[t].addMediaStream(o),this},e.hasAlternativeMediaArrayByType=function(e){var t;this._alternativeMediaArrays||(this._alternativeMediaArrays=[]);for(var i=0;i<this._alternativeMediaArrays.length;i++){if(0<=(t=this._alternativeMediaArrays[i])._type.indexOf(e)){var r=t._mediaArray;if(null!=r){for(var a=0,n=0;n<r.length;n++)!1!==r[n]&&a++;0==a&&(t=null)}break}t=null}return null!=t},e.getAlternativeMediaArrayByType=function(e){var t;this._alternativeMediaArrays||(this._alternativeMediaArrays=[]);for(var i=0;i<this._alternativeMediaArrays.length&&!(0<=(t=this._alternativeMediaArrays[i])._type.indexOf(e));i++)t=null;return null==t&&(t={_type:[e],_mediaArray:[!1,!1,!1]},this._alternativeMediaArrays.push(t)),t._mediaArray},e.enablePlugin=function(e,t){this._pluginArray[e]=t},e.getMediaAndPluginAvailableArray=function(){return this._pluginArray},e.getMediaArray=function(){return null!=this._alternativeMediaArray?this._alternativeMediaArray:this._mediaArray},e.setUseAlternativeMediaArrayType=function(e){this.hasAlternativeMediaArrayByType(e)?this._alternativeMediaArray=this.getAlternativeMediaArrayByType(e):this._alternativeMediaArray=null},e.setDownloadClickFunction=function(e){return this._download=e,this},e.getDownloadClickFunction=function(){return this._download},e.setPodcastClickFunction=function(e){return this._podcast=e,this},e.getPodcastClickFunction=function(){return this._podcast},e.setAudioImage=function(e){return this._audioImage=e,this},e.getAudioImage=function(){return this._audioImage},e.setPreviewImage=function(e){return this._previewImage=e,this},e.getPreviewImage=function(){return this._previewImage},e.setSubtitleUrl=function(e,t){return this._subtitleUrl=e,this._subtitleOffset=t,this},e.getSubtitleUrl=function(){return this._subtitleUrl},e.getSubtitleOffset=function(){return this._subtitleOffset},e.getType=function(){return this._type},e.getIsLive=function(){return this._isLive},e.setStartStopTime=function(e,t){this._startTime=e,this._endTime=t},e.getStartTime=function(){return this._startTime},e.getEndTime=function(){return this._endTime},e.getDefaultQuality=function(){return this._defaultQuality},e.setDefaultQuality=function(e){this._defaultQuality=e},e.setChapterSpriteImage=function(e){this._chapters._chapterSpriteImage=e},e.getChapterSpriteImage=function(){return this._chapters._chapterSpriteImage},e.setChapterSpriteColumns=function(e){this._chapters._chapterSpriteColumns=e},e.getChapterSpriteColumns=function(){return this._chapters._chapterSpriteColumns},e.setChapterArray=function(e){this._chapters._chapterArray=e},e.getChapterArray=function(){return this._chapters._chapterArray},e.clone=function(){var t=null;return(new u.GetMediaCollectionByJsonCmd).execute(this,function(e){e&&e instanceof i&&(t=e)}),t},e.checkStreamIsAvailable=function(e,t,i){var r=this.getMediaArray(),i=i.isFlashCtrl()?u.GlobalModel.FLASH:u.GlobalModel.HTML5;!isNaN(t)&&0<=t&&t<=3&&(i=t);e=r[i]._mediaStreamArray[e];return!(0==e||null==e)},e.getStreamByQualityIndex=function(e,t){e=this.getMediaArray()[t]._mediaStreamArray[e];return 0!=e&&null!=e?e:null},e.removeStreamQuality=function(e,t){var i=this.getMediaArray();try{i[e]._mediaStreamArray[t]=!1}catch(e){}},e.getAvailableQualities=function(e){e=this.getMediaArray()[e];return e&&e._mediaStreamArray?e._mediaStreamArray:[]},e.getNumAvailableQualities=function(e){var t=0,i=this.getMediaArray()[e];if(i&&i._mediaStreamArray){for(var r=0;r<i._mediaStreamArray.length;r++)i._mediaStreamArray[r]&&t++;i._mediaStreamArray.auto&&t++}return t},e.getMaxNumAvailableQualities=function(){var e=u.GlobalModel.getInstance(),t=0;return e.isFlashSupported&&(t=this.getNumAvailableQualities(u.GlobalModel.FLASH)),!e.isHTML5Supported||t<(e=this.getNumAvailableQualities(u.GlobalModel.HTML5))&&(t=e),t},e.getUsedCDNList=function(){for(var e,t,i,r,a,n,l=[],o=this._mediaArray,s=o.length,h=0;h<s;h++)if((e=o[h])&&0!=e&&e instanceof u.Media){for(r=(i=e.getMediaStreamArray()).length,t=0;t<r;t++)(a=i[t])&&0!=a&&a instanceof u.MediaStream&&(n=a.getCDN(),d.inArray(n,l)<0&&l.push(n));(a=i.auto)instanceof u.MediaStream&&(n=a.getCDN(),d.inArray(n,l)<0&&l.push(n))}return l},i.TYPE_VIDEO="video",i.TYPE_AUDIO="audio",i.DEFAULT_STREAM_QUALITY_S=0,i.DEFAULT_STREAM_QUALITY_M=1,i.DEFAULT_STREAM_QUALITY_L=2,i.DEFAULT_STREAM_QUALITY_XL=3,i.DEFAULT_STREAM_QUALITY_AUTO="auto",u.MediaCollection=i}(ardplayer,ardplayer.jq,ardplayer.console),function(e,t){"use strict";function i(e,t,i,r,a,n){this.initialize(e,t,i,r,a,n)}var r=i.prototype;r.initialize=function(e,t,i,r,a,n){this._quality=e,this._server=t,this._stream=i,this._label=a||"",this._description=n||"",this.setCDN(r)},r.getLabel=function(){if(t.isBlank(this._label))switch(this._quality){case 4:case"4":this._label="Full HD";break;case 3:case"3":this._label="sehr hohe";break;case 2:case"2":this._label="hohe";break;case 1:case"1":this._label="mittlere";break;case 0:case"0":this._label="niedrige";break;case"auto":this._label="automatische";break;default:this._label="Unbekannt ("+this._quality+")"}return this._label},r.getDescription=function(){if(t.isBlank(this._description))switch(this._quality){case 4:case"4":this._description="Full HD";break;case 3:case"3":this._description="Sehr hohe Qualitt";break;case 2:case"2":this._description="Hohe Qualitt";break;case 1:case"1":this._description="Mittlere Qualitt";break;case 0:case"0":this._description="Niedrige Qualitt";break;case"auto":this._description="Automatische Qualitt";break;default:this._description="Unbekannt ("+this._quality+")"}return this._description},r.getCDN=function(){return t.isBlank(this._cdn)?"default":this._cdn},r.setCDN=function(e){t.isBlank(e)?this._cdn="default":this._cdn=e},r.getQuality=function(){return this._quality},r.getServer=function(){return this._server},r.getStream=function(){return this._stream},e.MediaStream=i}(ardplayer,ardplayer.jq,ardplayer.console),function(r){"use strict";function e(){this._playlistItems=[]}e.prototype.addPlaylistItem=function(e,t,i){this._playlistItems.push(new r.PlaylistItem(e,t,i))},r.Playlist=e}(ardplayer,(ardplayer.jq,ardplayer.console)),function(e){"use strict";e.PlaylistItem=function(e,t,i){this._pc=e,this._mc=t,this._preroll=i}}(ardplayer,(ardplayer.jq,ardplayer.console)),function(e){"use strict";function t(){this.initialize(),this.s=void 0,this.m=void 0,this.l=void 0,this.xl=void 0}t.prototype.initialize=function(){},e.VideoSources=t}(ardplayer,(ardplayer.jq,ardplayer.console)),function(a,t){"use strict";var n=function(e){null==n.playerIDs&&(n.playerIDs={}),null==n.players&&(n.players=[]);var t=void 0;if(e&&e instanceof a.Player&&(t=e.getId()),null==t&&a.ErrorController.getInstance().throwError(a.ErrorController.NO_PLAYER_DEFINED,a.ErrorController.IS_CRITICAL_YES),n.playerIDs[t])return n.playerIDs[t];n.playerIDs[t]=this,n.players.push(e),this.playerID=t,this.player=e,this.currentPluginID="",this.playstate=n.PLAYSTATE_UNSPECIFIED,this.pluginChangeInProgress=!1,this.initialize()};n.resetSingleton=function(){n.playerIDs=void 0,n.players&&0<n.players.length&&t.each(n.players,function(e,t){t&&t.getCtrl()&&t.getCtrl().dispose()}),n.autoPlayerAlreadyActive=void 0,n.players=void 0},n.getInstance=function(e){return new n(e)},n.getInstanceByPlayerID=function(e){return n.playerIDs[e]},n.getAllPlayer=function(e){var i=void 0;if(e&&e instanceof a.Player&&(i=e),null==i)return n.players;var r=new Array;return t.each(n.players,function(e,t){t.getId()!=i.getId()&&r.push(t)}),r},n.getPlayingPlayer=function(e){var i=void 0;e&&e instanceof a.Player&&(i=e);var r=new Array;return t.each(n.players,function(e,t){null!=i?t.getId()!=i.getId()&&t.getCtrl()&&!0===t.getCtrl().isPlaying()&&r.push(t):t.getCtrl()&&!0===t.getCtrl().isPlaying()&&r.push(t)}),r},n.getPlayerById=function(i){var r=void 0;return t.each(n.players,function(e,t){null==r&&i==t.getId()&&(r=t)}),r},n.forceRemovePlayer=function(i){var r=-1;t.each(n.players,function(e,t){t==i&&(r=e)}),0<=r&&n.players.splice(r,1),n.playerIDs[i.getId()]=void 0,delete n.playerIDs[i.getId()]};var e=n.prototype;e.dispose=function(){this.__metaDaten=void 0,this.__duration=void 0,this.__time=void 0},e.getTime=function(){return this.__time},e.setTime=function(e){this.__time=e},e.getDuration=function(){return this.__duration},e.setDuration=function(e){this.__duration=e},e.getMetaDaten=function(){return this.__metaDaten},e.setMetaDaten=function(e){this.__metaDaten=e},e.initialize=function(){this.playerConfig=void 0,this.mediaCollection=void 0},n.autoPlayerAlreadyActive=!1,n.PLAYSTATE_UNSPECIFIED=0,n.PLAYSTATE_PAUSED=1,n.PLAYSTATE_PLAYING=2,n.PLAYSTATE_STOPPED=3,a.PlayerModel=n}(ardplayer,ardplayer.jq,ardplayer.console),function(n,r){"use strict";var e=function(){if(e.instance)return e.instance;(e.instance=this).initialize()};e.getInstance=function(){return new e},e.resetSingleton=function(){e.instance=void 0};var t=e.prototype;t.initialize=function(){this.lastPlayingPlayer=void 0,this.initListeners()},t.initListeners=function(){var i=this;r("body").on("activeplay",function(e,t){e.preventDefault(),i.lastPlayingPlayer=e.player,i.attachNativeListeners()}),shortcut.add("Ctrl+Space",n.Delegate.create(this,this.handleKeySpace),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+,",n.Delegate.create(this,this.handleKeyLeft),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+.",n.Delegate.create(this,this.handleKeyRight),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+B",n.Delegate.create(this,this.handleKeyUp),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+V",n.Delegate.create(this,this.handleKeyDown),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+K",n.Delegate.create(this,this.handleBackToLive),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+E",n.Delegate.create(this,this.handleReplay),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+M",n.Delegate.create(this,this.handleMute),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Ctrl+U",n.Delegate.create(this,this.handleSubtitle),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("ESC",n.Delegate.create(this,this.handleExitFullscreen),{type:"keydown",propagate:!1,disable_in_input:!0,target:window})},t.attachNativeListeners=function(){this._isNativeAttached||(this._isNativeAttached=!0,shortcut.add("Space",n.Delegate.create(this,this.handleKeySpace),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Left",n.Delegate.create(this,this.handleKeyLeft),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Right",n.Delegate.create(this,this.handleKeyRight),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Up",n.Delegate.create(this,this.handleKeyUp),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("Down",n.Delegate.create(this,this.handleKeyDown),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("K",n.Delegate.create(this,this.handleBackToLive),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("E",n.Delegate.create(this,this.handleReplay),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("M",n.Delegate.create(this,this.handleMute),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("U",n.Delegate.create(this,this.handleSubtitle),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("1",n.Delegate.create(this,this.handleQuality1),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("2",n.Delegate.create(this,this.handleQuality2),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("3",n.Delegate.create(this,this.handleQuality3),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("4",n.Delegate.create(this,this.handleQuality4),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}),shortcut.add("V",n.Delegate.create(this,this.handleVersion),{type:"keydown",propagate:!1,disable_in_input:!0,target:window}))},t.handleKeyByString=function(e){switch(e=(e||"").toLowerCase()){case"esc":case"escape":this.handleExitFullscreen();break;case"space":this.handleKeySpace();break;case"left":this.handleKeyLeft();break;case"right":this.handleKeyRight();break;case"up":this.handleKeyUp();break;case"down":this.handleKeyDown();break;case"k":this.handleBackToLive();break;case"e":this.handleReplay();break;case"m":this.handleMute();break;case"u":this.handleSubtitle();break;case"v":this.handleVersion();break;case"1":this.handleQuality1();break;case"2":this.handleQuality2();break;case"3":this.handleQuality3();break;case"4":this.handleQuality4()}},t.bindAutoplay=function(){var t;this._boundAutoplay||(this._boundAutoplay=!0,t=function(e){e&&13==e.keyCode&&this.lastPlayingPlayer&&this.lastPlayingPlayer.getCtrl().isPlaying()&&(this.lastPlayingPlayer.getCtrl().pause(),setTimeout(function(){this.lastPlayingPlayer.viewCtrl.playPause.focus()}.bind(this),500)),r(window).off("click",t),r(window).off("keydown",t)}.bind(this),r(window).on("click",t),r(window).on("keydown",t))},t.handleExitFullscreen=function(){void 0!==this.lastPlayingPlayer&&this.lastPlayingPlayer.viewCtrl.handleLeaveFullscreenEmulation()},t.handleQuality1=function(){void 0!==this.lastPlayingPlayer&&(this.lastPlayingPlayer.viewCtrl.setQualityByQualValue(n.MediaCollection.DEFAULT_STREAM_QUALITY_S),this.lastPlayingPlayer.pixelController.triggerQualityChanged(n.PlayerPixelController.IA_KEY_QUALITY_CHANGE))},t.handleQuality2=function(){void 0!==this.lastPlayingPlayer&&(this.lastPlayingPlayer.viewCtrl.setQualityByQualValue(n.MediaCollection.DEFAULT_STREAM_QUALITY_M),this.lastPlayingPlayer.pixelController.triggerQualityChanged(n.PlayerPixelController.IA_KEY_QUALITY_CHANGE))},t.handleQuality3=function(){void 0!==this.lastPlayingPlayer&&(this.lastPlayingPlayer.viewCtrl.setQualityByQualValue(n.MediaCollection.DEFAULT_STREAM_QUALITY_L),this.lastPlayingPlayer.pixelController.triggerQualityChanged(n.PlayerPixelController.IA_KEY_QUALITY_CHANGE))},t.handleQuality4=function(){void 0!==this.lastPlayingPlayer&&(this.lastPlayingPlayer.viewCtrl.setQualityByQualValue(n.MediaCollection.DEFAULT_STREAM_QUALITY_XL),this.lastPlayingPlayer.pixelController.triggerQualityChanged(n.PlayerPixelController.IA_KEY_QUALITY_CHANGE))},t.handleSubtitle=function(){void 0!==this.lastPlayingPlayer&&this.lastPlayingPlayer.dispatchCustomEvent(n.Player.EVENT_KEYBOARD_RELEASE,{shortcut:"u"})},t.handleVersion=function(){var e;void 0!==this.lastPlayingPlayer&&(e=document.getElementById(this.lastPlayingPlayer._id).getElementsByClassName("ardplayer-versionlabel")[0],r(e).toggleClass("hidden"))},t.handleMute=function(){void 0!==this.lastPlayingPlayer&&(!0===n.GlobalModel.getInstance().getMuted()?(this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_VOLUME_UNMUTE),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_VOLUME_UNMUTE)):(this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_VOLUME_MUTE),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_VOLUME_MUTE)),this.lastPlayingPlayer.getCtrl().toggleMuteState())},t.handleReplay=function(){var e;void 0!==this.lastPlayingPlayer&&(e=this.lastPlayingPlayer.getCtrl().isPlaying(),1==this.lastPlayingPlayer.getCtrl().isAtEnd&&0==e&&this.lastPlayingPlayer.getCtrl().play())},t.handleBackToLive=function(){var e,t,i;void 0!==this.lastPlayingPlayer&&(e=this.lastPlayingPlayer.isFlashCtrl(),t=this.lastPlayingPlayer.viewCtrl.dvrBacktoLiveButton,i=this.lastPlayingPlayer.getCtrl()._dvrIsLive,e&&t&&!t.isHiddenByClass()&&!i&&(this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_MOUSE_BACK_TO_LIVE),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_BACK_TO_LIVE),this.lastPlayingPlayer.viewCtrl.player.seekTo(this.lastPlayingPlayer.viewCtrl._lastDuration)))},t.handleKeySpace=function(){void 0!==this.lastPlayingPlayer&&(this.lastPlayingPlayer.getCtrl().loadStreamInitialized?(this.lastPlayingPlayer.resume(),!0===this.lastPlayingPlayer.getCtrl().isPlaying()?(this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_PAUSE),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_PAUSE,!0)):!1===this.lastPlayingPlayer.getCtrl().isPlaying()&&(0==this.lastPlayingPlayer.getCtrl().isAtEnd?(this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_PLAY),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_PLAY)):this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_PLAY_AGAIN))):this.lastPlayingPlayer.getCtrl().posterframeClickHandler())},t.handleKeyUp=function(){var e;void 0!==this.lastPlayingPlayer&&(e=this.lastPlayingPlayer.getCtrl().currentVolumeValue,1<=(e+=.1)&&(e=1),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_VOLUME_CHANGE,!0,{volume:e}),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_VOLUME_CHANGE,!0,{volume:e}),this.lastPlayingPlayer.getCtrl().setVolume(e),this.lastPlayingPlayer.viewCtrl.setVolumeSliderCssValue(e))},t.handleKeyDown=function(){var e;void 0!==this.lastPlayingPlayer&&(e=this.lastPlayingPlayer.getCtrl().currentVolumeValue,(e-=.1)<.1&&(e=0),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_VOLUME_CHANGE,!0,{volume:e}),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_VOLUME_CHANGE,!0,{volume:e}),this.lastPlayingPlayer.getCtrl().setVolume(e),this.lastPlayingPlayer.viewCtrl.setVolumeSliderCssValue(e))},t.handleKeyLeft=function(){var e,t,i,r,a;void 0!==this.lastPlayingPlayer&&(a=e=0,t=this.lastPlayingPlayer.getCtrl().getCurrenttime(),i=this.lastPlayingPlayer.getCtrl().getCurrenttime()-10,(r=this.lastPlayingPlayer.viewCtrl)._dvrEnabledAndRequested&&(e=Math.min(r._lastDuration-t,r._lastDuration),a=Math.min(r._lastDuration-i,r._lastDuration)),!(a={seekto:i,current:t,dvrRelativeFrom:e,dvrRelativeTo:a})===this.lastPlayingPlayer.getCtrl().mc.getIsLive()?this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND,!1,a):this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,a),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,a),this.lastPlayingPlayer.getCtrl().rewind())},t.handleKeyRight=function(){var e,t,i,r,a;void 0!==this.lastPlayingPlayer&&(a=e=0,t=this.lastPlayingPlayer.getCtrl().getCurrenttime(),i=this.lastPlayingPlayer.getCtrl().getCurrenttime()+10,(r=this.lastPlayingPlayer.viewCtrl)._dvrEnabledAndRequested&&(e=Math.min(r._lastDuration-t,r._lastDuration),a=Math.min(r._lastDuration-i,r._lastDuration)),a={seekto:i,current:t,dvrRelativeFrom:e,dvrRelativeTo:a},this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,a),this.lastPlayingPlayer.pixelController.triggerCustomPixel(n.PlayerPixelController.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,a),this.lastPlayingPlayer.getCtrl().forward())},t.removeNativeListeners=function(){this._isNativeAttached&&(this._isNativeAttached=!1,shortcut.remove("Space"),shortcut.remove("Left"),shortcut.remove("Right"),shortcut.remove("Up"),shortcut.remove("Down"),shortcut.remove("E"),shortcut.remove("K"),shortcut.remove("M"),shortcut.remove("U"),shortcut.remove("V"),shortcut.remove("1"),shortcut.remove("2"),shortcut.remove("3"),shortcut.remove("4"))},n.KeyboardPlayerController=e}(ardplayer,ardplayer.jq,ardplayer.console),function(e){"use strict";function t(){}t.generateUID=function(){for(var e="",t=0;t<32;t++)8!=t&&12!=t&&16!=t&&20!=t||(e+="-"),e+=Math.floor(16*Math.random()).toString(16).toUpperCase();return e},e.GUID=t}(ardplayer,(ardplayer.jq,ardplayer.console)),function(t,a){"use strict";var i=function(e){if(null==i.__IDs__&&(i.__IDs__={}),null==e&&t.ErrorController.getInstance().throwError(t.ErrorController.IDENTIFIER_IS_UNDEFINED,t.ErrorController.IS_CRITICAL_YES),i.__IDs__[e])return i.__IDs__[e];(i.__IDs__[e]=this).identifier=e,this.initialize()};i.resetSingleton=function(){i.__IDs__=void 0},i.getInstance=function(e){return e="string"==typeof e?e:window.location.search,new i(e)};var e=i.prototype;e.initialize=function(){},e.getQueryObject=function(e){if(this._params)return a.extend({},this._params,e);var t=this.identifier,i={f:function(e){return unescape(e).replace(/\+/g," ")}},i=a.extend({},i,e),r={};return a.each(t.match(/^\??(.*)$/)[1].split("&"),function(e,t){(t=t.split("="))[1]=i.f(t[1]),r[t[0]]=r[t[0]]?r[t[0]]instanceof Array?(r[t[0]].push(t[1]),r[t[0]]):[r[t[0]],t[1]]:t[1]}),"undefined"!=r[""]?(this._params=r,this._params):void 0},t.QueryParser=i}(ardplayer,ardplayer.jq,ardplayer.console),function(e){"use strict";function t(){}function a(e,t){var i=String(t),r=e-i.length;if(0<r)for(var a=0;a<r;a++)i="0"+i;return i}t.getFormatedTime=function(e){if(isNaN(e))return"00:00:00";var t=(r=Math.floor(e/1e3))%60,i=(r-t)/60,r=t,e=i%60,t=(i-e)/60,i=e;return a(2,t)+":"+a(2,i)+":"+a(2,r)},e.DateUtils=t}(ardplayer,(ardplayer.jq,ardplayer.console)),function(t,r){"use strict";var i=function(e){if(null==i.__IDs__&&(i.__IDs__={}),null==e&&t.ErrorController.getInstance().throwError(t.ErrorController.IDENTIFIER_IS_UNDEFINED,t.ErrorController.IS_CRITICAL_YES),i.__IDs__[e])return i.__IDs__[e];(i.__IDs__[e]=this).identifier=e,this.initialize()};i.resetSingleton=function(){i.__IDs__=void 0},i.getInstance=function(e){return new i(e)};var e=i.prototype;e.initialize=function(){},e.set=function(t){try{var e=r.extend({},this.get(),t);r.cookie(this.identifier,JSON.stringify(e),{path:"/",expires:30})}catch(e){t={}}},e.add=function(e,t){var i={};i[e]=t,this.set(i)},e.get=function(e){try{var t=r.cookie(this.identifier),i=t?JSON.parse(t):{}}catch(e){i={}}return e?i[e]:i},e.remove=function(e){var t={};e&&delete(t=this.get())[e];try{r.cookie(this.identifier,JSON.stringify(t),{path:"/"})}catch(e){}},e.removeAll=function(){var i=this,e=this.get();r.each(e,function(e,t){i.remove(e)})},e.dataString=function(){var i="",e=this.get();return r.each(e,function(e,t){i+=" ::: "+e+" := "+t+"\n"}),i},i.LAST_VISIT="lastvisitedDate",i.DATE="currentDate",i.PLUGIN="lastUsedPlug-in",i.VOLUME_VALUE="changedVolumeValue",i.VOLUME_MUTE="changedMuteValue",i.SUBTITLE_ENABLED="changeSubtitleValue",i.QUALITY="lastUsedQuality",i.HLS_LEVEL="lastHlsLevel",i.DEBUG="debug",t.Cookie=i}(ardplayer,ardplayer.jq,ardplayer.console),function(e,a){"use strict";var t=function(){if(t.prototype._singletonInstance)return t.prototype._singletonInstance;t.prototype._singletonInstance=this;var r={};this.createVideo=function(e){return this.createMediaElement("video",e)},this.createAudio=function(e){return this.createMediaElement("audio",e)},this.disposePlayer=function(e){delete r[e.getId()+"_video"],delete r[e.getId()+"_audio"]},this.createMediaElement=function(e,t){var i=r[t.getId()+"_"+e];if(i)return i;i=document.createElement(e);return i.setAttribute("data-uuid",a.randomUUID()),r[t.getId()+"_"+e]=i}};e.Html5MEFactory=t}(ardplayer,ardplayer.jq,ardplayer.console),function(s,h){"use strict";var u=function(){if(u.instance)return u.instance;(u.instance=this).initialize()};u.VERSION="3.9.0-hotfix30092020",u.getInstance=function(){return new u},u.resetSingleton=function(){u.instance=void 0};var e=u.prototype;e.initialize=function(){this.support={};var e=h("<audio/>")[0];this.support.audio=!!e.canPlayType;var t=["mp3","ogg","mpeg","wav","m4a","mp4"];if(this.support.audioExtensions={},this.support.audio){for(var i=0;i<t.length;i++){var r=t[i],a=e.canPlayType("audio/"+r);""!=a&&"no"!=a&&(this.support.audioExtensions[r]=a)}var n=e.canPlayType("audio/x-mpegurl");""!=n&&"no"!=n&&(this.support.audioExtensions.m3u=n,this.support.audioExtensions.m3u8=n);n=e.canPlayType("audio/mpeg");""!=n&&"no"!=n&&(this.support.audioExtensions.mp3=n)}var l,o,n=h("<video/>")[0];if(this.support.video=!!n.canPlayType,this.html5VideoSupported=this.support.video,this.html5mp4VideoSupported=!1,this.html5streamingVideoSupported=!1,this.html5oggVideoSupported=!1,this.html5webmVideoSupported=!1,this.html5VideoSupported){try{l=h("<video />")[0]}catch(e){}try{this.html5mp4VideoSupported=null!=l.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').match(/maybe|probably/i)}catch(e){}try{this.html5oggVideoSupported=null!=l.canPlayType('video/ogg; codecs="theora"').match(/maybe|probably/i)}catch(e){}try{this.html5webmVideoSupported=null!=l.canPlayType('video/webm; codecs="vp8, vorbis"').match(/maybe|probably/i)}catch(e){}try{this.html5streamingVideoSupported=null!=l.canPlayType("application/x-mpegURL").match(/maybe|probably/i)}catch(e){}try{this.html5VideoSupported=this.html5mp4VideoSupported||this.html5oggVideoSupported||this.html5webmVideoSupported}catch(e){}}if(this.html5AudioSupported=this.support.audio,this.html5mp3AudioSupported=!1,this.html5oggAudioSupported=!1,this.html5wavAudioSupported=!1,this.html5AudioSupported){try{o=h("<audio />")[0]}catch(e){}try{this.html5mp3AudioSupported=null!=o.canPlayType("audio/mpeg").match(/maybe|probably/i)}catch(e){}try{this.html5oggAudioSupported=null!=o.canPlayType('audio/ogg; codecs="vorbis"').match(/maybe|probably/i)}catch(e){}try{this.html5wavAudioSupported=null!=o.canPlayType('audio/wav; codecs="1"').match(/maybe|probably/i)}catch(e){}this.html5AudioSupported=this.html5mp3AudioSupported||this.html5oggAudioSupported||this.html5wavAudioSupported}this.isIPhoneDevice=null!=navigator.userAgent.match(/iPhone/i),this.isIPadDevice=null!=navigator.userAgent.match(/iPad/i),this.isIPodDevice=null!=navigator.userAgent.match(/iPod/i),this.isIPodDevice&&(this.isIPhoneDevice=!1),this.isIOSDevice=null!=navigator.userAgent.match(/iOS/i)||this.isIPadDevice||this.isIPhoneDevice||this.isIPodDevice,this.isAndroidDevice=null!=navigator.userAgent.match(/Android/i),this.isHPDevice=null!=navigator.userAgent.match(/webOS/i),this.isPlaybookDevice=null!=navigator.userAgent.match(/PlayBook/i),this.isBlackBerryDevice=null!=navigator.userAgent.match(/BlackBerry/i)||this.isPlaybookDevice,this.isWindowsPhone=null!=navigator.userAgent.match(/Windows Phone/i),this.isKindle=null!=(navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Silk/i)||navigator.userAgent.match(/KFOT/i)||navigator.userAgent.match(/KFTT/i)||navigator.userAgent.match(/KFJWI/i)||navigator.userAgent.match(/KFJWA/i)||navigator.userAgent.match(/KFSOWI/i)||navigator.userAgent.match(/KFTHWI/i)||navigator.userAgent.match(/KFTHWA/i)||navigator.userAgent.match(/KFAPWI/i)||navigator.userAgent.match(/KFAPWA/i)),this.isMobileDevice=this.isBlackBerryDevice||this.isHPDevice||this.isAndroidDevice||this.isIOSDevice||this.isWindowsPhone||this.isKindle,this.isFlashSupported=!0===swfobject.hasFlashPlayerVersion("10.2.0"),this.browserIsIE11=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./),this.browserIsOpera=null!=navigator.userAgent.toLowerCase().match(/opera/i)||null!=navigator.userAgent.toLowerCase().match(/OPR\//i),this.browserIsFirefox=null!=navigator.userAgent.toLowerCase().match(/firefox/i),this.uid=s.GUID.generateUID(),this.platform=navigator.platform,this.startParams=s.QueryParser.getInstance().getQueryObject();this.cookie=s.Cookie.getInstance("ard_mediathek_player_settings"),1===this.cookie.get(s.Cookie.DEBUG)&&s.debug(!0),this._volume=null,this._muted=null,this._subtitleEnabled=null,this.supportedPlugInNamess=[],this.supportedPlugIns=[],this.isFlashSupported&&(this.supportedPlugIns.push(u.FLASH),this.supportedPlugInNamess.push("flash")),this.isHTML5Supported=this.html5mp4VideoSupported||this.html5mp3AudioSupported,this.startParams&&this.startParams.forceAllHTML5Codecs&&"1"===this.startParams.forceAllHTML5Codecs&&(this.isHTML5Supported=this.isHTML5Supported||this.html5oggAudioSupported||this.html5oggVideoSupported||this.html5wavAudioSupported||this.html5webVideoSupported),this.isHTML5Supported&&(this.supportedPlugIns.push(u.HTML5),this.supportedPlugInNamess.push("html5(video&audio)")),this._pluginId=u.HTML5,this.keyboardPlayerController=s.KeyboardPlayerController.getInstance(),this.getMuted()?(this.setMuted(!1),this.setVolume(1)):this.getVolume()<.05&&this.setVolume(.5)},e.getLastQuality=function(){var e=this.cookie.get(s.Cookie.QUALITY);if(isNaN(e)){if("auto"!=e)return!1}else e=Math.max(parseInt(e),0);return e},e.setLastQuality=function(e){this.cookie.add(s.Cookie.QUALITY,e)},e.getLastUsedHlsLevelIndex=function(){var e=this.cookie.get(s.Cookie.HLS_LEVEL);return isNaN(e)?-1:parseInt(e)},e.setLastUsedHlsLevelIndex=function(e){this.cookie.add(s.Cookie.HLS_LEVEL,e)},e.getPluginID=function(e){var t=this.startParams;if(t&&t.forcePlugInID&&!isNaN(Number(t.forcePlugInID)))return Number(t.forcePlugInID);t=Number(this.cookie.get(s.Cookie.PLUGIN)),t=isNaN(t)||!e?e?-1:this._pluginId:t;return t},e.setPluginID=function(e,t){switch(e){case u.FLASH:case u.HTML5:t&&this.cookie.add(s.Cookie.PLUGIN,e),this._pluginId=e;break;default:s.ErrorController.getInstance().throwError(s.ErrorController.PLUGIN_ID_UNKNOWN,s.ErrorController.IS_CRITICAL_YES,e)}},e.hasSubtitlePreference=function(){return null!=this.cookie.get(s.Cookie.SUBTITLE_ENABLED)},e.getSubtitleEnabled=function(){var e=this.cookie.get(s.Cookie.SUBTITLE_ENABLED),e=null==e?null!=this._subtitleEnabled&&this._subtitleEnabled:e;return e},e.setSubtitleEnabled=function(e){this._subtitleEnabled=e,this.cookie.add(s.Cookie.SUBTITLE_ENABLED,e)},e.getMuted=function(){var e=this.cookie.get(s.Cookie.VOLUME_MUTE),e=null==e?null!=this._muted&&this._muted:e;return e},e.setMuted=function(e){this._muted=e,this.cookie.add(s.Cookie.VOLUME_MUTE,e)},e.getVolume=function(){if(this.isMobileDevice)return 1;var e=Number(this.cookie.get(s.Cookie.VOLUME_VALUE)),e=1==isNaN(e)?null==this._volume?1:this._volume:e;return e},e.setVolume=function(e){this._volume=e,this.cookie.add(s.Cookie.VOLUME_VALUE,e)},u.FLASH=0,u.HTML5=1,s.GlobalModel=u}(ardplayer,ardplayer.jq,ardplayer.console),function(G,Q,d){"use strict";var Y=function(e){null==Y.playerIDs&&(Y.playerIDs={}),null==Y.players&&(Y.players=[]);var t=void 0;if(e&&e instanceof G.Player&&(t=e.getId()),null==t&&G.ErrorController.getInstance().throwError(G.ErrorController.NO_PLAYER_DEFINED,G.ErrorController.IS_CRITICAL_YES),Y.playerIDs[t])return Y.playerIDs[t];Y.playerIDs[t]=this,Y.players.push(e),this.playerID=t,this.player=e,this.initialize()};Y.resetSingleton=function(){Y.playerIDs=void 0,Y.players=void 0},Y.getInstance=function(e){return new Y(e)},Y.getInstanceByPlayerID=function(e){return Y.playerIDs[e]};var r,e=Y.prototype,a=0;function q(e,t,i,r,a){return Q("<div></div>").appendTo(r||t).addClass(e+(a?" "+a:""))}function W(e,t,i,r,a){return Q("<button/>").appendTo(r||t).addClass(e+(a?" "+a:""))}function z(e,t,i,r,a,n,l,o,s,h,u){e.generatedElements||(e.generatedElements={}),e.generatedElements[i]={propertyname:t,instance:r,additionalClasses:a,includeWidth:n,includeHeight:l,includeBaseClass:o,includeAdditionalRepresentationClass:s,includeAdditionalPlayerTypeClass:h,includeDynamicWidthHeightByScale:u};t=e.player.model.playerConfig,a=e.player.model.mediaCollection,n=G.GlobalModel.getInstance();u&&(o=!0);l="",l=i,u=r.isHiddenByClass();return r.removeClass(),!s||null!=(e=t.getRepresentationClass(e.representationQuality))&&r.addClass("ardplayer-"+e),h&&r.addClass("ardplayer-"+a.getType()),o&&(i==Y.CLASS_MEDIA_CANVAS&&n.browserIsOpera?r.attr("class",i):r.addClass(i)),r.addClass(l),u&&r.hideWithClass(),r}function K(e){var t=e.player,i=t.model.mediaCollection,r=e.nativeOptionDropdown;r.empty();var a=i.getNumAvailableQualities(G.GlobalModel.HTML5,t),n=a<1;if(1<a){t=i.checkStreamIsAvailable("auto",G.GlobalModel.HTML5,t);t&&a--;for(var l,o=0,s=a-1;0<=s;s--)null!=(l=i.getStreamByQualityIndex(s,G.GlobalModel.HTML5))&&(r.append('<option value="'+s+'">'+l.getDescription()+"</option>"),o++);t&&null!=(l=i.getStreamByQualityIndex("auto",G.GlobalModel.HTML5))&&(r.append('<option value="auto">'+l.getDescription()+"</option>"),o++),n=0==o}n&&(r&&r.remove(),e.optionsButton&&e.optionsButton.hideWithClass())}function j(e,t,i,r,a,n){if(Q.isBlank(t)||Q.isBlank(i))return null;r=e[t]=Q('<img alt="">').appendTo(a||e.viewport).addClass(i+(n?" "+n:"")).attr("src",r);return Q(r).on("error",G.Delegate.create(this,l)),r}function l(e){G.ErrorController.getInstance().throwError(G.ErrorController.IMG_SRC_IS_WRONG,G.ErrorController.IS_CRITICAL_NO,e.currentTarget.src)}e.initialize=function(){this.isErrorState=!1;var e=G.GlobalModel.getInstance().isMobileDevice;this.moveEventName=e?"touchmove":"mousemove",this.downEventName=e?"touchstart":"mousedown",this.clickEventName=e?"touchend":"click",this.clickEventIsMove=!1;var t,i,r,a,n,l,o,s,h,u,d,c,p,y,_,g,m,f,C,v,P,E,S,A,I,T,b,L,D,M,w,R,O,N,x,k,U=this,B=U.player.model,V=B.playerConfig,F=B.mediaCollection,H=G.GlobalModel.getInstance();this.playerDiv=Q("#"+U.playerID),this.tabFadePrevention=!1,this.setRepresentationsClasses(U.player.model.playerConfig.getRepresentationClass(0)),B=(e=U).playerDiv,e.viewport=q(Y.CLASS_VIEWPORT,e.playerDiv,0,B,t),z(e,"viewport",Y.CLASS_VIEWPORT,e.viewport,t,!1,!1,!1,!1,!1,!0),e.viewport,function(e,t){var i=e.player.model,r=i.playerConfig,a=i.mediaCollection,n={m:r.getBaseUrl()+"base/img/posterframe-m.jpg"},i=a.getPreviewImage();i&&(a={},i.hasOwnProperty("xs")&&(a.xs=i.xs),i.hasOwnProperty("s")&&(a.s=i.s),i.hasOwnProperty("m")&&(a.m=i.m),i.hasOwnProperty("l")&&(a.l=i.l),i.hasOwnProperty("xl")&&(a.xl=i.xl),a.s||a.m||a.l||a.xl?n=a:Q.isBlank(i)||((n={}).m=i));i=q(Y.CLASS_POSTERFRAME_TARGET_CLASS,t),t=j(e,"posterframe-img","ardplayer-posterimage","",i);e.posterImg=t,e.posterframe=i,e.posterImgResponsive=new G.ResponsiveImage(n,t[0],r.getRepresentationClass()),z(e,Y.CLASS_POSTERFRAME_TARGET_CLASS,Y.CLASS_POSTERFRAME,i,"",!1,!1,!1,!1,!1,!0)}(U,U.viewport),function(e,t){t=W(Y.CLASS_POSTER_CONTROL,t);z(e,"postercontrol",Y.CLASS_POSTER_CONTROL,t,"",!1,!1,!1,!1,!1,!0),t.attr({tabindex:"0",onClick:"this.blur(); return false;",title:"ARD-Player. Abspielen"}).removeAttr("href"),e.posterControl=t}(U,U.viewport),F.getType()===G.MediaCollection.TYPE_AUDIO&&function(t,e,i){var r=t.player.model,a=r.playerConfig,n=r.mediaCollection,l=null,r=n.getAudioImage();r&&(n={},r.hasOwnProperty("s")&&(n.s=r.s),r.hasOwnProperty("m")&&(n.m=r.m),r.hasOwnProperty("l")&&(n.l=r.l),r.hasOwnProperty("xl")&&(n.xl=r.xl),n.s||n.m||n.l||n.xl?l=n:Q.isBlank(r)||((l={}).m=r));t.audioframe=void 0,l&&(t.dragging=!1,t.audioFrame=t.audioframe=q(Y.CLASS_AUDIO_FRAME,null,0,e,i).hideWithClass().on(t.clickEventName,function(e){t.dragging||(t.player.getCtrl().togglePlay(),t.player.getCtrl().isPlaying()?(t.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PAUSE_VIEWPORT),t.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PAUSE)):(t.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_VIEWPORT),t.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PLAY)),t.tabFadePrevention=!1)}).on("touchmove",function(){t.dragging=!0}).on("touchstart",function(){t.dragging=!1}),t.audioImg=j(t,"audioimage",Y.CLASS_AUDIO_FRAME_IMAGE,"",e,i).appendTo(t.audioFrame),t.audioImgResponsive=new G.ResponsiveImage(l,t.audioImg[0],a.getRepresentationClass()));t.audioframe}(U,U.viewport),e=(t=U).viewport,t.buffering=q(Y.CLASS_BUFFERING_INDICATOR,null,0,e,i),t.buffering.hideWithClass(),t.buffering,(r=U).canFadeIn=!0,r.mainControlbar=q(Y.CLASS_MAINCONTROLBAR,r.viewport,0,a,u),r.mainControlbar.css("opacity",0),r.mainControlbar.css("bottom",-100),r.mainControlbar.addClass(r.getStateSuffix()),r.mainControlbar.mouseover(function(){r._mouseOverCtrlBar=!0}).mouseout(function(){r._mouseOverCtrlBar=!1}),r.mainControlbar,F.getIsLive()&&!F.getDVREnabled()||function(i,e,t){i.sliding=!1;t=q(Y.CLASS_TIME_CONTROLS,i.mainControlbar,0,e,t);G.GlobalModel.getInstance().isMobileDevice&&t.addClass("mobile");i.mainTimelineSlider=new ardplayer.TimelineSlider(i,t),Q(i.mainTimelineSlider).on("change",function(e){var t=i.player.getCtrl().getCurrenttime(),e=i.player.getCtrl().setTimeByPercent(e.value);!function(e,t,i,r){var a=e.player.pixelController,n=0,l=0;e._dvrEnabledAndRequested&&(n=Math.min(e._lastDuration-i,e._lastDuration),l=Math.min(e._lastDuration-t,e._lastDuration));l={seekto:t,current:i,dvrRelativeFrom:n,dvrRelativeTo:l};i<=t?(a.triggerCustomPixel(G.PlayerPixelController.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,l),a.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,l)):(0==r?a.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND,!1,l):a.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,l),a.triggerCustomPixel(G.PlayerPixelController.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,l))}(i,e,t,i.player.getCtrl().mc.getIsLive()),i.mainTimelineSlider.setBufferPercent(0),G.GlobalModel.getInstance().isMobileDevice&&i.onUserActivity(!0)}),i.mainTimelineSlider}(U),(u=U).mainControlbarBox=q(Y.CLASS_MAINCONTROLBAR_BOX,u.mainControlbar,0,n,l),u.mainControlbarBox,this.measureControlbarDimension(),(u=U).mainControls=q(Y.CLASS_MAINCONTROLS,u.mainControlbarBox,0,o,p),u.mainControls.removeClass().addClass(Y.CLASS_MAINCONTROLS+" ardplayer-"+u.getStateSuffix()),u.mainControls,p=U,u="",u+=Y.CLASS_TRANSPORTBOX,u+=" ardplayer-"+p.getStateSuffix(),p.transportbox=q(u,p.mainControls,0,s,h),z(p,u,u,p.transportbox,h,!1,!1,!1,!1,!1,!0),p.transportbox,(p=U).playPause=p.generateButton(Y.CLASS_PLAY_PAUSE,p.transportbox,p,d,c).attr({title:"Abspielen/Pause [(STRG +) Leertaste].\nVorspulen: [Pfeil links (bzw. STRG + Punkt)].\nZurckspulen: [Pfeil rechts (bzw. STRG + Komma)]",role:"menuitem",tabindex:"0"}),p.playPause,(p=U).playagain=p.generateButton(Y.CLASS_PLAY_AGAIN,p.transportbox,p,y,_).attr({title:"Erneut abspielen [Leertaste (bzw. STRG + E)]",tabindex:"0",onClick:"this.blur(); return false;"}).hideWithClass(),p.playagain,F.getType()===G.MediaCollection.TYPE_AUDIO&&this.player.model.playerConfig.getShowEqualizer()&&((S=U).equalizeContainer=q(Y.CLASS_EQUALIZE,S.transportbox,0,g,m),z(S,Y.CLASS_EQUALIZE_SHORT,Y.CLASS_EQUALIZE,S.equalizeContainer,m,!1,!1,!1,!1,!1,!0),S.equalizeContainer.hideWithClass()),(S=U).timeContainer=q(Y.CLASS_TIME_CONTAINER,S.mainControls,0,f,C).attr("aria-live","off"),S.timeContainer,(S=U).functionBtnBox=q(Y.CLASS_PLAYER_FUNKTION_BOX,S.mainControls,0,v,P),S.functionBtnBox,function(e,t,i){e.versionLabel=q(Y.CLASS_TIME_CONTAINER,e.mainControls,0,t,i),e.versionLabel.addClass(Y.CLASS_VERSIONLABEL),e.versionLabel.addClass("hidden");i=ardplayer.GlobalModel.VERSION;e.versionLabel.html(i);i=window.location.hostname;(-1<i.indexOf("mediathek-tua.")||-1<i.indexOf("localhost")||-1<i.indexOf("www-tua.ard.de")||-1<i.indexOf("lra.ard.de"))&&e.versionLabel.removeClass("hidden");e.versionLabel}(U),this.player.isPrerollPlayer()&&((S=U).prerollInfoBox=q(Y.CLASS_PREROLL_INFO,S.viewport),S.prerollInfoBox.text("Trailer"),S.prerollInfoBox,(E=U).prerollSkipBox=E.generateButton(Y.CLASS_PREROLL_SKIP,E.viewport,E),E.prerollSkipBox.html("berspringen <i/>").attr({title:"berspringt diesen Clip",tabindex:"0",onClick:"this.blur(); return false;"}).off(E.clickEventName).on(E.clickEventName,function(e){return E.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_SKIP_PREROLL),E.player.skipPreroll(),!1}).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}),E.prerollSkipBox),A=U,!1!==G.GlobalModel.getInstance().isIOSDevice||(A.dvrBacktoLiveButton=A.generateButton(Y.CLASS_DVR,A.functionBtnBox,A,I,T).attr({title:"Sprung zur aktuellen Stelle des Livestreams [(Strg +) K]",tabindex:"0",onClick:"this.blur(); return false;"}).hideWithClass().off(A.clickEventName).on(A.clickEventName,function(e){return A.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_BACK_TO_LIVE),A.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_BACK_TO_LIVE),A.player.seekToLive(),A.dvrBacktoLiveButton.hideWithClass(),A.tabFadePrevention=!1}).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}),A.dvrBacktoLiveButton),V.getShowOptions()&&(V.getShowOptions_Quality()||V.getShowOptions_Plugins())&&(V=!1!==F.getMediaArray()[G.GlobalModel.FLASH]&&H.isFlashSupported?1:0,(1<(V+=!1!==F.getMediaArray()[G.GlobalModel.HTML5]&&H.isHTML5Supported?1:0)||1<F.getMaxNumAvailableQualities())&&function(i,e,t){function r(e){var t;i.optionsControlDiv?i.hideAllDialogs():(t="",i.player.model.mediaCollection.getIsLive()&&!i._dvrEnabledAndRequested&&(t="live"),document.addEventListener(i.clickEventName,i.hideAllDialogs.bind(i)),function(r,e,t,i){var a=q(Y.CLASS_OPTIONS_DIALOG,r.viewport,0,e,t),n=r.player,l=n.model,o=l.playerConfig,s=l.mediaCollection,h=G.GlobalModel.getInstance(),u=!1,d=l.currentPluginID,c=null;{var p;Q('<a href="javascript:void(0)" tabindex="0" style="width:0px;height:0px;position:absolute;margin:0;padding:0"></a>').appendTo(a).on("focus",function(e){r.hideAllDialogs();var t=r.optionsButton.prev(":not(.ardplayer-hideclass)");0==t.length&&(r.playPause.isHiddenByClass()?r.playagain.isHiddenByClass()||(t=r.playagain):t=r.playPause),t.focus()}),o.getShowOptions_Plugins()&&(p=Q('<section role="listbox"><h1>Playerformat:</h1></section>'),e=Q("<ul></ul>").appendTo(p),t=!1!==s.getMediaArray()[G.GlobalModel.FLASH]&&h.isFlashSupported,l=!1!==s.getMediaArray()[G.GlobalModel.HTML5]&&h.isHTML5Supported,(t||l)&&(h=0,t&&(h++,u=d==G.GlobalModel.FLASH,t=Q("<li"+(u?' class="selected"':"")+' role="option"><a tabindex="0" href="javascript:void(0)" title="Abspielformat Flash">Flash</a></li>').appendTo(e).on("keydown",function(e){if(13==e.keyCode)return e.preventDefault(),d!=G.GlobalModel.FLASH&&(n.pixelController.triggerPluginChanged(G.PlayerPixelController.IA_MOUSE_PLUGIN_CHANGE),r.changePluginSelection(G.GlobalModel.FLASH,!0),r.activateFlash(),r.hideAllDialogs()),r.optionsButton.focus(),!1}).on(r.clickEventName,function(e){return d!=G.GlobalModel.FLASH&&(n.pixelController.triggerPluginChanged(G.PlayerPixelController.IA_MOUSE_PLUGIN_CHANGE),r.changePluginSelection(G.GlobalModel.FLASH,!0),r.activateFlash(),r.hideAllDialogs()),!1}).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}),c=t),l&&(h++,u=d==G.GlobalModel.HTML5,e=Q("<li"+(u?' class="selected"':"")+' role="option"><a tabindex="0" href="javascript:void(0)" title="Abspielformat HTML5">HTML</a></li>').appendTo(e).on("keydown",function(e){if(13==e.keyCode)return e.preventDefault(),d!=G.GlobalModel.HTML5&&(n.pixelController.triggerPluginChanged(G.PlayerPixelController.IA_MOUSE_PLUGIN_CHANGE),r.changePluginSelection(G.GlobalModel.HTML5,!0),r.activateHTML(),r.hideAllDialogs()),r.optionsButton.focus(),!1}).on(r.clickEventName,function(e){return d!=G.GlobalModel.HTML5&&(n.pixelController.triggerPluginChanged(G.PlayerPixelController.IA_MOUSE_PLUGIN_CHANGE),r.changePluginSelection(G.GlobalModel.HTML5,!0),r.activateHTML(),r.hideAllDialogs()),!1}).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}),c=c||e),1<h?p.appendTo(a):c=null))}if(o.getShowOptions_Quality()){var y=Q('<section role="listbox"><h1>Qualitt:</h1></section>'),_=Q("<ul></ul>").appendTo(y),g=function(t,e,i){u=r.representationQuality==t;e=Q("<li"+(u?' class="selected"':"")+' role="option"><a tabindex="0" href="javascript:void(0)" title="'+i+'">'+e+"</a></li>").appendTo(_).on("keydown",function(e){if(13==e.keyCode)return e.preventDefault(),r.representationQuality!=t&&(r._dvrEnabledAndRequested&&!r._dvrIsLive&&n.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_BACK_TO_LIVE),n.pixelController.triggerQualityChanged(G.PlayerPixelController.IA_MOUSE_QUALITY_CHANGE),r.hideAllDialogs(),r.representationQualityOrder.push(r.representationQuality),r.setQualityIndex(t)),r.optionsButton.focus(),!1}).on(r.clickEventName,function(e){return r.representationQuality!=t&&(r._dvrEnabledAndRequested&&!r._dvrIsLive&&n.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_BACK_TO_LIVE),n.pixelController.triggerQualityChanged(G.PlayerPixelController.IA_MOUSE_QUALITY_CHANGE),r.hideAllDialogs(),r.representationQualityOrder.push(r.representationQuality),r.setQualityIndex(t)),!1}).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")});c=c||e};if(u=!1,1<s.getNumAvailableQualities(d)){y.appendTo(a);for(var m,f=s.getAvailableQualities(d),C=f.length-1;0<=C;C--)(m=f[C])&&g(C,m.getLabel(),m.getDescription());s.checkStreamIsAvailable("auto",d,n)&&(m=s.getStreamByQualityIndex("auto",d))&&g("auto",m.getLabel(),m.getDescription())}}Q('<a href="javascript:void(0)" tabindex="0" style="width:0px;height:0px;padding:0px;margin:0px;position:absolute"></a>').appendTo(a).on("focus",function(){r.hideAllDialogs(),r.optionsButton.next().children().andSelf().filter("button:not(.ardplayer-hideclass)").focus()}),r.hideAllDialogs(),r.setForceCtrlBarVisible(!0);o=a.width(),y=r.optionsButton.position().left+23;y-=o/2,a.css("left",Math.min(y,r.viewport.width()-o)+"px"),s.getIsLive()&&!r._dvrEnabledAndRequested&&a.addClass("live");r.optionsControlDiv=a,i&&c&&setTimeout(function(){c.children("a:first-child").focus()},50)}(i,null,t,e))}var a=ardplayer.GlobalModel.getInstance();{var n;i.optionsButton=i.generateButton(Y.CLASS_OPTIONS,i.functionBtnBox,i,e,t).attr({title:"Auswahl Playerformat und Qualitt",role:"menuitem",tabindex:"0",onClick:"this.blur(); return false;"}),a.isMobileDevice?(n=i.player,t=n.model,t.playerConfig,t.mediaCollection,a=G.GlobalModel.getInstance(),a=Q("<select>").addClass("ardplayer-btn-settings-mobile").appendTo(i.optionsButton).on("change",function(e){e=e.target.value;i.representationQuality!=e&&(i._dvrEnabledAndRequested&&!i._dvrIsLive&&n.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_BACK_TO_LIVE),n.pixelController.triggerQualityChanged(G.PlayerPixelController.IA_MOUSE_QUALITY_CHANGE),i.hideAllDialogs(),i.representationQualityOrder.push(i.representationQuality),i.setQualityIndex(e))}),i.nativeOptionDropdown=a,K(i)):i.optionsButton.off("keydown").off(i.clickEventName).on("keydown",function(e){if(13==e.keyCode)return r(!0),e.preventDefault(),!1}).on(i.clickEventName,function(e){return r(!1),i.tabFadePrevention=!1}).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")})}i.optionsButton}(U)),this.player.dispatchCustomEvent(G.Player.SETUP_VIEW,{controller:U,viewport:U.viewport,container:this.functionBtnBox}),!1===H.isMobileDevice&&((N=U).volumeContainer=q(Y.CLASS_VOLUME_CONTAINER,N.functionBtnBox,0,x,k).hover(function(){N.volumeslider&&!N.optionsControlDiv&&(TweenLite.killTweensOf(N.volumeslider),TweenLite.to(N.volumeslider,.4,{opacity:1,onStart:function(){N.volumeslider.css("display","inline-block")}}))},function(){N.volumeslider&&(TweenLite.killTweensOf(N.volumeslider),TweenLite.to(N.volumeslider,.4,{opacity:0,onComplete:function(){N.volumeslider.css("display","none")}}))}).click(function(){TweenLite.killTweensOf(N.volumeslider),TweenLite.to(N.volumeslider,.4,{opacity:1,onStart:function(){N.volumeslider.css("display","inline-block")}})}),N.volumeContainer,(k=U).volume=k.generateButton(Y.CLASS_VOLUME,k.volumeContainer,k,R,O).attr({title:"Lautstrke einstellen [Pfeiltasten hoch/runter (bzw. STRG + B/V)].\nTon an/aus [STRG + M]",role:"menuitem",tabindex:"0","aria-pressed":"false",onClick:"this.blur(); return false;"}),k.volume,b=U,w=G.GlobalModel.getInstance(),L=b.volumeslider=Q('<div class="ardplayer-sound-slider" aria-disabled="false" role="application" style="opacity: 0">').appendTo(b.volumeContainer).hide().mousedown(function(e){M=!0}).mouseup(function(e){M=!1,b.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_VOLUME_CHANGE,!0,{volume:b.player.getCtrl().getVolume()}),b.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_VOLUME_CHANGE,!0,{volume:b.player.getCtrl().getVolume()})}).on("mousemove",function(e){M&&(e=Q.crossbrowserPosition(e,L[0]).top/L.height(),D.css("height",100*e+"%"),e=1-e,b.player.getCtrl()&&(b.player.getCtrl().setVolume(e),w&&w.getMuted()&&b.player.getCtrl().toggleMuteState(),b.showMutedState(e<.05)),b.tabFadePrevention=!1)}).on("click",function(e){e=Q.crossbrowserPosition(e,L[0]).top/L.height();D.css("height",100*e+"%"),e=1-e,b.player.getCtrl()&&(b.player.getCtrl().setVolume(e),w&&w.getMuted()&&b.player.getCtrl().toggleMuteState(),b.showMutedState(e<.05)),b.tabFadePrevention=!1}),D=Q('<div class="ardplayer-sound-slider-range" style="height: 50%;"></div>').appendTo(L),b.volumeslider),F.getType()===G.MediaCollection.TYPE_VIDEO&&function(i,e,t){var r=i.player,a=G.GlobalModel.getInstance();if(a.isWindowsPhone||a.isIPhoneDevice||a.isIPodDevice)return;var a=function(e){if(13==e.keyCode)return e.preventDefault(),n(e,!1)}.bind(this),n=function(e,t){if(!1!==t)try{i.fullscreen.blur()}catch(e){}return i.optionsControlDiv&&(i.optionsControlDiv.remove(),i.optionsControlDiv=null),i._fullscreenEnabled?r.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON):r.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON),i.toggleFullscreen(),i.tabFadePrevention=!1}.bind(this);i.fullscreen=i.generateButton(Y.CLASS_FULLSCREEN,i.functionBtnBox,i,e,t).attr({title:"Vollbildmodus an [aus mit ESC]","aria-pressed":"false",role:"menuitem",tabindex:"0"}).on(i.clickEventName,n).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}),G.GlobalModel.getInstance().browserIsIE11||i.fullscreen.on("keydown",a);i.fullscreen}(U),0==U.player.model.playerConfig.getAutoPlayBoolean()&&U.mainControlbar.hideWithClass(),U.fadeOutCtrlBar(),this.viewport.click(function(e){G.KeyboardPlayerController.getInstance().attachNativeListeners()}),Q(document).click(function(e){if(U.player===G.KeyboardPlayerController.getInstance().lastPlayingPlayer){for(var t=!1,i=e.target;null!=i&&null!=i.parentNode;){if(i===U.viewport[0]){t=!0;break}i=i.parentNode}0==t&&G.KeyboardPlayerController.getInstance().removeNativeListeners()}}),H.isMobileDevice||this.observeTabIndex(),this.player.dispatchCustomEvent(G.Player.SETUP_VIEW_COMPLETE,{controller:U})},e.updateOptionButtonVisibility=function(){var e,t,i,r,a;this.optionsButton&&(t=(e=this).player.model.mediaCollection,i=G.GlobalModel.getInstance(),r=!1!==t.getMediaArray()[G.GlobalModel.FLASH]&&i.isFlashSupported?1:0,1==(r+=!1!==t.getMediaArray()[G.GlobalModel.HTML5]&&i.isHTML5Supported?1:0)&&1==t.getMaxNumAvailableQualities()?this.optionsButton.hideWithClass():this.optionsButton.showWithClass()),this.nativeOptionDropdown&&(this.optionsButton.isHiddenByClass()?this.nativeOptionDropdown.hideWithClass():(K(this),a=e.representationQualityOrder.concat(e.representationQuality),this.nativeOptionDropdown.children("option").filter(function(){var e=Q(this).val();return"auto"!=e&&(e=parseInt(e)),-1==a.indexOf(e)&&-1==a.indexOf(""+e)}).remove(),this.nativeOptionDropdown.val(this.representationQuality),this.nativeOptionDropdown.showWithClass())),this.measureControlbarDimension()},e.observeTabIndex=function(){function t(e){if(!e.className.match(/ui-slider-handle/)){if(e.className.match(/ardplayer-preroll-skip/))return 1;for(var t=r.mainControlbar[0],i=e;null!=i&&null!=i.parentNode;){if(i===t)return 1;i=i.parentNode}}}function i(e){t(e.target)?r.tabFadePrevention=!1:a(e.target)}var r=this,a=function(e){Q(document).off(r.clickEventName,i),t(e)?(r.fadeInCtrlBar(),r.tabFadePrevention=!0,r.mainControlbar.stop().css("opacity",1).css("bottom",0),G.KeyboardPlayerController.getInstance().attachNativeListeners(),Q(document).on(r.clickEventName,i)):(r.tabFadePrevention=!1,r._fullscreenEnabled||G.KeyboardPlayerController.getInstance().removeNativeListeners(),"body"!=(e.nodeName||"").toLowerCase()&&r.fadeOutCtrlBar())};0!=r.player.model.playerConfig.getForceControlBarVisible()||document.addEventListener&&document.addEventListener("focus",function(e){if(e&&e.target)try{null==document.activeElement&&(document.activeElement=e.target==document?null:e.target)}catch(e){}G.KeyboardPlayerController.getInstance().lastPlayingPlayer===r.player&&document.activeElement.className!=Y.CLASS_VOLUME_CONTAINER&&a(document.activeElement)},!0)},e.dispose=function(){if(this.restoreDefaults(),this.mediacanvas){try{this.mediacanvas.off(this.clickEventName).off("dblclick")}catch(e){}this.mediacanvas=null}},e.destroy=function(){if(this.viewport&&this.viewport.remove(),this.mediacanvas){try{this.mediacanvas.off(this.clickEventName).off("dblclick")}catch(e){}this.mediacanvas=null}},Y.forceRemovePlayer=function(i){var r=-1;Q.each(Y.players,function(e,t){t==i&&(r=e)}),0<=r&&Y.players.splice(r,1),Y.playerIDs[i.getId()]=null,Y.playerIDs[i.getId()]=void 0,delete Y.playerIDs[i.getId()]},e.restoreDefaults=function(){var e=this.player.model.mediaCollection,t=e.getDefaultQuality();if(t instanceof Array)this.representationQualityOrder=(new Array).concat(t),this.representationQualityOrderAutofix=!1;else{switch(t){case"auto":case"0":case"1":case"2":case"3":this.representationQualityOrder=[t,"auto",0,1,2,3];break;default:this.representationQualityOrder=["auto",0,1,2,3]}this.representationQualityOrderAutofix=!0}var i=G.GlobalModel.getInstance().getLastQuality();if(!1!==i){for(var r=this.representationQualityOrder,a=0;a<r.length;a++)r[a]==i&&(r.splice(a,1),a--);r.unshift(i)}this.representationQuality=this.representationQualityOrder.shift(),this.nativeOptionDropdown&&this.nativeOptionDropdown.val(this.representationQuality),this.representationErrorTriggered=!1,this.hideBufferingIndicator(),0==this.player.model.playerConfig.getAutoPlayBoolean()?(this.showPosterFrame(),this.showPosterControl(),this.hideAudioFrame()):(this.hidePosterFrame(),this.hidePosterControl(),this.showBufferingIndicator()),this.player.dispatchCustomEvent(G.Player.VIEW_RESTORE_DEFAULTS),this.fadeOutCtrlBar(),this.forceCtrlbarVisible=!1,this.allowFadeInByMouseOver=!0,this.controlbarShowing=!1,this._dvrEnabled=!1,this._dvrIsLive=!1,this._dvrWindow=0,this._dvrEnabledAndRequested=!1,this.updateDVRSlider(e.getIsLive()?1:0,1),this.optionsControlDiv&&(this.optionsControlDiv.remove(),this.optionsControlDiv=null)},e.generateDiv=q,e.generateButton=W,e.addGeneratedElemetToList=z,e.hideAllDialogs=function(e){e&&e.target&&this.player.isFlashCtrl()&&this.mediacanvas&&e.target==this.mediacanvas[0]||(document.removeEventListener(this.clickEventName,this.hideAllDialogs),this.optionsControlDiv&&(this.optionsControlDiv.children().off(),this.optionsControlDiv.remove(),this.optionsControlDiv=null),this.setForceCtrlBarVisible(!1,!0))},e.toggleFullscreen=function(){var e,t,i;this.hideAllDialogs(),BigScreen.enabled||BigScreen.videoEnabled(this.mediacanvas[0])?(e=G.GlobalModel.getInstance(),t=function(e){this.viewport.focus(),this.fullscreen.attr("aria-pressed",!0),this.fullscreen.attr("title","Vollbildmodus aus [ESC]"),this._fullscreenEnabled=!0,this.tabFadePrevention=!1,this.fullscreen.addClass("toggle"),this.mainTimelineSlider&&this.mainTimelineSlider.refresh(),this.measureControlbarDimension(),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_FULLSCREEN_ACTIVATION),this.player.dispatchCustomEvent(G.Player.TOGGLE_FULLSCREEN,{fullscreen:!0})}.bind(this),i=function(){this.fullscreen.attr("aria-pressed",!1),this.fullscreen.attr("title","Vollbildmodus an [aus mit ESC]"),this._fullscreenEnabled=!1,this.fullscreen.removeClass("toggle"),this.mainTimelineSlider&&this.mainTimelineSlider.refresh(),this.measureControlbarDimension(),this.player.pixelController&&this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_FULLSCREEN_DEACTIVATION),this.player.dispatchCustomEvent(G.Player.TOGGLE_FULLSCREEN,{fullscreen:!1}),this.updateDVRSlider(this._lastPosition,this._lastDuration),this._mouseOverCtrlBar=!1}.bind(this),e.isIOSDevice&&(BigScreen.onchange=function(e){BigScreen.onchange=function(){},t(e)}),BigScreen.toggle((e.isMobileDevice?this.mediacanvas:this.playerDiv)[0],t,i)):("fixed"==this.playerDiv.css("position")?(this.playerDiv.removeAttr("style"),this._fullscreenEnabled=!1,this.onUserActivity(!0),this.fullscreen.removeClass("toggle"),this.mainTimelineSlider&&this.mainTimelineSlider.refresh(),this.measureControlbarDimension(),this.updateDVRSlider(this._lastPosition,this._lastDuration),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_FULLSCREEN_DEACTIVATION),this.player.dispatchCustomEvent(G.Player.TOGGLE_FULLSCREEN,{fullscreen:!1})):(this.playerDiv.css({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:"20000"}),this._fullscreenEnabled=!0,this.fullscreen.addClass("toggle"),this.mainTimelineSlider&&this.mainTimelineSlider.refresh(),this.measureControlbarDimension(),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_FULLSCREEN_ACTIVATION),this.player.dispatchCustomEvent(G.Player.TOGGLE_FULLSCREEN,{fullscreen:!0})),this.fullscreen.attr("aria-pressed",this._fullscreenEnabled)),this.fadeInCtrlBar()},e.handleLeaveFullscreenEmulation=function(){BigScreen.enabled||BigScreen.videoEnabled(this.mediacanvas[0])||this.exitFullscreen()},e.exitFullscreen=function(){this._fullscreenEnabled?(this.onUserActivity(!0),this.toggleFullscreen()):(G.GlobalModel.getInstance().isIPhoneDevice||G.GlobalModel.getInstance().isIPodDevice)&&BigScreen.exit()},e.onUserActivity=function(e){e?this.fadeInCtrlBar():this.fadeOutCtrlBar()},e.formatTimestring=function(e,t){var i,r=(e>>=0)/3600>>0,e=e%3600==0?i=0:(i=(e-3600*r)/60>>0,(e-3600*r)%60==0?0:Math.round((e-3600*r)%60));return i<10&&(i="0"+i),e<10&&(e="0"+e),0<r||t?r+":"+i+":"+e:i+":"+e},e.updateSliderBarsUI=function(e,t,i,r){var a=t/i*100;this.mainTimelineSlider&&!this.sliding&&(this.mainTimelineSlider.updateDVRSlider(t,i),this.mainTimelineSlider.setWatchedPercent(a),this.mainTimelineSlider.setBufferPercent(r))},e.measureControlbarDimension=function(){var e;this.mainControlbarBox&&(e=170,this._dvrEnabledAndRequested||this.equalizeContainer&&!this.equalizeContainer.isHiddenByClass||(e-=45),e=this.mainControlbarBox.width()-e,2<(e=Math.max((e-e%45)/45,0))&&(!this.optionsButton||this.optionsButton.isHiddenByClass())&&e++,this.mainControlbarBox.removeClassPrefix("max-buttons-").addClass("max-buttons-"+e))},e.registerMediaCanvas=function(e){e?(e.attr&&"function"==typeof e.attr||(e=Q(e)),this.mediacanvas=e,z(this,"mediacanvas",Y.CLASS_MEDIA_CANVAS,e,"",!1,!1,!1,!1,!1,!0),((e=G.GlobalModel.getInstance()).isIPhoneDevice||e.isIPodDevice)&&(this.mediacanvas.hasClass("ios-touchfix")||this.mediacanvas.addClass("ios-touchfix")),this.bindMediaCanvas()):G.ErrorController.getInstance().throwError(G.ErrorController.MC_COULD_NOT_REGISTERED,G.ErrorController.IS_CRITICAL_YES)},e.changePluginSelection=function(e,t){var i=this.player,r=i.model,a=r.playerConfig,n=r.mediaCollection;t&&a.getRememberCurrentTime()&&a.setInitialPlayhead(i.getCtrl().getCurrenttime()),"audio"==n.getType()&&this.equalizeContainer&&this.equalizeContainer.hideWithClass(),r.currentPluginID=e},e.activateFlash=function(){var e=this.player.model.playerConfig.getOnPluginChangeFunction();null!=e&&"function"==typeof e&&e(G.GlobalModel.FLASH),this.player.dispatchCustomEvent(G.Player.EVENT_PLUGIN_CHANGE,{plugin:G.GlobalModel.FLASH}),this.player.model.pluginChangeInProgress=!0,this.player.model.playerConfig.setAutoPlay(!0),this.player.setForcedPlugin(G.GlobalModel.FLASH);var t=this;setTimeout(function(){t.player._ready()},1)},e.activateHTML=function(){var e=this.player.model.playerConfig.getOnPluginChangeFunction();null!=e&&"function"==typeof e&&e(G.GlobalModel.HTML5),this.player.dispatchCustomEvent(G.Player.EVENT_PLUGIN_CHANGE,{plugin:G.GlobalModel.HTML5}),this.player.model.pluginChangeInProgress=!0,this.player.model.playerConfig.setAutoPlay(!0),this.player.setForcedPlugin(G.GlobalModel.HTML5);var t=this;setTimeout(function(){t.player._ready()},1)},e.updateProgress=function(e){this.mainTimelineSlider&&!this.sliding&&this.mainTimelineSlider.setBufferPercent(e)},e.updateTimeline=function(e,t){var i;this.mainTimelineSlider&&!this.sliding&&(i=this.player.getCtrl(),this.updateSliderBarsUI(i.getPlayheadStart(),e,t,i.getPercentBuffered()))},e.bindPlayPause=function(){var e,t;this.playPause&&(e=function(e){if(13==e.keyCode)return e.preventDefault(),t(e,!1)}.bind(this),t=function(e,t){if(!1!==t)try{this.playPause.blur()}catch(e){}return this.player.getCtrl().togglePlay(),this.player.getCtrl().isPlaying()?(this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PAUSE_BUTTON),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PAUSE)):(this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_BUTTON),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PLAY)),this.tabFadePrevention=!1}.bind(this),this.playPause.off().on("keydown",e).on(this.clickEventName,t).on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}))},e.bindMute=function(){var e,t;this.volume&&(e=function(e){if(13==e.keyCode)return e.preventDefault(),t(e,!1)}.bind(this),t=function(e,t){if(!1!==t)try{this.volume.blur()}catch(e){}t=G.GlobalModel.getInstance();return t.getMuted()?(this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_VOLUME_UNMUTE),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_VOLUME_UNMUTE)):(this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_VOLUME_MUTE),this.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_VOLUME_MUTE)),!(t.getMuted()&&t.getVolume()<.05)&&(this.player.getCtrl().toggleMuteState(),this.tabFadePrevention=!1)}.bind(this),this.volume.off("keydown").off(this.clickEventName).on("keydown",e).on(this.clickEventName,t).off("mouseover mouseout touchstart touchend").on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}))},e.bindMediaCanvas=function(){var i;this.getMediaCanvas()&&(i=this).getMediaCanvas().off(this.clickEventName).off("dblclick").off("touchmove").on("touchmove",function(e){i.clickEventIsMove=!0}).on(this.clickEventName,function(e){var t;i.optionsControlDiv||("touchend"===i.clickEventName&&i.clickEventIsMove?i.clickEventIsMove=!1:i.player.getCtrl().useBindClickOnStage()&&(t=(new Date).getTime(),r&&(clearTimeout(r),r=void 0),250<t-a?r=setTimeout(function(){G.GlobalModel.getInstance().isMobileDevice?(i.controlbarShowing&&(i.player.getCtrl().togglePlay(),!0===i.player.getCtrl().isPlaying()?(i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PAUSE_VIEWPORT),i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PAUSE)):!1===i.player.getCtrl().isPlaying()&&(!1===i.player.getCtrl().isAtEnd?(i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_VIEWPORT),i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PLAY)):i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_AGAIN_VIEWPORT))),i.fadeInCtrlBar()):(i.player.getCtrl().togglePlay(),!0===i.player.getCtrl().isPlaying()?(i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PAUSE_VIEWPORT),i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PAUSE)):!1===i.player.getCtrl().isPlaying()&&(!1===i.player.getCtrl().isAtEnd?(i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_VIEWPORT),i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PLAY)):i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_AGAIN_VIEWPORT)))},250):(i._fullscreenEnabled?i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_FULLSCREEN_DEACTIVATION_VIEWPORT):i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_FULLSCREEN_ACTIVATION_VIEWPORT),i.toggleFullscreen()),a=t))})},e.bindPosterControl=function(){var i;this.showPosterControl(),this.posterControl&&(i=this).posterControl.off("click").on("click",function(e){var t=G.GlobalModel.getInstance();(t.isIPhoneDevice||t.isIPodDevice)&&i.mediacanvas.hasClass("ios-touchfix")&&i.mediacanvas.removeClass("ios-touchfix"),i.player.getCtrl().posterframeClickHandler(),0==i.player.getCtrl().isPlaying()&&(i.player.pixelController.triggerTrackingPixelPlay(G.PlayerPixelController.INTERACTION_INITIAL_PLAY),i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_PLAY))})},e.unbindPosterControl=function(){this.posterControl&&this.posterControl.off("click")},e.bindPosterframe=function(){var i;this.showPosterFrame(),this.posterframe&&(i=this).posterframe.off("click").on("click",function(e){i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_AGAIN_VIEWPORT);var t=i.player.getCtrl();i.player.isPlaylistPlayer()&&!i.player._playlistController._hasNext()?i.player.replayPlaylist():t.posterframeClickHandler()})},e.unbindPosterframe=function(){this.posterframe&&this.posterframe.off("click")},e.hideBufferingIndicator=function(){this.buffering&&this.buffering.hideWithClass()},e.showBufferingIndicator=function(){this.buffering&&this.buffering.showWithClass()},e.hidePlayAgain=function(){this.playagain&&(this.playPause&&this.playPause.showWithClass(),this.playagain.off(this.clickEventName).hideWithClass())},e.showPlayAgain=function(){var i;this.playagain&&((i=this).playPause&&this.playPause.hideWithClass(),this.playagain.off(this.clickEventName).on(this.clickEventName,function(e){var t;i.tabFadePrevention=!1,i.player.pixelController.triggerCustomPixel(G.PlayerPixelController.IA_MOUSE_PLAY_AGAIN_BUTTON),i.player.isPlaylistPlayer()?i.player.replayPlaylist():(t=i.player.getCtrl(),i.setCtrlBarFading(!0),t.restartMedia())}).showWithClass().on("mouseover mouseout touchstart touchend",function(e){e.preventDefault(),Q(e.target).toggleClass("hover")}))},e.hidePosterControl=function(){this.posterControl&&this.posterControl.hideWithClass()},e.showPosterControl=function(){this.posterControl&&this.posterControl.showWithClass()},e.hidePosterFrame=function(){this.mainControlbar.showWithClass(),this.posterframe&&this.posterframe.hideWithClass()},e.showPosterFrame=function(){this.posterframe&&this.posterframe.showWithClass(),this.showPosterControl()},e.showEqualizerPlaying=function(){var e;this.equalizeContainer&&(this.equalizeContainer.empty(),e=this.player.model.playerConfig.getBaseUrl()+"base/img/soundaddon.gif",j(this,"equalizeimg","ardplayer-equalizeimg",e,this.equalizeContainer,null),this.equalizeContainer.showWithClass()),this.measureControlbarDimension()},e.showEqualizerStopping=function(){var e;this.equalizeContainer&&(Q(this.equalizeContainer).empty(),e=this.player.model.playerConfig.getBaseUrl()+"base/img/soundaddon_off.gif",j(this,"equalizeimg","ardplayer-equalizeimg",e,this.equalizeContainer,null),this.equalizeContainer.showWithClass()),this.measureControlbarDimension()},e.hideAudioFrame=function(){this.audioframe&&this.audioframe.hideWithClass()},e.showAudioFrame=function(){this.audioframe&&this.audioframe.showWithClass()},e.showPlayPauseState=function(e){var t=G.GlobalModel.getInstance();switch(e){case"pause":this.playPause&&this.playPause.removeClass("toggle"),"video"==this.player.model.mediaCollection.getType()&&(t.isIPhoneDevice||t.isIPodDevice)&&(this.mediacanvas.hasClass("ios-touchfix")||this.mediacanvas.addClass("ios-touchfix"),this.bindPosterframe());break;case"play":this.playPause&&this.playPause.addClass("toggle"),(t.isIPhoneDevice||t.isIPodDevice)&&this.mediacanvas.hasClass("ios-touchfix")&&this.mediacanvas.removeClass("ios-touchfix")}},e.showMutedState=function(e){this.volume&&(e?(this.volume.addClass("toggle"),this.volumeslider.addClass("toggle"),this.volume.attr({title:"Lautstrke einstellen [Pfeiltasten hoch/runter (bzw. STRG + B/V)].\nTon an [STRG + M]","aria-pressed":"true"})):(this.volume.removeClass("toggle"),this.volumeslider.removeClass("toggle"),this.volume.attr("title","Lautstrke einstellen [Pfeiltasten hoch/runter (bzw. STRG + B/V)].\nTon aus [STRG + M] ").attr("aria-pressed","false")))},e.hideIfExist=function(e){e&&e.hideWithClass()},e.removeIfExist=function(e){e&&(e.remove(),e=void 0)},e.updateTime=function(e){this._lastPosition=e;var t,i=!1,r="multiple",a="";this.updateDVRSlider(this._lastPosition,this._lastDuration),this._dvrEnabledAndRequested?(i=this._dvrIsLive?!(a="LIVE"):(t=this._lastDuration-e,a="<span>LIVE</span><span></span><span>-"+this.formatTimestring(t)+"</span>",!0),"audio"==this.player.model.mediaCollection.getType()&&this.player.model.playerConfig.getShowEqualizer()&&(this.timeContainer.hasClass(Y.CLASS_EQUALIZE_SHORT)||this.timeContainer.addClass(Y.CLASS_EQUALIZE_SHORT))):i=this.player.model.mediaCollection.getIsLive()?!(a="LIVE"):(a="<span>"+G.DateUtils.getFormatedTime(1e3*e)+"</span><span>"+G.DateUtils.getFormatedTime(1e3*this._lastDuration)+"</span>",!0),i?this.timeContainer.hasClass(r)||this.timeContainer.addClass(r):this.timeContainer.hasClass(r)&&this.timeContainer.removeClass(r),this.timeContainer&&this.timeContainer.html(a)},e.updateTotalTime=function(e){this._lastDuration=e,null==this._lastPosition&&(this._lastPosition=e)},e.fadeInCtrlBarByMouseover=function(){this.allowFadeInByMouseOver&&this.fadeInCtrlBar()},e.fadeOutComplete=function(){this.allowFadeInByMouseOver=!0,this.controlbarShowing=!1,this.player&&this.player.getCtrl()&&this.player.getCtrl().requestMouseOverEvent(),this.player.dispatchCustomEvent(G.Player.EVENT_CTRLBAR_FADEOUT_END,{controller:this,viewport:this.viewport,container:this.mainControlbar})},e.fadeInComplete=function(e){this.controlbarShowing=!0,this.player&&this.player.getCtrl()&&this.player.getCtrl().requestMouseOverEvent(),this.player.dispatchCustomEvent(G.Player.EVENT_CTRLBAR_FADEIN_END,{controller:this,viewport:this.viewport,container:this.mainControlbar})},e.fadeInOutStep=function(e){e=e.target[0].style.bottom;e=e.replace("px","");e=(e=this.mainControlbar.height()+parseInt(e)).toFixed(0);this.lastFadeInOutStep!==e&&(this.lastFadeInOutStep=e,this.player.dispatchCustomEvent(G.Player.VIEW_CTRLBAR_MOVE,{ctrlBarHeight:e}))},e.fadeInCtrlBar=function(){var e;this.mainControlbar&&!this.tabFadePrevention&&this.canFadeIn&&((e={opacity:1}).onUpdate=this.fadeInOutStep,e.onUpdateParams=["{self}",this.mainControlbar],e.onUpdateScope=this,e.onComplete=this.fadeInComplete,e.onCompleteParams=["{self}"],e.onCompleteScope=this,e.bottom="0px",this.player.dispatchCustomEvent(G.Player.EVENT_CTRLBAR_FADEIN_START,{controller:this,viewport:this.viewport,container:this.mainControlbar}),this.allowFadeInByMouseOver=!1,TweenLite.killTweensOf(this.mainControlbar),TweenLite.to(this.mainControlbar,.4,e),this.mainTimelineSlider&&this.mainTimelineSlider.showHandle(),this.mediacanvas&&this.mediacanvas.removeClass("hideCursor"),this.player.isFlashCtrl()&&this.player.getCtrl().setUserIdle(!1),this.prerollInfoBox&&this.prerollInfoBox.addClass("active"),this.prerollSkipBox&&this.prerollSkipBox.addClass("active"))},e.fadeoutPrerollInfoBanner=function(){this.prerollInfoBox&&setTimeout(function(){this.prerollInfoBox&&(this.prerollInfoBox.css("opacity",0),this.prerollInfoBox=null)}.bind(this),5e3,this.prerollInfoBox)},e.fadeOutCtrlBar=function(){var e,t;this.mainControlbar&&(this.sliding||this.forceCtrlbarVisible||this.tabFadePrevention||this._mouseOverCtrlBar&&!G.GlobalModel.getInstance().isMobileDevice||this.player&&this.player.getCtrl()&&(!this.player.getCtrl().isPlaying()||this.player.getCtrl().isAtEnd)||this.player&&this.player.model&&this.player.model.playerConfig&&this.player.model.playerConfig.getForceControlBarVisible()||this.player&&this.player.model&&this.player.model.mediaCollection&&(e={},t=0,this.player.model.mediaCollection.getIsLive()||this._dvrEnabledAndRequested||(t=8),e.bottom=-1*this.mainControlbar.outerHeight()+t+"px",this._fullscreenEnabled&&(e.bottom=-1*this.mainControlbar.outerHeight()+"px"),e.onUpdate=this.fadeInOutStep,e.onUpdateParams=["{self}",this.mainControlbar],e.onUpdateScope=this,e.onComplete=this.fadeOutComplete,e.onCompleteParams=["{self}"],(e.onCompleteScope=this).player.dispatchCustomEvent(G.Player.EVENT_CTRLBAR_FADEOUT_START,{controller:this,viewport:this.viewport,container:this.mainControlbar}),this.allowFadeInByMouseOver=!1,TweenLite.killTweensOf(this.mainControlbar),TweenLite.to(this.mainControlbar,.4,e),this._fullscreenEnabled&&(this.player.isFlashCtrl()?this.player.getCtrl().setUserIdle(!0):this.mediacanvas.addClass("hideCursor")),G.GlobalModel.getInstance().isMobileDevice&&this.mainTimelineSlider&&this.mainTimelineSlider.hideTimeHover(),this.mainTimelineSlider&&this.mainTimelineSlider.hideHandle(),this.prerollInfoBox&&this.prerollInfoBox.removeClass("active"),this.prerollSkipBox&&this.prerollSkipBox.removeClass("active")))},e.setCtrlBarFading=function(e){(this.canFadeIn=e)||this.fadeOutCtrlBar()},e.setForceCtrlBarVisible=function(e,t){this.forceCtrlbarVisible=e,!1!==t&&void 0!==t||(e?this.fadeInCtrlBar():this.fadeOutCtrlBar())},e.getMediaCanvas=function(){return this.mediacanvas},e.setQualityByQualValue=function(e){0!=this.player.model.mediaCollection.checkStreamIsAvailable(e,this.player.model.currentPluginID,this.player)&&this.setQualityIndex(e)},e.setQualityIndex=function(e){var t;e!=this.representationQuality&&(t=this.representationQuality,this.representationQuality=e,G.GlobalModel.getInstance().setLastQuality(e),this.nativeOptionDropdown&&this.nativeOptionDropdown.val(e),this.player.model.pluginChangeInProgress=!0,this.player.getCtrl().representationChanged(),this.player.model.playerConfig.getOnQualityChangeFunction()&&this.player.model.playerConfig.getOnQualityChangeFunction()(e),this.player.dispatchCustomEvent(G.Player.EVENT_QUALITY_CHANGE,{fromQuality:t,toQuality:e}))},e.setRepresentationsClasses=function(e){var t;e=(e||"m").toLowerCase(),this.representationClass!=e&&(this.representationClass=e,t=this.player.model.mediaCollection,this.playerDiv.removeClass().addClass("ardplayer").addClass("ardplayer-"+t.getType()).addClass("ardplayer-"+e),this.posterImgResponsive&&this.posterImgResponsive.switchRepresentation(e),this.audioImgResponsive&&this.audioImgResponsive.switchRepresentation(e),this.measureControlbarDimension())},e.getStateSuffix=function(){return this.player.model.mediaCollection.getIsLive()&&!this.player.model.mediaCollection.getDVREnabled()?"live":"vod"},e.setVolumeSliderCssValue=function(e){if(!(e<0)){1<e&&(e/=100);try{this.volumeslider.children().first().css("height",100*(1-e)+"%")}catch(e){}}},e.updateDVRSlider=function(e,t){this.mainTimelineSlider&&this.mainTimelineSlider.updateDVRSlider(e,t)},e.onDVRCallback=function(e,t,i){var r,a=this._dvrIsLive;this._dvrEnabled=e,this._dvrIsLive=i,this._dvrWindow=t,this._dvrEnabledAndRequested=e&&this.player.model.mediaCollection.getDVREnabled(),this.measureControlbarDimension(),this._dvrEnabledAndRequested?(r=this,clearTimeout(this._dvrDelayedCallTrigger),a!=i&&!i&&this.player.getCtrl().isPlaying()&&(this._dvrDelayedCallTrigger=setTimeout(function(){r.player.getCtrl().__seeking||r.player.pixelController.triggerCustomPixel(G.PlayerPixelController.SUPER_DVR_ACTIVE,!1)},500)),this.mainTimelineSlider&&this.mainTimelineSlider.show(),this.mainControlbar.removeClass("live").addClass("vod"),i?this.dvrBacktoLiveButton.hideWithClass():this.dvrBacktoLiveButton.showWithClass(),this.updateTime(this._lastPosition)):(this.player.model.mediaCollection.getIsLive()&&this.mainTimelineSlider&&(this.mainTimelineSlider.hide(),this.mainControlbar.removeClass("vod").addClass("live")),this.dvrBacktoLiveButton&&this.dvrBacktoLiveButton.hideWithClass())},Y.CLASS_ERR_MSG_VIEW="error",e.writeNotification=function(e,t){this.isErrorState||(this.playerDiv.empty(),this.isErrorState=!0),this.errorDiv||(this.errorDiv=q(Y.CLASS_ERR_MSG_VIEW,this.playerDiv)),this.errorDiv.empty(),Q("<h2>").html(G.ErrorController.ERROR_TITLE).appendTo(this.errorDiv);var i="base/img/error.png";this.player&&this.player.model&&this.player.model.playerConfig&&(i=this.player.model.playerConfig.getBaseUrl()+"base/img/error.png"),Q("<div>").addClass("error-img").append(Q("<img>").attr("src",i).attr("alt","Streamfehler")).appendTo(this.errorDiv),Q("<p>").html(e).appendTo(this.errorDiv);var i=this.player.model.mediaCollection,e=i._fullFlatMediaArrayBackup,r="",a=0,n=e[G.GlobalModel.HTML5];if(n=n||e[G.GlobalModel.FLASH]){for(var l=i.getDefaultQuality(),o=0;o<=l.length;o++){var s=l[o];if(n[s]){var h=n[s];n[s]=null,""!=r&&(r+=" ");var u="";h.getServer()&&(u+=h.getServer());s=h.getStream();if("string"==typeof s?u+=s:s.hasOwnProperty("length")&&0<s.length&&(u=s[0]),r+='<a class="ardplayer-error-button" href="'+u+'" target="_blank">'+h.getLabel()+"</a>",3==++a)break}}""!=r&&Q('<p class="ardplayer-q-select">').html("Qualittsauswahl fr externen Player:<br/>"+r).appendTo(this.errorDiv)}if(!Q.isBlank(G.ErrorController.ERROR_FOOTER_LINK))try{Q(G.ErrorController.ERROR_FOOTER_LINK).appendTo(this.errorDiv)}catch(e){d.log(e)}},e.writeNotificationInstallFlash=function(){var e='Um den Clip abspielen zu k&ouml;nnen, ben&ouml;tigen Sie das Flash-Plug-in ab Version 10.2. Dieses k&ouml;nnen Sie <a href="http://get.adobe.com/de/flashplayer/" onclick="window.open(this.href); return false;">hier</a> kostenlos herunterladen.',t=navigator.userAgent,i=G.Player.pluginDetectionRules;if(i){for(var r,a,n,l=0;l<i.cases.length;l++){r=i.cases[l];for(var o=0;o<r.tests.length;o++)if(a=r.tests[o],t.match(new RegExp(a))){n=r.message;break}if(n)break}e=n||i.defaultMessage}this.writeNotification(e,"plugin"),this.player&&this.player.dispatchCustomEvent(G.Player.EVENT_ERROR,{isCritical:!0,message:e})},e.writeNotificationInstallHTML5=function(){this.writeNotification("Es ist notwendig, dass Ihr Browser den HTML5-Player unterst&uuml;tzt,<br>um den Clip abspielen zu k&ouml;nnen.","plugin")},Y.CLASS_VIEWPORT="ardplayer-viewport",Y.CLASS_POSTERFRAME="ardplayer-posterframe",Y.CLASS_POSTERFRAME_TARGET_CLASS="posterframe",Y.CLASS_POSTER_CONTROL="ardplayer-postercontrol",Y.CLASS_BUFFERING_INDICATOR="ardplayer-buffering",Y.CLASS_PLAY_AGAIN="ardplayer-btn-playagain",Y.CLASS_AUDIO_FRAME="ardplayer-audioframe",Y.CLASS_AUDIO_FRAME_IMAGE="ardplayer-audioimage",Y.CLASS_MEDIA_CANVAS="ardplayer-mediacanvas",Y.CLASS_MAINCONTROLBAR="ardplayer-controlbar",Y.CLASS_MAINCONTROLBAR_BOX="ardplayer-controlbar-controls",Y.CLASS_PREROLL_INFO="ardplayer-preroll-info",Y.CLASS_PREROLL_SKIP="ardplayer-preroll-skip",Y.CLASS_MAINCONTROLS="ardplayer-transportbox",Y.CLASS_TIME_CONTAINER="ardplayer-time",Y.CLASS_VERSIONLABEL="ardplayer-versionlabel",Y.CLASS_PLAY_PAUSE="ardplayer-btn-playpause",Y.CLASS_OPTIONS_DIALOG="ardplayer-optioncontrols",Y.CLASS_VOLUME_CONTAINER="ardplayer-sound-container",Y.CLASS_VOLUME="ardplayer-btn-sound",Y.CLASS_VOLUME_SLIDER="ardplayer-sound-slider",Y.CLASS_SETTINGS="ardplayer-btn-videosettings",Y.CLASS_FULLSCREEN="ardplayer-btn-fullscreen",Y.CLASS_TIME_CONTROLS="ardplayer-controlbar-slider",Y.CLASS_DVR="ardplayer-btn-dvr",Y.CLASS_OPTIONS="ardplayer-btn-settings",Y.CLASS_EQUALIZE="ardplayer-equalize",Y.CLASS_EQUALIZE_SHORT="equalize",Y.CLASS_TRANSPORTBOX="ardplayer-transportbox",Y.CLASS_PLAYER_FUNKTION_BOX="ardplayer-player-funktion",G.ViewController=Y}(ardplayer,ardplayer.jq,ardplayer.console),function(e,a){function t(e,t,i,r){this.imageMap=e,this.imageDomObject=t,this.errorCallback=r,this.targetMap={},i&&this.switchRepresentation(i)}var n=["xs","s","m","l","xl"];t.prototype={imageMap:void 0,targetMap:void 0,imageDomObject:void 0,currentRepresentation:void 0,targetRepresentation:void 0,errorCallback:void 0,switchRepresentation:function(e){var t;null===e&&this.errorCallback&&this.errorCallback(),this.currentRepresentation!=e&&(this.targetRepresentation=e,this.hasImage(e)?this.getImage(e)&&this.showImage(e):(t=this.getExistingBigger(e))?this.switchRepresentation(t):this.errorOrNotExisting(e)?this.switchRepresentation(this.getNearest(e)):this.preloadImage(e))},hasImage:function(e){e=this.targetMap[e];return e&&!e.error},getImage:function(e){e=this.targetMap[e];return e&&e.loaded&&!e.error?e.image:null},getExistingBigger:function(e){var t,i,r=this.getKeyIndex(e);if(-1==r)throw new Error("Unknown image size: "+e);for(;r<n.length;)if(t=n[++r],(i=this.targetMap[t])&&!i.error)return t;return null},errorOrNotExisting:function(e){var t=this.targetMap[e];return!(!t||!t.error)||!this.imageMap[e]},getNearest:function(e){var t=this.getKeyIndex(e);if(-1==t)throw new Error("Unknown image size: "+e);for(var i,r,a=t;0<=a;)if(i=n[--a],r=this.imageMap[i],r&&(!(r=this.targetMap[i])||!1===r.error))return i;for(a=t;a<n.length;)if(i=n[++a],r=this.imageMap[i],r&&(!(r=this.targetMap[i])||!1===r.error))return i;return null},preloadImage:function(e){var t=this,i=a.createElement("img"),r=this.targetMap[e]={image:i,loaded:!1,error:!1};i.onload=function(){i.onload=null,i.onerror=null,r.loaded=!0,t.showImage(e)},i.onerror=function(){i.onload=null,i.onerror=null,r.error=!0,t.targetRepresentation==e&&t.switchRepresentation(t.getNearest(e))},i.src=this.imageMap[e]},showImage:function(e){var t;this.targetRepresentation==e&&this.currentRepresentation!=e&&(t=this.getImage(e),this.imageDomObject.src=t.src,this.currentRepresentation=e)},getKeyIndex:function(e){for(var t=n.length,i=0;i<t;++i)if(n[i]==e)return i;return-1},dispose:function(){for(var e in this.targetMap)this.targetMap[e].onload=null,this.targetMap[e].onerror=null,delete this.targetMap[e]}},e.ResponsiveImage=t}(ardplayer,document),function(r,n){function e(e,t){this.viewController=e,this.mainContainer=t,this.mainContainer&&(this.createChildren(),this.addListener())}e.prototype={viewController:void 0,mainContainer:void 0,watchedDom:void 0,bufferDom:void 0,handleDom:void 0,handleDraggable:void 0,timeHoverArrowDom:void 0,timeHoverContainerDom:void 0,timeHoverTextDom:void 0,createChildren:function(){this.mainContainer.empty(),this.bufferDom=n('<div class="ardplayer-controlbar-slider-bg-buffer"></div>').appendTo(this.mainContainer),this.watchedDom=n('<div class="ardplayer-controlbar-slider-bg-watched"></div>').appendTo(this.mainContainer).css("left","0%").attr("role","slider"),this.timeHoverArrowDom=n('<div class="ardplayer-controlbar-slider-mouseover" style="display:none"></div>').appendTo(this.mainContainer),this.timeHoverContainerDom=n('<div class="ardplayer-controlbar-slider-mouseover-time" style="display: none"></div>').appendTo(this.mainContainer),this.timeHoverTextDom=n('<span aria-live="off" id="timeSpan">0:00:00</span>').appendTo(this.timeHoverContainerDom),this._timeHoverShowing=!1;var e={"aria-live":"off",role:"button",title:this.viewController._dvrEnabledAndRequested?"Sprung zur aktuellen Stelle des Timeshift-Livestreams [(Strg +) K]":"Vorspulen [Pfeil rechts (bzw. STRG + Punkt)] und zurckspulen [Pfeil links (bzw. STRG + Komma)]"};this.handleDom=n('<div class="ardplayer-controlbar-slider-handle">').attr(e).appendTo(this.mainContainer).on("touchmove",function(){return!1}),this.isDragAction=!1;var t=r.GlobalModel.getInstance(),i=this;this.handleDraggable=Draggable.create(this.handleDom,{bounds:this.mainContainer,type:"x",throwProps:!0,onDragStart:function(e){i.handleDom.hasClass("no-delay")||i.handleDom.addClass("no-delay"),i.viewController.fadeInCtrlBar(),i.viewController.sliding=!0,i.viewController.tabFadePrevention=!0,i.viewController.onUserActivity(!0),t.isMobileDevice&&i.showTimeHover()},onDrag:function(){i.isDragAction=!0,t.isMobileDevice&&(e=i.handleDom.width(),e=n(this.target).offset().left-i.mainContainer.offset().left+e/2,i.__layoutTimeHover(e));var e=(this.x+this.minX)/(this.maxX+this.minX)*100;i.setWatchedPercent(e),i.setBufferPercent(0)},onDragEnd:function(){t.isMobileDevice&&i.hideTimeHover(),i.viewController.sliding=!1,i.viewController.tabFadePrevention=!1,i.viewController.onUserActivity(!1),i.handleDom.hasClass("no-delay")&&i.handleDom.removeClass("no-delay");var e=(this.x+this.minX)/(this.maxX+this.minX);i.postChangeEvent(100*e)}}),this.setWatchedPercent(0),this.setBufferPercent(0)},postChangeEvent:function(e){clearTimeout(this._postDelayedTimeout),this._postDelayedTimeout=setTimeout(function(){n(this).trigger(n.extend(n.Event("change"),{value:e}))}.bind(this),100)},setWatchedPercent:function(e){this._lastWatchedPercent=e;var t=this._active?this.handleDom.width():0,i=this.mainContainer.width();e=((i-t)*e/100+t/2)/i*100,this.watchedDom.css("width",e+"%")},setBufferPercent:function(e){e=(this._lastBufferValue=e)+(this._active?this.handleDom.width():0)/2/this.mainContainer.width()*100;this.bufferDom.css("width",e+"%")},addListener:function(){this.mainContainer&&(n(this.mainContainer).off().on(this.viewController.moveEventName,this.onMouseMove.bind(this)).on(this.viewController.downEventName,this.onMouseDown.bind(this)).on(this.viewController.clickEventName,this.onMouseUp.bind(this)),r.GlobalModel.getInstance().isMobileDevice||n(this.mainContainer).mouseenter(this.onMouseEnter.bind(this)).mouseleave(this.onMouseLeave.bind(this)))},onMouseDown:function(e){this.viewController.sliding=!0},onMouseUp:function(e){"touchend"==e.type&&this.hideTimeHover(),this.viewController.sliding=!1,this.viewController.tabFadePrevention=!1;var t,i,r=0;r=e&&!this.isDragAction?(t=0,this.handleDom&&(t=this.handleDom.width()),(i=n.crossbrowserPosition(e,this.mainContainer[0]).left)<t/2?i=t/2:i>this.mainContainer.width()-t/2&&(i=this.mainContainer.width()-t/2),Math.max(Math.min((i-t/2)/(this.mainContainer.width()-t)*100,100),0)):(i=this.handleDraggable[0].x,t=this.handleDraggable[0].maxX,(i+(i=this.handleDraggable[0].minX))/(t+i)*100),this.isDragAction=!1,this.postChangeEvent(r)},onMouseEnter:function(e){if(this.viewController.optionsControlDiv){var t=n.crossbrowserPosition(e,this.mainContainer[0]).left,i=this.viewController.optionsControlDiv,e=i.position().left,i=e+i.width();if(e<=t&&t<=i)return}this.showTimeHover()},onMouseLeave:function(e){this.hideTimeHover()},onMouseMove:function(e){var t=this.viewController,i=0;this.handleDom&&(i=this.handleDom.width());var r=n.crossbrowserPosition(e,this.mainContainer[0]).left;if(t.optionsControlDiv){var a=t.optionsControlDiv,t=a.position().left,a=t+a.outerWidth();if(t<=r&&r<=a)return void this.hideTimeHover();this.showTimeHover()}else{if(e.pageY-this.mainContainer.offset().top<0)return void this.hideTimeHover();this.showTimeHover()}r<i/2?r=i/2:r>this.mainContainer.width()-i/2&&(r=this.mainContainer.width()-i/2),this.__layoutTimeHover(r)},__layoutTimeHover:function(e){var t=this.handleDom.width(),i=this.viewController,r=this.timeHoverArrowDom;r.css("left",e-r.width()/2+"px");var a=this.timeHoverContainerDom,n=e-(a.width()+8)/2,r=0+this.mainContainer.width()-(a.width()+8);a.css("left",Math.max(0,Math.min(r,n))+"px");n=Math.max(Math.min((e-t/2)/(this.mainContainer.width()-t)*100,100),0),e=0;i.player&&i.player.getCtrl()&&(e=i.player.getCtrl().getDuration());t=0;i._dvrEnabledAndRequested?(t=e-e*n/100,this.timeHoverTextDom.html("-"+i.formatTimestring(t))):(t=e*n/100,this.timeHoverTextDom.html(i.formatTimestring(t,!0)))},showTimeHover:function(){this._timeHoverShowing||(this._timeHoverShowing=!0,TweenLite.killTweensOf(this.timeHoverArrowDom),TweenLite.killTweensOf(this.timeHoverContainerDom),this.timeHoverArrowDom.css("opacity",0).css("display","inline-block"),this.timeHoverContainerDom.css("opacity",0).css("display","inline-block"),TweenLite.to(this.timeHoverArrowDom,.6,{opacity:1}),TweenLite.to(this.timeHoverContainerDom,.6,{opacity:1}))},hideTimeHover:function(){this._timeHoverShowing&&(this._timeHoverShowing=!1,TweenLite.to(this.timeHoverArrowDom,.6,{opacity:0}),TweenLite.to(this.timeHoverContainerDom,.6,{opacity:0,onComplete:function(){this.timeHoverArrowDom.css("display","none"),this.timeHoverContainerDom.css("display","none")}.bind(this)}))},updateDVRSlider:function(e,t){var i;this._lastTime=e,this._lastDuration=t,this.handleDom&&(this.handleDom.removeClass("dvr-left").removeClass("dvr-middle").removeClass("dvr-right"),i="",i=0==e?"dvr-right":t<=e?"dvr-left":"dvr-middle",this.handleDom.addClass(i),this.viewController.sliding||(t=(this.mainContainer.width()-40)*(e/t),!isNaN(t)&&isFinite(t)&&TweenLite.set(this.handleDraggable[0].target,{x:t})))},refresh:function(){setTimeout(function(){null!=this._lastWatchedPercent&&this.setWatchedPercent(this._lastWatchedPercent),null!=this._lastBufferValue&&this.setBufferPercent(this._lastBufferValue),null!=this._lastTime&&null!=this._lastDuration&&this.updateDVRSlider(this._lastTime,this._lastDuration)}.bind(this),1)},showHandle:function(){this._setActive(!0)},hideHandle:function(){this._setActive(!1)},dispose:function(){},hide:function(){this.mainContainer.hide()},show:function(){this.mainContainer.show()},_setActive:function(e){this._active=e,this.mainContainer&&(e?(this.mainContainer.hasClass("active")||this.mainContainer.addClass("active"),this.handleDom.hasClass("active")||this.handleDom.addClass("active"),this.bufferDom.hasClass("active")||this.bufferDom.addClass("active"),this.watchedDom.hasClass("active")||this.watchedDom.addClass("active")):(this.setWatchedPercent(this._lastWatchedPercent),this.setBufferPercent(this._lastBufferValue),this.mainContainer.hasClass("active")&&this.mainContainer.removeClass("active"),this.handleDom.hasClass("active")&&this.handleDom.removeClass("active"),this.bufferDom.removeClass("active")||this.bufferDom.removeClass("active"),this.watchedDom.removeClass("active")||this.watchedDom.removeClass("active")))}},r.TimelineSlider=e}(ardplayer,ardplayer.jq,ardplayer.console),function(h,u,d){"use strict";var a=function(e){null==a.playerIDs&&(a.playerIDs={}),null==a.players&&(a.players=[]);var t=void 0;if(e&&e instanceof h.Player&&(t=e.getId()),a.playerIDs[t])return a.playerIDs[t];a.playerIDs[t]=this,a.players.push(e),this.playerID=t,e&&(this.player=e),this._finalErrorState=!1,this.initialize()};a.resetSingleton=function(){a.playerIDs=void 0,a.players=void 0},a.getInstance=function(e){return new a(e)},a.getInstanceByPlayerID=function(e){return a.playerIDs[e]},a.forceRemovePlayer=function(i){var r=-1;u.each(a.players,function(e,t){t==i&&(r=e)}),0<=r&&a.players.splice(r,1),a.playerIDs[i.getId()]=null,a.playerIDs[i.getId()]=void 0,delete a.playerIDs[i.getId()]};var e=a.prototype;e.initialize=function(){var e;a.loadedErrorMessages||(e="",this.player&&this.player.model&&this.player.model.playerConfig?""==(e=this.player.model.playerConfig.getErrorMessagesConfig())&&(e=this.player.model.playerConfig.getBaseUrl()+"base/conf/ErrorMessages.json"):e="base/conf/ErrorMessages.json",u.ajax({type:"GET",async:!1,url:e,dataType:"json",beforeSend:function(e){e.overrideMimeType&&e.overrideMimeType("application/json")},encoding:"UTF-8",success:this.loadErrorMessagesSuccess}))},e.loadErrorMessagesSuccess=function(e){for(var t in e){var i,r;0==t.toLowerCase().indexOf("addon")?(i=t.substr(0,t.indexOf("_")),r=t.substr(t.indexOf("_")+1),h[i]&&(h[i][r]=e[t])):a[t]=e[t]}a.loadedErrorMessages=!0,e=null},e.throwStreamError=function(e,t){var i="";if(u.each(arguments,function(e,t){2<=e&&(i+="\n"+t.toString()+"\n")}),t=!0===t,this.player){var r,a=this.player.viewCtrl,n=this.player.model,l=n.mediaCollection,o=h.GlobalModel.getInstance();if(!t)try{var s=l.getMediaArray()[n.currentPluginID]._mediaStreamArray[a.representationQuality];this.player.pixelController.triggerCustomPixel(h.PlayerPixelController.STREAM_ERROR,!1,{message:i,stream:s._server+s._stream,quality:a.representationQuality,plugin:n.currentPluginID})}catch(e){d.info(e)}d.log("[ARD Player] stream error: "+n.currentPluginID+":"+a.representationQuality),l.removeStreamQuality(n.currentPluginID,a.representationQuality),0<a.representationQualityOrder.length?(a.representationQuality=a.representationQualityOrder.shift(),a.representationErrorTriggered=!0,a.updateOptionButtonVisibility(),d.log("[ARD Player] => stream switch: "+n.currentPluginID+":"+a.representationQuality),r=this,setTimeout(function(){r.player&&r.player.getCtrl()&&(r.player.getCtrl().loadStream(),r.player.getCtrl().play())},1)):((t=l.getMediaArray())[n.currentPluginID]=!1,a.updateOptionButtonVisibility(),0!=t[h.GlobalModel.FLASH]&&o.isFlashSupported&&0<l.getNumAvailableQualities(h.GlobalModel.FLASH)?(d.log("[ARD Player] => plugin switch: "+h.GlobalModel.FLASH),a.activateFlash()):0!=t[h.GlobalModel.HTML5]&&o.isHTML5Supported&&0<l.getNumAvailableQualities(h.GlobalModel.HTML5)?(d.log("[ARD Player] => plugin switch: "+h.GlobalModel.HTML5),a.activateHTML()):(this.player.pixelController.triggerCustomPixel(h.PlayerPixelController.CLIP_ERROR,!0,{message:i}),null==l._alternativeMediaArray?(d.log("[ARD Player] => exit"),this.throwError(e,!0)):(d.log("[ARD PLAYER] => We are on an alternating media collection, switch to main."),l.setUseAlternativeMediaArrayType(!1),a.restoreDefaults(),a.updateOptionButtonVisibility(),r=this,setTimeout(function(){r.player&&r.player.getCtrl()&&r.player.getCtrl().representationChanged()},1))))}else this.throwError(e,!0)},e.throwError=function(e,t){var i="";if(u.each(arguments,function(e,t){1!=e&&(i+="\n"+t.toString()+"\n")}),this.player&&this.player.model&&(this.player.model.playerConfig&&this.player.model.playerConfig.getOnErrorCallbackFunction()&&this.player.model.playerConfig.getOnErrorCallbackFunction()(t,i),this.player.model.mediaCollection&&this.player.model.mediaCollection.getGeoBlocked()&&e==a.ERROR_PLAYBACK&&(i=a.ERROR_PLAYBACK_GEOBLOCK)),t){if(this.player&&this.player.viewCtrl&&this.player.viewCtrl.destroy(),this._finalErrorState)return;if(this._finalErrorState=!0,this.player)if(this.player.viewCtrl)this.player.viewCtrl.writeNotification(i);else{var r=u("<div></div>").appendTo(u("#"+this.player._id)).addClass(h.ViewController.CLASS_ERR_MSG_VIEW);u("<h2>").html(h.ErrorController.ERROR_TITLE).appendTo(r);e="base/img/error.png";if(this.player&&this.player.model&&this.player.model.playerConfig&&(e=this.player.model.playerConfig.getBaseUrl()+"base/img/error.png"),u("<div>").addClass("error-img").append(u("<img>").attr("src",e).attr("alt","Streamfehler")).appendTo(r),u("<p>").html(i).appendTo(r),!u.isBlank(a.ERROR_FOOTER_LINK))try{u(a.ERROR_FOOTER_LINK).appendTo(r)}catch(e){}}}this.player&&this.player.dispatchCustomEvent(h.Player.EVENT_ERROR,{isCritical:t,message:i})},e.dispose=function(){a.playerIDs[this.playerID]=void 0},a.NO_PLAYER_DEFINED="Es wurde kein Player definiert.",a.MC_JSON_FILE_NOT_FOUND="Es wurde keine MediaCollection-Json-Datei gefunden.",a.MC_JSON_FILE_WRONG_URI="Die URI f&uuml;r die MediaCollection-Json-Datei ist falsch.",a.MC_UNKNOWN="Dieser Clip kann auf Ihrem Betriebssystem nicht abgespielt werden.",a.MC_NO_DEFAULT_QUALITY="Die MediaCollection ist fehlerhaft konfiguriert (Standard-Qualit&auml;t nicht hinterlegt).",a.MC_COULD_NOT_REGISTERED="Die MediaCollection konnte nicht registriert werden, da sie unbekannt ist.",a.PC_JSON_FILE_NOT_FOUND="Es wurde keine PlayerConfiguration-Json-Datei gefunden.",a.PLAYLIST_JSON_FILE_NOT_FOUND="Es wurde keine Playlist-Json-Datei gefunden.",a.PC_JSON_FILE_WRONG_URI="Die URI f&uuml;r die PlayerConfiguration-Json-Datei ist falsch.",a.PC_UNKNOWN="Die PlayerConfiguration ist unbekannt.",a.PC_COULD_NOT_REGISTERED="Die PlayerConfiguration konnte nicht registriert werden, da sie unbekannt ist.",a.MEDIA_CANVAS_IS_UNKOWN="Das MediaCanvas-Objekt ist unbekannt.",a.MEDIA_CANVAS_NOT_REGISTERED="Das MediaCanvas-Objekt konnte nicht registriert werden, da es unbekannt ist.",a.ERROR_DURING_EMBED_FLASH="Fehler beim Einbetten des Flashfilms.",a.ERROR_FLASH_RSL="Fehler beim Laden des Players: Bitte leeren Sie Ihren Browsercache und laden Sie die Seite neu.",a.ERROR_FLASH_PLUGINS="Es konnten nicht alle Player-Komponenten geladen werden (32). Bitte leeren Sie den Browser-Cache und laden Sie die Seite neu. Weitere Informationen finden Sie in unserer Hilfe.",a.UNKOWN_TYPE_FOR_HTML="Unbekannter Typ fr die Generierung des HTML-Players.",a.NO_REQUIRED_PLUGINS_INSTALLED="Ihr System verf&uuml;gt nicht ber die ben&ouml;tigten Plug-ins",a.PLAYER_CTRL_GENERATION_WAS_NOT_SUCCESSFUL="Player Control Generierung ist fehlgeschlagen.",a.MEDIACANVAS_COULD_NOT_GENERATED="MediaCanvas konnte nicht generiert werden.",a.NO_PLUGIN_SUPPORTED="Keine Plug-ins werden unterst&uuml;tzt.",a.PLUGIN_ID_UNKNOWN="Unbekannte Plug-in-ID.",a.PLUGIN_ID_UNSUPPORTED="Die Plug-in-ID wird nicht unterst&uuml;tzt.",a.IDENTIFIER_IS_UNDEFINED="Identifier ist undefined.",a.ILLEGAL_ARGUMENTS="Eines der Argumente ist fehlerhaft.",a.OVERRIDING_TEMPLATE_METHOD="Dies ist eine Template Methode und muss &uuml;berschrieben werden.",a.IS_CRITICAL_NO=!1,a.IS_CRITICAL_YES=!0,a.REPRESENTATION_WIDTH_DETECTION_FAILED="Ein Fehler bei der Ermittlung der Breite f&uuml;r die Repr&auml;sentation ist aufgetreten.",a.REPRESENTATION_HEIGHT_DETECTION_FAILED="Ein Fehler bei der Ermittlung der H&ouml;he f&uuml;r die Repr&auml;sentation ist aufgetreten.",a.VIDEO_WIDTH_DETECTION_FAILED="Ein Fehler bei der Ermittlung der Breite f&uuml;r das Video ist aufgetreten.",a.VIDEO_HEIGHT_DETECTION_FAILED="Ein Fehler bei der Ermittlung der H&ouml;he f&uuml;r das Video ist aufgetreten.",a.MISCONF_MEDIA_COLL="Das Audio/Video ist leider nicht abspielbar (mc).",a.NO_CTRL_DEFINED="Es konnte kein Controller initialisiert werden.",a.IMG_SRC_IS_WRONG="Bild kann nicht geladen werden.",a.ERROR_TITLE="Da ging leider was schief ...",a.ERROR_PLAYBACK="Bei der Wiedergabe ist ein Fehler aufgetreten. Alternativ knnen Sie einen externen Player nutzen.",a.ERROR_PLAYBACK_GEOBLOCK="Bei der Wiedergabe ist ein Fehler aufgetreten. Alternativ knnen Sie einen externen Player nutzen. Wichtig: Inhalte mit Geoblocking knnen nur von Deutschland aus abgerufen werden.",a.ERROR_FOOTER_LINK="",h.ErrorController=a}(ardplayer,ardplayer.jq,ardplayer.console),function(ns,$,console){var PlayerPixelController=function(e){this.player=e,this.loadedJSONConfiguration=!1,this.initialize()},p=PlayerPixelController.prototype;p.initialize=function(){this.playButtonClickedCounter=0,this.previousCalledPixel="",this.pixelMapping={},this._isInitialPlay=!0,this._isReplay=!1,this._isQualityChanged=!1,this._isPluginChanged=!1},p.loadPixelConfigSuccess=function(data){try{var tmpFnc,curKey;for(curKey in this.pixelMapping=eval(data),this.pixelMapping)tmpFnc=this.pixelMapping[curKey],this.pixelMapping[curKey]=void 0,delete this.pixelMapping[curKey],this.pixelMapping[curKey.toLowerCase()]=tmpFnc,tmpFnc=null}catch(error){}this.loadedJSONConfiguration=!0,data=null},p.triggerEvent=function(e,t,i){(i=i||{}).type=t;var r=$.extend($.Event(t),i);$(e.player).trigger(r);try{var a=this.pixelMapping[t.toLowerCase()];a&&a(i)}catch(e){}},p.loadStream=function(e){var t=this._isQualityChanged,i=this._isPluginChanged;this.triggerEvent(this,PlayerPixelController.STREAM_LOAD,{streamurl:e,isQualityChanged:t,isPluginChanged:i}),this._isQualityChanged=!1,this._isPluginChanged=!1},p.initialPlayTrigger=function(){this._isInitialPlay&&(this._isInitialPlay=!1,this.triggerCustomPixel(PlayerPixelController.SUPER_INITIAL_PLAY))},p.triggerQualityChanged=function(e){this._isQualityChanged=!0,this.triggerCustomPixel(e),this.triggerCustomPixel(PlayerPixelController.SUPER_QUALITY_CHANGE)},p.triggerPluginChanged=function(e){this._isPluginChanged=!0,this.triggerCustomPixel(e),this.triggerCustomPixel(PlayerPixelController.SUPER_PLUGIN_CHANGE)},p.triggerTrackingPixelPlay=function(e){0==this.playButtonClickedCounter&&(this.triggerEvent(this,e),this.playButtonClickedCounter++)},p.dispose=function(){},p.triggerCustomPixel=function(e,t,i){!0===t&&e===this.previousCalledPixel||(this.triggerEvent(this,e,i),this.previousCalledPixel=e)},PlayerPixelController.IA_MOUSE_SUBTITLE_ACTIVATION="ia_mouse_subtitle_activation",PlayerPixelController.IA_MOUSE_SUBTITLE_DEACTIVATION="ia_mouse_subtitle_deactivation",PlayerPixelController.IA_MOUSE_VOLUME_MUTE="ia_mouse_volume_mute",PlayerPixelController.IA_MOUSE_VOLUME_UNMUTE="ia_mouse_volume_unmute",PlayerPixelController.IA_MOUSE_VOLUME_CHANGE="ia_mouse_volume_change",PlayerPixelController.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_mouse_scrubbar_change_position_forward",PlayerPixelController.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND="ia_mouse_scrubbar_change_position_rewind",PlayerPixelController.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_mouse_scrubbar_change_position_rewind_timeshift",PlayerPixelController.IA_MOUSE_VIEW_COLOR_SETTINGS="ia_mouse_view_color_settings",PlayerPixelController.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON="ia_mouse_fullscreen_activation_button",PlayerPixelController.IA_MOUSE_FULLSCREEN_ACTIVATION_VIEWPORT="ia_mouse_fullscreen_activation_viewport",PlayerPixelController.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON="ia_mouse_fullscreen_deactivation_button",PlayerPixelController.IA_MOUSE_FULLSCREEN_DEACTIVATION_VIEWPORT="ia_mouse_fullscreen_deactivation_viewport",PlayerPixelController.IA_MOUSE_PLAY_BUTTON="ia_mouse_play_button",PlayerPixelController.IA_MOUSE_PLAY_VIEWPORT="ia_mouse_play_viewport",PlayerPixelController.IA_MOUSE_PAUSE_BUTTON="ia_mouse_pause_button",PlayerPixelController.IA_MOUSE_PAUSE_VIEWPORT="ia_mouse_pause_viewport",PlayerPixelController.IA_MOUSE_PLAY_AGAIN_BUTTON="ia_mouse_play_again_button",PlayerPixelController.IA_MOUSE_PLAY_AGAIN_VIEWPORT="ia_mouse_play_again_viewport",PlayerPixelController.IA_MOUSE_PLUGIN_CHANGE="ia_mouse_plugin_change",PlayerPixelController.IA_MOUSE_PODCAST="ia_mouse_podcast",PlayerPixelController.IA_MOUSE_DOWNLOAD="ia_mouse_download",PlayerPixelController.IA_MOUSE_BACK_TO_LIVE="ia_mouse_back_to_live",PlayerPixelController.IA_MOUSE_QUALITY_CHANGE="ia_mouse_quality_change",PlayerPixelController.IA_MOUSE_SKIP_PREROLL="ia_mouse_skip_preroll",PlayerPixelController.IA_KEY_SUBTITLE_ACTIVATION="ia_key_subtitle_activation",PlayerPixelController.IA_KEY_SUBTITLE_DEACTIVATION="ia_key_subtitle_deactivation",PlayerPixelController.IA_KEY_VOLUME_MUTE="ia_key_volume_mute",PlayerPixelController.IA_KEY_VOLUME_UNMUTE="ia_key_volume_unmute",PlayerPixelController.IA_KEY_VOLUME_CHANGE="ia_key_volume_change",PlayerPixelController.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_key_scrubbar_change_position_forward",PlayerPixelController.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND="ia_key_scrubbar_change_position_rewind",PlayerPixelController.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_key_scrubbar_change_position_rewind_timeshift",PlayerPixelController.IA_KEY_PLAY="ia_key_play",PlayerPixelController.IA_KEY_PAUSE="ia_key_pause",PlayerPixelController.IA_KEY_PLAY_AGAIN="ia_key_play_again",PlayerPixelController.IA_KEY_QUALITY_CHANGE="ia_key_quality_change",PlayerPixelController.STREAM_LOAD="stream_load",PlayerPixelController.INTERACTION_INITIAL_PLAY="interaction_initial_play",PlayerPixelController.CLIP_ENDED="clip_ended",PlayerPixelController.CLIP_ERROR="clip_error",PlayerPixelController.STREAM_ERROR="Stream_error",PlayerPixelController.PLAYER_LOADING="player_loading",PlayerPixelController.PLAYER_UNLOAD="player_unloading",PlayerPixelController.SUPER_SUBTITLE_ACTIVATION="super_subtitle_activation",PlayerPixelController.SUPER_SUBTITLE_DEACTIVATION="super_subtitle_deactivation",PlayerPixelController.SUPER_VOLUME_MUTE="super_volume_mute",PlayerPixelController.SUPER_VOLUME_UNMUTE="super_volume_unmute",PlayerPixelController.SUPER_VOLUME_CHANGE="super_volume_change",PlayerPixelController.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD="super_scrubbar_change_position_forward",PlayerPixelController.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND="super_scrubbar_change_position_rewind",PlayerPixelController.SUPER_FULLSCREEN_ACTIVATION="super_fullscreen_activation",PlayerPixelController.SUPER_FULLSCREEN_DEACTIVATION="super_fullscreen_deactivation",PlayerPixelController.SUPER_PLAY="super_play",PlayerPixelController.SUPER_PAUSE="super_pause",PlayerPixelController.SUPER_REPLAY="super_replay",PlayerPixelController.SUPER_INITIAL_PLAY="super_initial_play",PlayerPixelController.SUPER_QUALITY_CHANGE="super_quality_change",PlayerPixelController.SUPER_PLUGIN_CHANGE="super_plugin_change",PlayerPixelController.SUPER_BACK_TO_LIVE="super_back_to_live",PlayerPixelController.SUPER_DVR_ACTIVE="super_dvr_active",PlayerPixelController.SUPER_PLAYHEAD_POSITION="super_playhead_position",ns.PlayerPixelController=PlayerPixelController}(ardplayer,ardplayer.jq,ardplayer.console),function(i,r){"use strict";function e(){this.initialize()}var t=e.prototype;t.initialize=function(){},t.execute=function(e,t){this.callback=e,r.ajax({type:"GET",url:t||"xml/test.xml",dataType:"xml",success:i.Delegate.create(this,this.parseXml)})},t.parseXml=function(e){var t=i.PlayerModel.getInstance();t.flashsources=new i.VideoSources,t.flashsources.s=r(e).find("flash sizes s").text(),t.flashsources.m=r(e).find("flash sizes m").text(),r(e).find("flash sizes l").each(function(){"extra"==r(this).attr("type")?t.flashsources.xl=r(this).attr("type")+r(this).text():t.flashsources.l=r(this).text()}),t.htmlsources=new i.VideoSources,t.htmlsources.s=r(e).find("flash sizes s").text(),t.htmlsources.m=r(e).find("flash sizes m").text(),r(e).find("flash sizes l").each(function(){"extra"==r(this).attr("type")?t.htmlsources.xl=r(this).attr("type")+r(this).text():t.htmlsources.l=r(this).text()}),this.callback(t)},i.GetPlayerModelCMD=e}(ardplayer,ardplayer.jq,ardplayer.console),function(u,d){"use strict";function e(){this.initialize()}var t=e.prototype;t.initialize=function(){},t.execute=function(e,t){var i;e&&e instanceof u.Player&&(i=this,d.each(arguments,function(e,t){"function"==typeof t&&(i.__callback=t)}),this._addFlashObject(e.viewCtrl))},t._addFlashObject=function(e){if(e.getMediaCanvas())try{e.getMediaCanvas().remove()}catch(e){}var t=e.player.getId(),t=d('<div id="'+("flashContent"+t)+'"></div>').appendTo(e.viewport);this.mediaCanvasObject=t;this.__callback&&"function"==typeof this.__callback&&this.__callback(this)},t.actualEmbedd=function(e,t){this._createSWFObject(e,t)},t._createSWFObject=function(i,t){var e=i.player.model.playerConfig,r=i.player.model.mediaCollection,a=i.player.getId(),n="flashContent"+a,l=e.getBaseUrl(),o=l+"base/flash/playerProductInstall.swf",e=l+"base/flash/PluginFlash.swf",s=15,h=200;i.showBufferingIndicator(),swfobject.embedSWF(e,n,1,1,"10.2.0",o,function(e,t,i,r,a,n,l){var o={};o.id=e,o.baseUrl=r,o.configPath=r+"base/flash/conf/config.xml",o.uniqueId=a,o.version=u.GlobalModel.VERSION,o.cdns=n,o.sola=escape(JSON.stringify(l)),o.useStageVideo=!1,d.isBlank(i)||t!=u.MediaCollection.TYPE_AUDIO&&(o.subtitlePath=i);return o.useCookieMBRSwitching=!1,o.debug=!1,o}(a,r.getType(),r.getSubtitleUrl(),l,i.player.getUniquePlayerId(),r.getUsedCDNList(),i.player.solaConfiguration),{quality:"high",bgcolor:"#000000",allowscriptaccess:"sameDomain",allowfullscreen:"false",wmode:"opaque"},(r=n,(n={}).name=n.id=r,n.align="middle",n),function(e){e&&e.success?(t.flashPlayerInstance=e.ref,i.registerMediaCanvas(d(e.ref)),function e(t){t.ref&&"function"!=typeof t.ref.loadStreamObject&&(0<--s?setTimeout(function(){e(t)}.bind(this),h):(u.GlobalModel.getInstance().isFlashSupported=!1,i.representationQualityOrder.splice(0,i.representationQualityOrder.length),u.ErrorController.getInstance(i.player).throwStreamError(u.ErrorController.ERROR_PLAYBACK)))}(e)):u.ErrorController.getInstance(i.player).throwError(u.ErrorController.ERROR_DURING_EMBED_FLASH,u.ErrorController.IS_CRITICAL_YES)})},u.GenerateFlashPluginCmd=e}(ardplayer,ardplayer.jq,ardplayer.console),function(r,l){"use strict";function e(e,t){this.initialize(e,t)}var t=e.prototype;t.initialize=function(e,t){this.pc=e.model.playerConfig,this.mc=e.model.mediaCollection,this.g=r.GlobalModel.getInstance(),this.q=this.g.startParams,this.pl=e,this.vc=this.pl.viewCtrl,this.forcedPluginId=t},t.detectPluginToUse=function(){if(0<=this.forcedPluginId)return this.forcedPluginId;function e(){for(var e=-1,t=0;t<r.length;t++){var i=r[t];if(-1!=l.inArray(i,a.g.supportedPlugIns)){e=i;break}}return e}var r=this.mc.getSortierung(),t=this.g.getPluginID(!0),i=t,a=this;if(-1!=l.inArray(t,r))if(-1!=l.inArray(t,this.g.supportedPlugIns)){i=t;var n=!1;try{!1!==this.mc.getMediaArray()[i]&&(n=!0)}catch(e){}n||(i=e())}else i=e();else i=e();return i},t.execute=function(){var i=this,t=this.detectPluginToUse();if(l.each(arguments,function(e,t){"function"==typeof t&&(i.callback=t)}),-1!=t)switch(t){case r.GlobalModel.FLASH:var i=this;(new r.GenerateFlashPluginCmd).execute(this.pl,function(e){i.callback&&"function"==typeof i.callback&&i.callback(e,t)});break;case r.GlobalModel.HTML5:this.mc.getType()===r.MediaCollection.TYPE_AUDIO?(i=this,(new r.GeneratHTMLAudioCmd).execute(this.pl,function(e){i.callback&&"function"==typeof i.callback&&i.callback(e,t)})):this.mc.getType()===r.MediaCollection.TYPE_VIDEO?(i=this,(new r.GeneratHTMLVideoCmd).execute(this.pl,function(e){i.callback&&"function"==typeof i.callback&&i.callback(e,t)})):this.pl.errorCtrl.throwError(r.ErrorController.UNKOWN_TYPE_FOR_HTML,r.ErrorController.IS_CRITICAL_YES,this.mc.getType());break;default:i.callback(null,t),this.pl.errorCtrl.throwError(r.ErrorController.NO_PLUGIN_SUPPORTED,r.ErrorController.IS_CRITICAL_YES)}else i.callback&&"function"==typeof i.callback&&i.callback(null,t)},r.InitPlayerCmd=e}(ardplayer,ardplayer.jq,ardplayer.console),function(a){"use strict";function e(){this.initialize()}var t=e.prototype;t.initialize=function(){},t.execute=function(e,t){var i,r=e||a.GlobalModel.getInstance().startParams;return r&&(i=new a.PlayerConfiguration,this.parseRepresentation(r,i),i.setShowOptions(!(!r.opt||"1"!==r.opt)),i.setShowToolbar(!(!r.tb||"1"!==r.tb)),i.setShowToolbarDownloadButtons(!(!r.tbd||"1"!==r.tbd)),i.setShowToobarQualButtons(!(!r.tbq||"1"!==r.tbq)),i.setShowToobarQualNavButtons(!(!r.tbqn||"1"!==r.tbqn)),i.setZoomEnabled(!(!r.zoom||"1"!==r.zoom)),i.setShowSettings(!(!r.set||"1"!==r.set)),i.setRememberCurrentTime(!r.rem||"0"!==r.rem),i.setAutoPlay(!(!r.auto||"1"!==r.auto)),i.setAutoSave(!(!r.autosv||"1"!==r.autosv)),r.time&&2==r.time.split(",").length&&(e=r.time.split(","),i.setStartStopTime(Number(e[0]),Number(e[1]))),r.dsas&&"1"===r.dsas&&i.setNoSubtitelAtStart()),t&&t(i),i},t.parseRepresentation=function(e,t){if(e.reps){var i=e.reps.split(",");if(i.length%4==0)for(var r=0;0<i.length;)t.setRepresentation(r++,i.shift(),i.shift(),i.shift(),i.shift())}else t.setRepresentation(0,256,144,!1,!0),t.setRepresentation(1,512,288,!1,!0),t.setRepresentation(2,960,540,!0,!0),t.setRepresentation(3,1280,720,!0,!0)},a.GetPlayerConfigByQueryCmd=e}(ardplayer,(ardplayer.jq,ardplayer.console)),function(n,l){"use strict";function e(e){this._player=e,this.initialize()}var t=e.prototype;t.initialize=function(){},t.execute=function(r,e){var a=this;e&&(this._callback=e);e=!0;r&&("object"==typeof r?(e=!1,this.parseData(JSON.parse(JSON.stringify(r)))):l.isBlank(r)||(e=!1,l.getJSON(r,n.Delegate.create(this,this.parseData)).fail(function(e,t,i){a._callback(void 0),a._callback=null,n.ErrorController.getInstance(a._player).throwError(n.ErrorController.PC_JSON_FILE_NOT_FOUND,n.ErrorController.IS_CRITICAL_YES,r)}))),e&&n.ErrorController.getInstance(a._player).throwError(n.ErrorController.PC_JSON_FILE_WRONG_URI,n.ErrorController.IS_CRITICAL_YES,r)},t.parseData=function(e){var r;e&&(r=new n.PlayerConfiguration,l.each(e,function(e,t){"_representationArray"===e?l.each(t,function(e,t){var i={};l.each(t,function(e,t){i[e]=t}),r.setRepresentation(e,null,null,null,null,i._representationClass)}):r[e]=t})),this._callback&&this._callback(r)},n.GetPlayerConfigByJsonCmd=e}(ardplayer,ardplayer.jq,ardplayer.console),function(n,t){"use strict";function e(e){this._player=e,this.initialize()}var i=e.prototype;i.initialize=function(){},i.execute=function(r,e){var a=this;e&&(this._callback=e);e=!0;r&&(r instanceof n.Playlist?(e=!1,this.parseData(JSON.parse(JSON.stringify(r)))):t.isBlank(r)||(e=!1,t.getJSON(r,n.Delegate.create(this,this.parseData)).fail(function(e,t,i){a._callback(void 0),a._callback=null,n.ErrorController.getInstance(a._player).throwError(n.ErrorController.PLAYLIST_JSON_FILE_NOT_FOUND,n.ErrorController.IS_CRITICAL_YES,r)}))),e&&n.ErrorController.getInstance(a._player).throwError(n.ErrorController.PLAYLIST_JSON_FILE_NOT_FOUND,n.ErrorController.IS_CRITICAL_YES,r)},i.parseData=function(e){var i;e&&(i=new n.Playlist,t.each(e,function(e,t){i._playlistItems[e]=t})),this._callback&&this._callback(i)},n.GetPlaylistByJsonCmd=e}(ardplayer,ardplayer.jq,ardplayer.console),function(ns,$,console){"use strict";var GetMediaCollectionByQueryCmd=function(){this.initialize()},p=GetMediaCollectionByQueryCmd.prototype;p.initialize=function(){},p.execute=function(queryObject,callback){var q=queryObject||ns.GlobalModel.getInstance().startParams,mc,type,isLive,defaultQuality,s;return q&&(type="video",q.mct&&"audio"===q.mct.toLowerCase()&&(type="audio"),isLive=!(!q.mcl||"1"!==q.mcl),defaultQuality=0,q.mcd&&!isNaN(Number(q.mcd))&&(defaultQuality=Number(q.mcd)),mc=new ns.MediaCollection(type,isLive,defaultQuality),q.prio&&mc.setSortierung(q.prio.split(",")),q.dwn&&"function"==typeof eval(q.dwn)&&mc.setDownloadClickFunction(eval(q.dwn)),q.pod&&"function"==typeof eval(q.pod)&&mc.setPodcastClickFunction(eval(q.pod)),q.img&&mc.setPreviewImage(q.img),q.imgAud&&mc.setAudioImage(q.imgAud),q.suburl&&(2==q.suburl.split(",").length?(s=q.suburl.split(","),mc.setSubtitleUrl(s[0],Number(s[1]))):mc.setSubtitleUrl(q.suburl)),this.parseMedia(mc,q.s4flash,ns.GlobalModel.FLASH),this.parseMedia(mc,q.s4html,ns.GlobalModel.HTML5)),callback&&callback(mc),mc},p.parseMedia=function(e,t,i){if(t&&0<t.split(",").length&&t.split(",").length%3==0){var r=t.split(","),a=0;for(e.addMedia(i);0<r.length;){var n=$.trim(r.shift()),l=$.trim(r.shift()),o=$.trim(r.shift());e.addMediaStream(i,a++,n,l,o)}}},ns.GetMediaCollectionByQueryCmd=GetMediaCollectionByQueryCmd}(ardplayer,ardplayer.jq,ardplayer.console),function(ns,$,console){"use strict";var GetMediaCollectionByJsonCmd=function(e){this._player=e,this.initialize()},p=GetMediaCollectionByJsonCmd.prototype;p.initialize=function(){},p.execute=function(r,e){var a=this;e&&(this._callback=e);e=!0;r&&("object"==typeof r?(e=!1,this.parseData(JSON.parse(JSON.stringify(r)))):$.isBlank(r)||(e=!1,$.getJSON(r,ns.Delegate.create(this,this.parseData)).fail(function(e,t,i){a._callback(void 0),a._callback=null,ns.ErrorController.getInstance(a._player).throwError(ns.ErrorController.MC_JSON_FILE_NOT_FOUND,ns.ErrorController.IS_CRITICAL_YES,r)}))),e&&ns.ErrorController.getInstance(a._player).throwError(ns.ErrorController.MC_JSON_FILE_WRONG_URI,ns.ErrorController.IS_CRITICAL_YES,r)},p.parseData=function(data){var mc;return data&&(mc=new ns.MediaCollection,$.each(data,function(key,value){"_download"===key?"false"!=value&&0!=value&&mc.setDownloadClickFunction(eval(value)):"_podcast"===key?"false"!=value&&0!=value&&mc.setPodcastClickFunction(eval(value)):"_mediaArray"===key?$.each(value,function(e,t){if(mc.addMedia(t._plugin),t&&t._mediaStreamArray)for(var i=0;i<t._mediaStreamArray.length;i++){var r=t._mediaStreamArray[i];0<(r._server+r._stream).length&&mc.addMediaStream(t._plugin,r._quality,r._server,r._stream,r._cdn,r._label,r._description)}}):"_alternativeMediaArray"===key?$.each(value,function(e,a){$.each(a._mediaArray,function(e,t){if(t&&t._mediaStreamArray)for(var i=0;i<t._mediaStreamArray.length;i++){var r=t._mediaStreamArray[i];0<(r._server+r._stream).length&&mc.addAlternativeMediaStream(a._type[0],t._plugin,r._quality,r._server,r._stream,r._cdn)}})}):mc[key]=value})),this._callback&&this._callback(mc),mc},ns.GetMediaCollectionByJsonCmd=GetMediaCollectionByJsonCmd}(ardplayer,ardplayer.jq,ardplayer.console),function(r,a){"use strict";function n(){this.initialize()}n.solaLibComplete=!1,n.solaLoadCallbacks=[];var e=n.prototype;e.initialize=function(){},e.execute=function(e){var t,i=this;e&&e instanceof r.Player&&(a.each(arguments,function(e,t){"function"==typeof t&&(i.callback=t)}),null!=(t=(this._player=e).solaConfiguration)&&e.model.playerConfig.getSolaAnalyticsEnabled()?(t.beacon&&(window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=t.beacon),t.jslib&&!n.solaLibComplete?(0==n.solaLoadCallbacks.length&&a.getScript(t.jslib).done(r.Delegate.create(i,i._getScriptSuccess)).fail(r.Delegate.create(i,i._getScriptFail)),n.solaLoadCallbacks.push(r.Delegate.create(this,this._addHTML5Video))):i._addHTML5Video()):i._addHTML5Video())},e._getScriptSuccess=function(e,t){n.solaLibComplete=!0;for(var i=null;0<n.solaLoadCallbacks.length;)(i=n.solaLoadCallbacks.shift())&&i()},e._getScriptFail=function(e,t,i){for(var r=null;0<n.solaLoadCallbacks.length;)(r=n.solaLoadCallbacks.shift())&&r()},e._addHTML5Video=function(){var e=this._player.viewCtrl;if(e.getMediaCanvas())try{e.getMediaCanvas().remove()}catch(e){}var t,i=a((new r.Html5MEFactory).createVideo(this._player));i.attr("preload","auto").attr("class","mediaCanvas").attr("autoplay","autoplay").appendTo(e.viewport),i.nodeName="video",null==window.setAkamaiMediaAnalyticsData||(t=e.player.solaConfiguration).metadata&&a.each(t.metadata,function(e,t){window.setAkamaiMediaAnalyticsData(e,t,i[0])}),i.on("contextmenu",function(e){return!1}),i[0].oncontextmenu&&(i[0].oncontextmenu=function(){return!1}),this.callback&&"function"==typeof this.callback&&this.callback(i)},r.GeneratHTMLVideoCmd=n}(ardplayer,ardplayer.jq,ardplayer.console),function(t,r){"use strict";function e(){this.initialize()}var i=e.prototype;i.initialize=function(){},i.execute=function(e){var i=this;e&&e instanceof t.Player&&(r.each(arguments,function(e,t){"function"==typeof t&&(i.callback=t)}),this._addHTML5Audio(e.viewCtrl))},i._addHTML5Audio=function(e){if(e.getMediaCanvas())try{e.getMediaCanvas().remove()}catch(e){}var t=r('<audio preload="auto" class="mediaCanvas"></audio>').appendTo(e.viewport);t.nodeName="audio",t.on("contextmenu",function(e){return!1}),t[0].oncontextmenu&&(t[0].oncontextmenu=function(){return!1}),this.callback&&"function"==typeof this.callback&&this.callback(t)},t.GeneratHTMLAudioCmd=e}(ardplayer,ardplayer.jq,ardplayer.console),function(n,l){Function.prototype.bind=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function i(){return n.apply(this instanceof t?this:e||window,a.concat(r.call(arguments)))}var r=Array.prototype.slice,a=r.call(arguments,1),n=this;return t.prototype=this.prototype,i.prototype=new t,i},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),t<0&&(t+=i)<0&&(t=0);t<i;t++)if(this[t]===e)return t;return-1}),n.purge=function(e){if(e){var t,i,r,a=e.attributes;if(a)for(t=a.length-1;0<=t;--t)"function"==typeof e[r=a[t].name]&&null!==e[r]&&(e[r]=null);if(a=e.childNodes)for(i=a.length,t=0;t<i;t+=1)n.purge(e.childNodes[t])}},n.removeArdPlayer=function(){var i=0==arguments.length||"all"==arguments[0],r=[];l.each(arguments,function(e,t){"all"!=t.toLowerCase()&&r.push(t)});var a=[];for(l.each(n.PlayerModel.getAllPlayer(),function(e,t){t=t.getId();(i||0<=r.indexOf(t))&&a.push(t)});0<a.length;){var e=a.pop(),t=n.PlayerModel.getPlayerById(e);t.stop(),t.dispose(),n.PlayerModel.forceRemovePlayer(t),n.ViewController.forceRemovePlayer(t),n.PlayerModel.autoPlayerAlreadyActive==e&&(n.PlayerModel.autoPlayerAlreadyActive=!1);e=l("#"+e);l(e).remove(),n.purge(e[0])}i&&(n.GlobalModel.resetSingleton(),n.ErrorController.resetSingleton(),n.ViewController.resetSingleton(),n.PlayerModel.resetSingleton(),n.Cookie.resetSingleton(),n.QueryParser.resetSingleton())},n.pluginCallbacks={},n.pluginReady=function(e){n.pluginCallbacks[e]&&"function"==typeof n.pluginCallbacks[e]&&n.pluginCallbacks[e]()},n.pluginAddListener=function(e,t){n.pluginCallbacks[e]=t},n.pluginRemoveListener=function(e){n.pluginCallbacks[e]=null,delete n.pluginCallbacks[e]},n.pluginHasListener=function(e){return null!=n.pluginCallbacks[e]&&null!=n.pluginCallbacks[e]};var e=new Object;e.create=function(i,r){return function(){for(var e=new Array,t=0;t<arguments.length;t++)e.push(arguments[t]);return r.apply(i,e)}},n.Delegate=e,l.randomUUID=function(){for(var e=[],t=0;t<36;t++)e[t]=Math.floor(16*Math.random());e[14]=4,e[19]=3&e[19]|8;for(t=0;t<36;t++)e[t]="0123456789ABCDEF"[e[t]];return e[8]=e[13]=e[18]=e[23]="-",e.join("")},l.crossbrowserPosition=function(e,t){0===(e.type||"").indexOf("touch")&&(e=e.originalEvent.changedTouches[0]);t=(t||e.target).getBoundingClientRect();return{left:e.clientX-t.left,top:e.clientY-t.top}},l.loadImages=function(e,t){var i,r={},a=0,n=0;for(i in e)n++;for(i in e)r[i]=new Image,r[i].onload=function(){++a>=n&&t(r)},r[i].src=e[i]},l.isBlank=function(e){return!e||""===l.trim(e)},l.randomRange=function(e,t){return Math.random()*(t-e)+e},l.fn.ctrl=function(e,a){return"object"!=typeof e&&(e=[e]),a=a||function(){return!1},l(this).keydown(function(i){var r=!0;return l.each(e,function(e,t){i.keyCode==t.toUpperCase().charCodeAt(0)&&i.ctrlKey&&(r=a(i))}),r})},l.fn.exists=function(){return 0<this.length},l.fn.isHiddenByClass=function(){return this.hasClass("ardplayer-hideclass")},l.fn.hideWithClass=function(){return this.each(function(){return l(this).addClass("ardplayer-hideclass")})},l.fn.showWithClass=function(){return this.each(function(){return l(this).removeClass("ardplayer-hideclass")})},l.fn.disableSelection=function(){return l(n).ctrl(["a","s","c"]),this.each(function(){l(this).attr("unselectable","on").addClass("disableUserSelectionOption").each(function(){l(this).attr("unselectable","on").on("selectstart",function(){return!1})})})},l.fn.removeClassPrefix=function(r){return this.each(function(e,t){var i=t.className.split(" ").filter(function(e){return 0!==e.lastIndexOf(r,0)});t.className=l.trim(i.join(" "))}),this}}(ardplayer,ardplayer.jq,ardplayer.console),function(n,l){l(n).ready(function(){var t,r=n.GlobalModel.getInstance().startParams,e=l("div").filter(function(){return l(this).attr("id")&&null!=l(this).attr("id").match(/^player\d{1,2}$/i)}),a=new Array;function i(){var e;t&&t.showWithClass(),a&&0<a.length&&(e=a.shift(),(t=l(e)).hideWithClass(),e=e,r&&r[e+"mc"]&&r[e+"pc"]?new n.Player(e,i):i())}l.each(e,function(e,t){var i=l(t).attr("id");r&&r[i+"mc"]&&r[i+"pc"]&&(l(t).hideWithClass(),a.push(i))}),a.sort(),i()})}(ardplayer,ardplayer.jq,ardplayer.console);var centerPosterImage=function(l,o){return function(){o.removeClass("_imgFullsize");var e,t,i=l.width()/l.height(),r=o.width()/o.height(),a=i/r,n=(e=o.height(),t=l.height(),e<t?(t-e)/2:0);.97<a&&a<1.03?(o.removeClass("_imgFullheight _imgFullwidth"),o.addClass("_imgFullsize"),n=0):i<r?(o.removeClass("_imgFullheight _imgFullsize"),o.addClass("_imgFullwidth")):r<=i&&(o.removeClass("_imgFullwidth _imgFullsize"),o.addClass("_imgFullheight")),o.css("margin-top",n)}};
;
$ = jQuery;})();